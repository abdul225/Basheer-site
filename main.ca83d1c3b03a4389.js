(self.webpackChunkbasheer_site=self.webpackChunkbasheer_site||[]).push([[179],{2011:(lt,De,F)=>{"use strict";F.d(De,{hO:()=>Ve,xv:()=>le,Dh:()=>ae,GT:()=>fe,cc:()=>Te,on:()=>j,pX:()=>oe});var c=F(5e3),L=F(127),O=F(5813);lt=F.hmd(lt);const re=["ngOnDestroy"],oe=(ie,pe,Ce,we={})=>new Proxy(ie,{get:(Ge,Ae)=>Ce.runOutsideAngular(()=>{var rt;if(ie[Ae])return(null===(rt=null==we?void 0:we.spy)||void 0===rt?void 0:rt.get)&&we.spy.get(Ae,ie[Ae]),ie[Ae];if(re.indexOf(Ae)>-1)return()=>{};const Ze=pe.toPromise().then(ft=>{const X=ft&&ft[Ae];return"function"==typeof X?X.bind(ft):X&&X.then?X.then(ge=>Ce.run(()=>ge)):Ce.run(()=>X)});return new Proxy(()=>{},{get:(ft,X)=>Ze[X],apply:(ft,X,ge)=>Ze.then(ye=>{var Ee;const Ne=ye&&ye(...ge);return(null===(Ee=null==we?void 0:we.spy)||void 0===Ee?void 0:Ee.apply)&&we.spy.apply(Ae,ge,Ne),Ne})})})}),fe=(ie,pe)=>{pe.forEach(Ce=>{Object.getOwnPropertyNames(Ce.prototype||Ce).forEach(we=>{Object.defineProperty(ie.prototype,we,Object.getOwnPropertyDescriptor(Ce.prototype||Ce,we))})})};class te{constructor(pe){return pe}}const ae=new c.OlP("angularfire2.app.options"),le=new c.OlP("angularfire2.app.name");function j(ie,pe,Ce){const Ge="object"==typeof Ce&&Ce||{};Ge.name=Ge.name||"string"==typeof Ce&&Ce||"[DEFAULT]";const rt=L.Z.apps.filter(Ze=>Ze&&Ze.name===Ge.name)[0]||pe.runOutsideAngular(()=>L.Z.initializeApp(ie,Ge));try{JSON.stringify(ie)!==JSON.stringify(rt.options)&&U("error",`${rt.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new te(rt)}const U=(ie,...pe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ie](...pe)},ne={provide:te,useFactory:j,deps:[ae,c.R0b,[new c.FiY,le]]};let Ve=(()=>{class ie{constructor(Ce){L.Z.registerVersion("angularfire",O.q4.full,"core"),L.Z.registerVersion("angularfire",O.q4.full,"app-compat"),L.Z.registerVersion("angular",c.q4F.full,Ce.toString())}static initializeApp(Ce,we){return{ngModule:ie,providers:[{provide:ae,useValue:Ce},{provide:le,useValue:we}]}}}return ie.\u0275fac=function(Ce){return new(Ce||ie)(c.LFG(c.Lbi))},ie.\u0275mod=c.oAB({type:ie}),ie.\u0275inj=c.cJS({providers:[ne]}),ie})();function Te(ie,pe,Ce,we,Ge){const[,Ae,rt]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===ie)||[];if(Ae)return function Me(ie,pe){try{return ie.toString()===pe.toString()}catch(Ce){return ie===pe}}(Ge,rt)||(Y("error",`${pe} was already initialized on the ${Ce} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),Y("warn",{is:Ge,was:rt})),Ae;{const Ze=we();return globalThis.\u0275AngularfireInstanceCache.push([ie,Ze,Ge]),Ze}}const Be=!!lt.hot,Y=(ie,...pe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ie](...pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,De,F)=>{"use strict";F.d(De,{q4:()=>cc,iC:()=>hc,HU:()=>ul,vb:()=>Kf,JM:()=>Zf});var c=F(5e3),L=F(5867),O=F(5861),re=F(9681),oe=F(2090),fe=F(4859),te=F(1877),ae=F(2940);const le="@firebase/installations",j="0.5.5",ne=`w:${j}`,Ve="FIS_v2",pe=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ce(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function we({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ge(C){return{token:C.token,requestStatus:2,expiresIn:ye(C.expiresIn),creationTime:Date.now()}}function Ae(C,D){return rt.apply(this,arguments)}function rt(){return(rt=(0,O.Z)(function*(C,D){const N=(yield D.json()).error;return pe.create("request-failed",{requestName:C,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function Ze({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function ft(C,{refreshToken:D}){const R=Ze(C);return R.append("Authorization",function Ee(C){return`${Ve} ${C}`}(D)),R}function X(C){return ge.apply(this,arguments)}function ge(){return(ge=(0,O.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function ye(C){return Number(C.replace("s","000"))}function Ne(C,D){return de.apply(this,arguments)}function de(){return(de=(0,O.Z)(function*(C,{fid:D}){const R=we(C),ce={method:"POST",headers:Ze(C),body:JSON.stringify({fid:D,authVersion:Ve,appId:C.appId,sdkVersion:ne})},Re=yield X(()=>fetch(R,ce));if(Re.ok){const tt=yield Re.json();return{fid:tt.fid||D,registrationStatus:2,refreshToken:tt.refreshToken,authToken:Ge(tt.authToken)}}throw yield Ae("Create Installation",Re)})).apply(this,arguments)}function At(C){return new Promise(D=>{setTimeout(D,C)})}const Gn=/^[cdef][\w-]{21}$/;function dt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function ci(C){return function tn(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Gn.test(R)?R:""}catch(C){return""}}function ln(C){return`${C.appName}!${C.appId}`}const bi=new Map;function Yt(C,D){const R=ln(C);mn(R,D),function In(C,D){const R=function rs(){return!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=C=>{mn(C.data.key,C.data.fid)}),Qt}();R&&R.postMessage({key:C,fid:D}),function Xi(){0===bi.size&&Qt&&(Qt.close(),Qt=null)}()}(R,D)}function mn(C,D){const R=bi.get(C);if(R)for(const N of R)N(D)}let Qt=null;const yn="firebase-installations-store";let $n=null;function gt(){return $n||($n=(0,ae.openDb)("firebase-installations-database",1,C=>{0===C.oldVersion&&C.createObjectStore(yn)})),$n}function En(C,D){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,O.Z)(function*(C,D){const R=ln(C),K=(yield gt()).transaction(yn,"readwrite"),ce=K.objectStore(yn),Re=yield ce.get(R);return yield ce.put(D,R),yield K.complete,(!Re||Re.fid!==D.fid)&&Yt(C,D.fid),D})).apply(this,arguments)}function Zt(C){return ui.apply(this,arguments)}function ui(){return(ui=(0,O.Z)(function*(C){const D=ln(C),N=(yield gt()).transaction(yn,"readwrite");yield N.objectStore(yn).delete(D),yield N.complete})).apply(this,arguments)}function bt(C,D){return ot.apply(this,arguments)}function ot(){return(ot=(0,O.Z)(function*(C,D){const R=ln(C),K=(yield gt()).transaction(yn,"readwrite"),ce=K.objectStore(yn),Re=yield ce.get(R),tt=D(Re);return void 0===tt?yield ce.delete(R):yield ce.put(tt,R),yield K.complete,tt&&(!Re||Re.fid!==tt.fid)&&Yt(C,tt.fid),tt})).apply(this,arguments)}function Mt(C){return sn.apply(this,arguments)}function sn(){return(sn=(0,O.Z)(function*(C){let D;const R=yield bt(C,N=>{const K=zn(N),ce=Pt(C,K);return D=ce.registrationPromise,ce.installationEntry});return""===R.fid?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}})).apply(this,arguments)}function zn(C){return ss(C||{fid:dt(),registrationStatus:0})}function Pt(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(pe.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},N=function st(C,D){return it.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:N}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:ko(C)}:{installationEntry:D}}function it(){return(it=(0,O.Z)(function*(C,D){try{return En(C,yield Ne(C,D))}catch(R){throw Ce(R)&&409===R.customData.serverCode?yield Zt(C):yield En(C,{fid:D.fid,registrationStatus:0}),R}})).apply(this,arguments)}function ko(C){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(C){let D=yield wt(C);for(;1===D.registrationStatus;)yield At(100),D=yield wt(C);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:N}=yield Mt(C);return N||R}return D})).apply(this,arguments)}function wt(C){return bt(C,D=>{if(!D)throw pe.create("installation-not-found");return ss(D)})}function ss(C){return function wi(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function _n(C,D){return V.apply(this,arguments)}function V(){return(V=(0,O.Z)(function*({appConfig:C,platformLoggerProvider:D},R){const N=$(C,R),K=ft(C,R),ce=D.getImmediate({optional:!0});ce&&K.append("x-firebase-client",ce.getPlatformInfoString());const tt={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:ne}})},Je=yield X(()=>fetch(N,tt));if(Je.ok)return Ge(yield Je.json());throw yield Ae("Generate Auth Token",Je)})).apply(this,arguments)}function $(C,{fid:D}){return`${we(C)}/${D}/authTokens:generate`}function W(C){return _e.apply(this,arguments)}function _e(){return(_e=(0,O.Z)(function*(C,D=!1){let R;const N=yield bt(C.appConfig,ce=>{if(!Bn(ce))throw pe.create("not-registered");const Re=ce.authToken;if(!D&&ei(Re))return ce;if(1===Re.requestStatus)return R=ee(C,D),ce;{if(!navigator.onLine)throw pe.create("app-offline");const tt=tr(ce);return R=vn(C,tt),tt}});return R?yield R:N.authToken})).apply(this,arguments)}function ee(C,D){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,O.Z)(function*(C,D){let R=yield mt(C.appConfig);for(;1===R.authToken.requestStatus;)yield At(100),R=yield mt(C.appConfig);const N=R.authToken;return 0===N.requestStatus?W(C,D):N})).apply(this,arguments)}function mt(C){return bt(C,D=>{if(!Bn(D))throw pe.create("not-registered");return function se(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function vn(C,D){return xn.apply(this,arguments)}function xn(){return(xn=(0,O.Z)(function*(C,D){try{const R=yield _n(C,D),N=Object.assign(Object.assign({},D),{authToken:R});return yield En(C.appConfig,N),R}catch(R){if(!Ce(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const N=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield En(C.appConfig,N)}else yield Zt(C.appConfig);throw R}})).apply(this,arguments)}function Bn(C){return void 0!==C&&2===C.registrationStatus}function ei(C){return 2===C.requestStatus&&!function Lt(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function tr(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function z(){return(z=(0,O.Z)(function*(C){const D=C,{installationEntry:R,registrationPromise:N}=yield Mt(D.appConfig);return N?N.catch(console.error):W(D).catch(console.error),R.fid})).apply(this,arguments)}function ze(){return(ze=(0,O.Z)(function*(C,D=!1){const R=C;return yield et(R.appConfig),(yield W(R,D)).token})).apply(this,arguments)}function et(C){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(C){const{registrationPromise:D}=yield Mt(C);D&&(yield D)})).apply(this,arguments)}function oa(C){return pe.create("missing-app-config-values",{valueName:C})}const nr="installations",Rt=C=>{const D=C.getProvider("app").getImmediate(),R=function Ei(C){if(!C||!C.options)throw oa("App Configuration");if(!C.name)throw oa("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!C.options[R])throw oa(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:R,platformLoggerProvider:(0,re._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},qt=C=>{const D=C.getProvider("app").getImmediate(),R=(0,re._getProvider)(D,nr).getImmediate();return{getId:()=>function q(C){return z.apply(this,arguments)}(R),getToken:K=>function xe(C){return ze.apply(this,arguments)}(R,K)}};(function qn(){(0,re._registerComponent)(new fe.wA(nr,Rt,"PUBLIC")),(0,re._registerComponent)(new fe.wA("installations-internal",qt,"PRIVATE"))})(),(0,re.registerVersion)(le,j),(0,re.registerVersion)(le,j,"esm2017");const Ds="@firebase/remote-config",Vn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rd{constructor(D,R,N,K){this.client=D,this.storage=R,this.storageCache=N,this.logger=K}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-R,K=N<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${K}.`),K}fetch(D){var R=this;return(0,O.Z)(function*(){const[N,K]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(K&&R.isCachedDataFresh(D.cacheMaxAgeMillis,N))return K;D.eTag=K&&K.eTag;const ce=yield R.client.fetch(D),Re=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Re.push(R.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Re),ce})()}}function Rf(C=navigator){return C.languages&&C.languages[0]||C.language}class xi{constructor(D,R,N,K,ce,Re){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=N,this.projectId=K,this.apiKey=ce,this.appId=Re}fetch(D){var R=this;return(0,O.Z)(function*(){const[N,K]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Je={sdk_version:R.sdkVersion,app_instance_id:N,app_instance_id_token:K,app_id:R.appId,language_code:Rf()},Wt={method:"POST",headers:tt,body:JSON.stringify(Je)},bn=fetch(Re,Wt),Hi=new Promise((mo,yo)=>{D.signal.addEventListener(()=>{const Qo=new Error("The operation was aborted.");Qo.name="AbortError",yo(Qo)})});let Pi;try{yield Promise.race([bn,Hi]),Pi=yield bn}catch(mo){let yo="fetch-client-network";throw"AbortError"===mo.name&&(yo="fetch-timeout"),Vn.create(yo,{originalErrorMessage:mo.message})}let Dn=Pi.status;const Yo=Pi.headers.get("ETag")||void 0;let po,go;if(200===Pi.status){let mo;try{mo=yield Pi.json()}catch(yo){throw Vn.create("fetch-client-parse",{originalErrorMessage:yo.message})}po=mo.entries,go=mo.state}if("INSTANCE_STATE_UNSPECIFIED"===go?Dn=500:"NO_CHANGE"===go?Dn=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(po={}),304!==Dn&&200!==Dn)throw Vn.create("fetch-status",{httpStatus:Dn});return{status:Dn,eTag:Yo,config:po}})()}}class Od{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,O.Z)(function*(){const N=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,N)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:N}){var K=this;return(0,O.Z)(function*(){yield function kd(C,D){return new Promise((R,N)=>{const K=Math.max(D-Date.now(),0),ce=setTimeout(R,K);C.addEventListener(()=>{clearTimeout(ce),N(Vn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const ce=yield K.client.fetch(D);return yield K.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Qc(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ce))throw ce;const Re={throttleEndTimeMillis:Date.now()+(0,oe.$s)(N),backoffCount:N+1};return yield K.storage.setThrottleMetadata(Re),K.attemptFetch(D,Re)}})()}}class Xc{constructor(D,R,N,K,ce){this.app=D,this._client=R,this._storageCache=N,this._storage=K,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jl(C,D){const R=C.target.error||void 0;return Vn.create(D,{originalErrorMessage:R&&R.message})}const Is="app_namespace_store";class tu{constructor(D,R,N,K=function Of(){return new Promise((C,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=N=>{D(jl(N,"storage-open"))},R.onsuccess=N=>{C(N.target.result)},R.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(Is,{keyPath:"compositeKey"})}}catch(R){D(Vn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=D,this.appName=R,this.namespace=N,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,O.Z)(function*(){const N=yield R.openDbPromise;return new Promise((K,ce)=>{const tt=N.transaction([Is],"readonly").objectStore(Is),Je=R.createCompositeKey(D);try{const Wt=tt.get(Je);Wt.onerror=bn=>{ce(jl(bn,"storage-get"))},Wt.onsuccess=bn=>{const Hi=bn.target.result;K(Hi?Hi.value:void 0)}}catch(Wt){ce(Vn.create("storage-get",{originalErrorMessage:Wt&&Wt.message}))}})})()}set(D,R){var N=this;return(0,O.Z)(function*(){const K=yield N.openDbPromise;return new Promise((ce,Re)=>{const Je=K.transaction([Is],"readwrite").objectStore(Is),Wt=N.createCompositeKey(D);try{const bn=Je.put({compositeKey:Wt,value:R});bn.onerror=Hi=>{Re(jl(Hi,"storage-set"))},bn.onsuccess=()=>{ce()}}catch(bn){Re(Vn.create("storage-set",{originalErrorMessage:bn&&bn.message}))}})})()}delete(D){var R=this;return(0,O.Z)(function*(){const N=yield R.openDbPromise;return new Promise((K,ce)=>{const tt=N.transaction([Is],"readwrite").objectStore(Is),Je=R.createCompositeKey(D);try{const Wt=tt.delete(Je);Wt.onerror=bn=>{ce(jl(bn,"storage-delete"))},Wt.onsuccess=()=>{K()}}catch(Wt){ce(Vn.create("storage-delete",{originalErrorMessage:Wt&&Wt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ff{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const R=D.storage.getLastFetchStatus(),N=D.storage.getLastSuccessfulFetchTimestampMillis(),K=D.storage.getActiveConfig(),ce=yield R;ce&&(D.lastFetchStatus=ce);const Re=yield N;Re&&(D.lastSuccessfulFetchTimestampMillis=Re);const tt=yield K;tt&&(D.activeConfig=tt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Pf(){return ua.apply(this,arguments)}function ua(){return(ua=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}!function nu(){(0,re._registerComponent)(new fe.wA("remote-config",function C(D,{instanceIdentifier:R}){const N=D.getProvider("app").getImmediate(),K=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vn.create("registration-window");if(!(0,oe.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:ce,apiKey:Re,appId:tt}=N.options;if(!ce)throw Vn.create("registration-project-id");if(!Re)throw Vn.create("registration-api-key");if(!tt)throw Vn.create("registration-app-id");const Je=new tu(tt,N.name,R=R||"firebase"),Wt=new Ff(Je),bn=new te.Yd(Ds);bn.logLevel=te.in.ERROR;const Hi=new xi(K,re.SDK_VERSION,R,ce,Re,tt),Pi=new Od(Hi,Je),Dn=new Rd(Pi,Je,Wt,bn),Yo=new Xc(N,Dn,Wt,Je,bn);return function fn(C){const D=(0,oe.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Yo),Yo},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Ds,"0.3.4"),(0,re.registerVersion)(Ds,"0.3.4","esm2017")}();const Nf="/firebase-messaging-sw.js",ls="/firebase-cloud-messaging-push-scope",iu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cs="google.c.a.c_id",us="google.c.a.c_l",ru="google.c.a.ts",Fo="google.c.a.e";var Po=(()=>{return(C=Po||(Po={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Po;var C})();function rr(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pd(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(R),K=new Uint8Array(N.length);for(let ce=0;ce<N.length;++ce)K[ce]=N.charCodeAt(ce);return K}const Cn="fcm_token_details_db",Za="fcm_token_object_Store";function su(C){return ou.apply(this,arguments)}function ou(){return ou=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Cn))return null;let D=null;return(yield(0,ae.openDb)(Cn,5,function(){var N=(0,O.Z)(function*(K){var ce;if(K.oldVersion<2||!K.objectStoreNames.contains(Za))return;const Re=K.transaction.objectStore(Za),tt=yield Re.index("fcmSenderId").get(C);if(yield Re.clear(),tt)if(2===K.oldVersion){const Je=tt;if(!Je.auth||!Je.p256dh||!Je.endpoint)return;D={token:Je.fcmToken,createTime:null!==(ce=Je.createTime)&&void 0!==ce?ce:Date.now(),subscriptionOptions:{auth:Je.auth,p256dh:Je.p256dh,endpoint:Je.endpoint,swScope:Je.swScope,vapidKey:"string"==typeof Je.vapidKey?Je.vapidKey:rr(Je.vapidKey)}}}else if(3===K.oldVersion){const Je=tt;D={token:Je.fcmToken,createTime:Je.createTime,subscriptionOptions:{auth:rr(Je.auth),p256dh:rr(Je.p256dh),endpoint:Je.endpoint,swScope:Je.swScope,vapidKey:rr(Je.vapidKey)}}}else if(4===K.oldVersion){const Je=tt;D={token:Je.fcmToken,createTime:Je.createTime,subscriptionOptions:{auth:rr(Je.auth),p256dh:rr(Je.p256dh),endpoint:Je.endpoint,swScope:Je.swScope,vapidKey:rr(Je.vapidKey)}}}});return function(K){return N.apply(this,arguments)}}())).close(),yield(0,ae.deleteDb)(Cn),yield(0,ae.deleteDb)("fcm_vapid_details_db"),yield(0,ae.deleteDb)("undefined"),da(D)?D:null}),ou.apply(this,arguments)}function da(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Ts="firebase-messaging-store";let Lo=null;function Nn(){return Lo||(Lo=(0,ae.openDb)("firebase-messaging-database",1,C=>{0===C.oldVersion&&C.createObjectStore(Ts)})),Lo}function Ka(C){return gr.apply(this,arguments)}function gr(){return(gr=(0,O.Z)(function*(C){const D=ds(C),N=yield(yield Nn()).transaction(Ts).objectStore(Ts).get(D);if(N)return N;{const K=yield su(C.appConfig.senderId);if(K)return yield Ri(C,K),K}})).apply(this,arguments)}function Ri(C,D){return ni.apply(this,arguments)}function ni(){return(ni=(0,O.Z)(function*(C,D){const R=ds(C),K=(yield Nn()).transaction(Ts,"readwrite");return yield K.objectStore(Ts).put(D,R),yield K.complete,D})).apply(this,arguments)}function Ya(C){return ha.apply(this,arguments)}function ha(){return(ha=(0,O.Z)(function*(C){const D=ds(C),N=(yield Nn()).transaction(Ts,"readwrite");yield N.objectStore(Ts).delete(D),yield N.complete})).apply(this,arguments)}function ds({appConfig:C}){return C.appId}const Sn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fa(C,D){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,O.Z)(function*(C,D){const R=yield Qa(C),N=io(D),K={method:"POST",headers:R,body:JSON.stringify(N)};let ce;try{ce=yield(yield fetch(to(C.appConfig),K)).json()}catch(Re){throw Sn.create("token-subscribe-failed",{errorInfo:Re})}if(ce.error)throw Sn.create("token-subscribe-failed",{errorInfo:ce.error.message});if(!ce.token)throw Sn.create("token-subscribe-no-token");return ce.token})).apply(this,arguments)}function Or(C,D){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,O.Z)(function*(C,D){const R=yield Qa(C),N=io(D.subscriptionOptions),K={method:"PATCH",headers:R,body:JSON.stringify(N)};let ce;try{ce=yield(yield fetch(`${to(C.appConfig)}/${D.token}`,K)).json()}catch(Re){throw Sn.create("token-update-failed",{errorInfo:Re})}if(ce.error)throw Sn.create("token-update-failed",{errorInfo:ce.error.message});if(!ce.token)throw Sn.create("token-update-no-token");return ce.token})).apply(this,arguments)}function eo(C,D){return at.apply(this,arguments)}function at(){return(at=(0,O.Z)(function*(C,D){const N={method:"DELETE",headers:yield Qa(C)};try{const ce=yield(yield fetch(`${to(C.appConfig)}/${D}`,N)).json();if(ce.error)throw Sn.create("token-unsubscribe-failed",{errorInfo:ce.error.message})}catch(K){throw Sn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function to({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Qa(C){return no.apply(this,arguments)}function no(){return(no=(0,O.Z)(function*({appConfig:C,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function io({p256dh:C,auth:D,endpoint:R,vapidKey:N}){const K={web:{endpoint:R,auth:D,p256dh:C}};return N!==iu&&(K.web.applicationPubKey=N),K}const Ja=6048e5;function Gl(C){return $l.apply(this,arguments)}function $l(){return($l=(0,O.Z)(function*(C){const D=yield ki(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:rr(D.getKey("auth")),p256dh:rr(D.getKey("p256dh"))},N=yield Ka(C.firebaseDependencies);if(N){if(pa(N.subscriptionOptions,R))return Date.now()>=N.createTime+Ja?Xa(C,{token:N.token,createTime:Date.now(),subscriptionOptions:R}):N.token;try{yield eo(C.firebaseDependencies,N.token)}catch(K){console.warn(K)}return Vo(C.firebaseDependencies,R)}return Vo(C.firebaseDependencies,R)})).apply(this,arguments)}function Se(C){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(C){const D=yield Ka(C.firebaseDependencies);D&&(yield eo(C.firebaseDependencies,D.token),yield Ya(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Xa(C,D){return un.apply(this,arguments)}function un(){return(un=(0,O.Z)(function*(C,D){try{const R=yield Or(C.firebaseDependencies,D),N=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield Ri(C.firebaseDependencies,N),R}catch(R){throw yield Se(C),R}})).apply(this,arguments)}function Vo(C,D){return ro.apply(this,arguments)}function ro(){return(ro=(0,O.Z)(function*(C,D){const N={token:yield fa(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Ri(C,N),N.token})).apply(this,arguments)}function ki(C,D){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,O.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pd(D)})})).apply(this,arguments)}function pa(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function ga(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function zl(C,D){if(!D.notification)return;C.notification={};const R=D.notification.title;R&&(C.notification.title=R);const N=D.notification.body;N&&(C.notification.body=N);const K=D.notification.image;K&&(C.notification.image=K)}(D,C),function ma(C,D){!D.data||(C.data=D.data)}(D,C),function Uo(C,D){if(!D.fcmOptions)return;C.fcmOptions={};const R=D.fcmOptions.link;R&&(C.fcmOptions.link=R);const N=D.fcmOptions.analytics_label;N&&(C.fcmOptions.analyticsLabel=N)}(D,C),D}function fi(C){return"object"==typeof C&&!!C&&cs in C}function mr(C,D){const R=[];for(let N=0;N<C.length;N++)R.push(C.charAt(N)),N<D.length&&R.push(D.charAt(N));return R.join("")}function Fr(C){return Sn.create("missing-app-config-values",{valueName:C})}mr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hs{constructor(D,R,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function au(C){if(!C||!C.options)throw Fr("App Configuration Object");if(!C.name)throw Fr("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const N of D)if(!R[N])throw Fr(N);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:K,installations:R,analyticsProvider:N}}_delete(){return Promise.resolve()}}function el(C){return so.apply(this,arguments)}function so(){return(so=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Nf,{scope:ls}),C.swRegistration.update().catch(()=>{})}catch(D){throw Sn.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function ql(C,D){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield el(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Sn.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Wl(C,D){return oo.apply(this,arguments)}function oo(){return(oo=(0,O.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=iu)})).apply(this,arguments)}function ao(){return(ao=(0,O.Z)(function*(C,D){if(!navigator)throw Sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Sn.create("permission-blocked");return yield Wl(C,null==D?void 0:D.vapidKey),yield ql(C,null==D?void 0:D.serviceWorkerRegistration),Gl(C)})).apply(this,arguments)}function lu(C,D,R){return ya.apply(this,arguments)}function ya(){return(ya=(0,O.Z)(function*(C,D,R){const N=_a(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:R[cs],message_name:R[us],message_time:R[ru],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _a(C){switch(C){case Po.NOTIFICATION_CLICKED:return"notification_open";case Po.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yl(){return(Yl=(0,O.Z)(function*(C,D){const R=D.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===Po.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ga(R)):C.onMessageHandler.next(ga(R)));const N=R.data;fi(N)&&"1"===N[Fo]&&(yield lu(C,R.messageType,N))})).apply(this,arguments)}const va="@firebase/messaging",Ho=C=>{const D=new hs(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Kl(C,D){return Yl.apply(this,arguments)}(D,R)),D},Lf=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:N=>function Zl(C,D){return ao.apply(this,arguments)}(D,N)}};function Zn(){return pi.apply(this,arguments)}function pi(){return(pi=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,oe.hl)()&&(yield(0,oe.eu)())&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bf(){(0,re._registerComponent)(new fe.wA("messaging",Ho,"PUBLIC")),(0,re._registerComponent)(new fe.wA("messaging-internal",Lf,"PRIVATE")),(0,re.registerVersion)(va,"0.9.7"),(0,re.registerVersion)(va,"0.9.7","esm2017")}();const Go="analytics",$o="firebase_id",Vf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pr="https://www.googletagmanager.com/gtag/js",Un=new te.Yd("@firebase/analytics");function Nd(C){return Promise.all(C.map(D=>D.catch(R=>R)))}function Ld(C,D){const R=document.createElement("script");R.src=`${Pr}?l=${C}&id=${D}`,R.async=!0,document.head.appendChild(R)}function uu(C,D,R,N,K,ce){return lo.apply(this,arguments)}function lo(){return(lo=(0,O.Z)(function*(C,D,R,N,K,ce){const Re=N[K];try{if(Re)yield D[Re];else{const Je=(yield Nd(R)).find(Wt=>Wt.measurementId===K);Je&&(yield D[Je.appId])}}catch(tt){Un.error(tt)}C("config",K,ce)})).apply(this,arguments)}function Ea(C,D,R,N,K){return du.apply(this,arguments)}function du(){return(du=(0,O.Z)(function*(C,D,R,N,K){try{let ce=[];if(K&&K.send_to){let Re=K.send_to;Array.isArray(Re)||(Re=[Re]);const tt=yield Nd(R);for(const Je of Re){const Wt=tt.find(Hi=>Hi.measurementId===Je),bn=Wt&&D[Wt.appId];if(!bn){ce=[];break}ce.push(bn)}}0===ce.length&&(ce=Object.values(D)),yield Promise.all(ce),C("event",N,K||{})}catch(ce){Un.error(ce)}})).apply(this,arguments)}function hu(){const C=window.document.getElementsByTagName("script");for(const D of Object.values(C))if(D.src&&D.src.includes(Pr))return D;return null}const Oi=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ic=new class nl{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Wo(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function il(C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(C){var D;const{appId:R,apiKey:N}=C,K={method:"GET",headers:Wo(N)},ce=Vf.replace("{app-id}",R),Re=yield fetch(ce,K);if(200!==Re.status&&304!==Re.status){let tt="";try{const Je=yield Re.json();(null===(D=Je.error)||void 0===D?void 0:D.message)&&(tt=Je.error.message)}catch(Je){}throw Oi.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:tt})}return Re.json()})).apply(this,arguments)}function Rs(C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(C,D=ic,R){const{appId:N,apiKey:K,measurementId:ce}=C.options;if(!N)throw Oi.create("no-app-id");if(!K){if(ce)return{measurementId:ce,appId:N};throw Oi.create("no-api-key")}const Re=D.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new ks;return setTimeout((0,O.Z)(function*(){tt.abort()}),void 0!==R?R:6e4),rl({appId:N,apiKey:K,measurementId:ce},Re,tt,D)})).apply(this,arguments)}function rl(C,D,R){return fu.apply(this,arguments)}function fu(){return(fu=(0,O.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:R},N,K=ic){const{appId:ce,measurementId:Re}=C;try{yield xa(N,D)}catch(tt){if(Re)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${tt.message}]`),{appId:ce,measurementId:Re};throw tt}try{const tt=yield il(C);return K.deleteThrottleMetadata(ce),tt}catch(tt){if(!Ca(tt)){if(K.deleteThrottleMetadata(ce),Re)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${tt.message}]`),{appId:ce,measurementId:Re};throw tt}const Je=503===Number(tt.customData.httpStatus)?(0,oe.$s)(R,K.intervalMillis,30):(0,oe.$s)(R,K.intervalMillis),Wt={throttleEndTimeMillis:Date.now()+Je,backoffCount:R+1};return K.setThrottleMetadata(ce,Wt),Un.debug(`Calling attemptFetch again in ${Je} millis`),rl(C,Wt,N,K)}})).apply(this,arguments)}function xa(C,D){return new Promise((R,N)=>{const K=Math.max(D-Date.now(),0),ce=setTimeout(R,K);C.addEventListener(()=>{clearTimeout(ce),N(Oi.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Ca(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class ks{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function Os(){return yr.apply(this,arguments)}function yr(){return(yr=(0,O.Z)(function*(){if(!(0,oe.hl)())return Un.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(C){return Un.warn(Oi.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Fs(){return(Fs=(0,O.Z)(function*(C,D,R,N,K,ce,Re){var tt;const Je=Rs(C);Je.then(Dn=>{R[Dn.measurementId]=Dn.appId,C.options.measurementId&&Dn.measurementId!==C.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Dn=>Un.error(Dn)),D.push(Je);const Wt=Os().then(Dn=>{if(Dn)return N.getId()}),[bn,Hi]=yield Promise.all([Je,Wt]);hu()||Ld(ce,bn.measurementId),K("js",new Date);const Pi=null!==(tt=null==Re?void 0:Re.config)&&void 0!==tt?tt:{};return Pi.origin="firebase",Pi.update=!0,null!=Hi&&(Pi[$o]=Hi),K("config",bn.measurementId,Pi),bn.measurementId})).apply(this,arguments)}class sl{constructor(D){this.app=D}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},rc=[];const Ud={};let zt,or,fs="dataLayer",Fi=!1;function He(C,D,R){!function Mn(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((N,K)=>`(${K+1}) ${N}`).join(" "),R=Oi.create("invalid-analytics-context",{errorInfo:D});Un.warn(R.message)}}();const N=C.options.appId;if(!N)throw Oi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Oi.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[N])throw Oi.create("already-exists",{id:N});if(!Fi){!function zo(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(fs);const{wrappedGtag:ce,gtagCore:Re}=function tc(C,D,R,N,K){let ce=function(...Re){window[N].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ce=window[K]),window[K]=function Bd(C,D,R,N){function ce(){return(ce=(0,O.Z)(function*(Re,tt,Je){try{"event"===Re?yield Ea(C,D,R,tt,Je):"config"===Re?yield uu(C,D,R,N,tt,Je):C("set",tt)}catch(Wt){Un.error(Wt)}})).apply(this,arguments)}return function K(Re,tt,Je){return ce.apply(this,arguments)}}(ce,C,D,R),{gtagCore:ce,wrappedGtag:window[K]}}(Wr,rc,Ud,fs,"gtag");or=ce,zt=Re,Fi=!0}return Wr[N]=function co(C,D,R,N,K,ce,Re){return Fs.apply(this,arguments)}(C,rc,Ud,D,zt,fs,R),new sl(C)}function Zo(){return(Zo=(0,O.Z)(function*(C,D,R,N,K){if(K&&K.global)C("event",R,N);else{const ce=yield D;C("event",R,Object.assign(Object.assign({},N),{send_to:ce}))}})).apply(this,arguments)}function Uf(){return ac.apply(this,arguments)}function ac(){return(ac=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}const ho="@firebase/analytics";!function gi(){(0,re._registerComponent)(new fe.wA(Go,(D,{options:R})=>He(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,re._registerComponent)(new fe.wA("analytics-internal",function C(D){try{const R=D.getProvider(Go).getImmediate();return{logEvent:(N,K,ce)=>function $d(C,D,R,N){C=(0,oe.m9)(C),function Hd(C,D,R,N,K){return Zo.apply(this,arguments)}(or,Wr[C.app.options.appId],D,R,N).catch(K=>Un.error(K))}(R,N,K,ce)}}catch(R){throw Oi.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,re.registerVersion)(ho,"0.7.5"),(0,re.registerVersion)(ho,"0.7.5","esm2017")}();var lc=F(4408),Gf=F(7565);const ar=new class $f extends Gf.v{}(class al extends lc.o{constructor(D,R){super(D,R),this.scheduler=D,this.work=R}schedule(D,R=0){return R>0?super.schedule(D,R):(this.delay=R,this.state=D,this.scheduler.flush(this),this)}execute(D,R){return R>0||this.closed?super.execute(D,R):this._execute(D,R)}requestAsyncId(D,R,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(D,R,N):D.flush(this)}});var mu=F(4986),ll=F(8505),cl=F(9468),zd=F(5363);const cc=new c.GfV("7.2.0"),qd="__angularfire_symbol__analyticsIsSupported",Aa="__angularfire_symbol__remoteConfigIsSupported",Ko="__angularfire_symbol__messagingIsSupported";function Zf(C,D,R){if(D){if(1===D.length)return D[0];const ce=D.filter(Re=>Re.app===R);if(1===ce.length)return ce[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[qd]||(globalThis[qd]=Uf().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[Ko]||(globalThis[Ko]=Zn().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[Aa]||(globalThis[Aa]=Pf().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const Kf=(C,D)=>{const R=D?[D]:(0,L.C6)(),N=[];return R.forEach(K=>{K.container.getProvider(C).instances.forEach(Re=>{N.includes(Re)||N.push(Re)})}),N};function Ia(){}class uc{constructor(D,R=ar){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,N){const K=this.zone;return this.delegate.schedule(function(Re){K.runGuarded(()=>{D.apply(this,[Re])})},R,N)}}class Wd{constructor(D){this.zone=D,this.task=null}call(D,R){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ia,{},Ia,Ia)),R.pipe((0,ll.b)({next:N,complete:N,error:N})).subscribe(D).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ul=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new uc(Zone.current)),this.insideAngular=R.run(()=>new uc(Zone.current,mu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function gs(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function hc(C){return gs(),function Yf(C){return function(R){return(R=R.lift(new Wd(C.ngZone))).pipe((0,cl.R)(C.outsideAngular),(0,zd.Q)(C.insideAngular))}}(gs())(C)}},4786:(lt,De,F)=>{"use strict";F.d(De,{$:()=>Wl,A:()=>ct,E:()=>As,G:()=>xi,I:()=>kr,K:()=>Pn,L:()=>Ka,M:()=>Ya,N:()=>ha,P:()=>Qf,Q:()=>ds,R:()=>Kf,T:()=>ni,U:()=>Bo,V:()=>Or,W:()=>Qa,X:()=>ga,Y:()=>ma,Z:()=>fi,_:()=>hs,a:()=>zt,a0:()=>Zl,a1:()=>lu,a2:()=>_a,a3:()=>Yl,a4:()=>Ql,a5:()=>Lf,a6:()=>Bf,a7:()=>pi,a8:()=>On,a9:()=>Am,aA:()=>tp,aB:()=>mb,aC:()=>hi,aG:()=>Zr,aJ:()=>Sn,aa:()=>Im,ab:()=>Go,ae:()=>Vf,af:()=>Un,ag:()=>Nd,aj:()=>$l,ak:()=>nc,am:()=>rl,an:()=>yr,ao:()=>la,ap:()=>$n,aq:()=>as,ar:()=>Oo,as:()=>In,at:()=>_c,au:()=>Sm,av:()=>Qt,aw:()=>Pe,ax:()=>En,ay:()=>ir,az:()=>rp,b:()=>fs,c:()=>Je,d:()=>Pi,e:()=>bn,f:()=>yb,g:()=>vb,h:()=>_b,i:()=>lc,j:()=>ep,k:()=>Fm,l:()=>gs,m:()=>Ra,o:()=>At,r:()=>Kr,s:()=>Wd,u:()=>Yf,z:()=>ln});var c=F(5861),L=F(2090),O=F(9681);function te(v,p){var m={};for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&p.indexOf(b)<0&&(m[b]=v[b]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(b=Object.getOwnPropertySymbols(v);T<b.length;T++)p.indexOf(b[T])<0&&Object.prototype.propertyIsEnumerable.call(v,b[T])&&(m[b[T]]=v[b[T]])}return m}var Ee=F(1877),Ne=F(4859);const At={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ct={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ln=function dt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},bi=function ci(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Yt=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ji=new Ee.Yd("@firebase/auth");function mn(v,...p){Ji.logLevel<=Ee.in.ERROR&&Ji.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function In(v,...p){throw er(v,...p)}function Qt(v,...p){return er(v,...p)}function rs(v,p,m){const b=Object.assign(Object.assign({},bi()),{[p]:m});return new L.LL("auth","Firebase",b).create(p,{appName:v.name})}function Xi(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&In(v,"argument-error"),rs(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function er(v,...p){if("string"!=typeof v){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return Yt.create(v,...p)}function Pe(v,p,...m){if(!v)throw er(p,...m)}function yn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw mn(p),new Error(p)}function $n(v,p){v||yn(p)}const gt=new Map;function En(v){$n(v instanceof Function,"Expected a class definition");let p=gt.get(v);return p?($n(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,gt.set(v,p),p)}function ui(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function bt(){return"http:"===ot()||"https:"===ot()}function ot(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class zn{constructor(p,m){this.shortDelay=p,this.longDelay=m,$n(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Mt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pt(v,p){$n(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class st{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const it={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ko=new zn(3e4,6e4);function cn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function wt(v,p,m,b){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(v,p,m,b,T={}){return wi(v,T,(0,c.Z)(function*(){let k={},Z={};b&&("GET"===p?Z=b:k={body:JSON.stringify(b)});const ve=(0,L.xO)(Object.assign({key:v.config.apiKey},Z)).slice(1),Qe=yield v._getAdditionalHeaders();return Qe["Content-Type"]="application/json",v.languageCode&&(Qe["X-Firebase-Locale"]=v.languageCode),st.fetch()(W(v,v.config.apiHost,m,ve),Object.assign({method:p,headers:Qe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function wi(v,p,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(v,p,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},it),p);try{const T=new _e(v),k=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const Z=yield k.json();if("needConfirmation"in Z)throw ee(v,"account-exists-with-different-credential",Z);if(k.ok&&!("errorMessage"in Z))return Z;{const ve=k.ok?Z.errorMessage:Z.error.message,[Qe,Ue]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw ee(v,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Qe)throw ee(v,"email-already-in-use",Z);const xt=b[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw rs(v,xt,Ue);In(v,xt)}}catch(T){if(T instanceof L.ZR)throw T;In(v,"network-request-failed")}})).apply(this,arguments)}function V(v,p,m,b){return $.apply(this,arguments)}function $(){return($=(0,c.Z)(function*(v,p,m,b,T={}){const k=yield wt(v,p,m,b,T);return"mfaPendingCredential"in k&&In(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function W(v,p,m,b){const T=`${p}${m}?${b}`;return v.config.emulator?Pt(v.config,T):`${v.config.apiScheme}://${T}`}class _e{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Qt(this.auth,"network-request-failed")),ko.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ee(v,p,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const T=Qt(v,p,b);return T.customData._tokenResponse=m,T}function mt(){return(mt=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function vn(v,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Bn(v,p){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Lt(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function q(){return(q=(0,c.Z)(function*(v,p=!1){const m=(0,L.m9)(v),b=yield m.getIdToken(p),T=xe(b);Pe(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,Z=null==k?void 0:k.sign_in_provider;return{claims:T,token:b,authTime:Lt(z(T.auth_time)),issuedAtTime:Lt(z(T.iat)),expirationTime:Lt(z(T.exp)),signInProvider:Z||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function z(v){return 1e3*Number(v)}function xe(v){const[p,m,b]=v.split(".");if(void 0===p||void 0===m||void 0===b)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,L.tV)(m);return T?JSON.parse(T):(mn("Failed to decode base64 JWT payload"),null)}catch(T){return mn("Caught error parsing JWT payload as JSON",T),null}}function et(v,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof L.ZR&&Ht(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function Ht({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class $t{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Fn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lt(this.lastLoginAt),this.creationTime=Lt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function di(v){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(v){var p;const m=v.auth,b=yield v.getIdToken(),T=yield et(v,Bn(m,{idToken:b}));Pe(null==T?void 0:T.users.length,m,"internal-error");const k=T.users[0];v._notifyReloadListener(k);const Z=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?oa(k.providerUserInfo):[],ve=Ei(v.providerData,Z),xt=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==ve?void 0:ve.length)),dn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ve,metadata:new Fn(k.createdAt,k.lastLoginAt),isAnonymous:xt};Object.assign(v,dn)})).apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(v){const p=(0,L.m9)(v);yield di(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ei(v,p){return[...v.filter(b=>!p.some(T=>T.providerId===b.providerId)),...p]}function oa(v){return v.map(p=>{var{providerId:m}=p,b=te(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function We(){return(We=(0,c.Z)(function*(v,p){const m=yield wi(v,{},(0,c.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:k}=v.config,Z=W(v,T,"/v1/token",`key=${k}`),ve=yield v._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(Z,{method:"POST",headers:ve,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Pe(p.idToken,"internal-error"),Pe(void 0!==p.idToken,"internal-error"),Pe(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function ze(v){const p=xe(v);return Pe(p,"internal-error"),Pe(void 0!==p.exp,"internal-error"),Pe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,c.Z)(function*(){return Pe(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:Z}=yield function nr(v,p){return We.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(T,k,Number(Z))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:T,expirationTime:k}=m,Z=new Rt;return b&&(Pe("string"==typeof b,"internal-error",{appName:p}),Z.refreshToken=b),T&&(Pe("string"==typeof T,"internal-error",{appName:p}),Z.accessToken=T),k&&(Pe("number"==typeof k,"internal-error",{appName:p}),Z.expirationTime=k),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Rt,this.toJSON())}_performRefresh(){return yn("not implemented")}}function qt(v,p){Pe("string"==typeof v||void 0===v,"internal-error",{appName:p})}class qn{constructor(p){var{uid:m,auth:b,stsTokenManager:T}=p,k=te(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new $t(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new Fn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const b=yield et(m,m.stsTokenManager.getToken(m.auth,p));return Pe(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function se(v){return q.apply(this,arguments)}(this,p)}reload(){return function ji(v){return fr.apply(this,arguments)}(this)}_assign(p){this!==p&&(Pe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new qn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,c.Z)(function*(){let T=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield di(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield et(p,function Ke(v,p){return mt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,T,k,Z,ve,Qe,Ue,xt;const dn=null!==(b=m.displayName)&&void 0!==b?b:void 0,Rn=null!==(T=m.email)&&void 0!==T?T:void 0,mi=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,Yn=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,ka=null!==(ve=m.tenantId)&&void 0!==ve?ve:void 0,ih=null!==(Qe=m._redirectEventId)&&void 0!==Qe?Qe:void 0,wu=null!==(Ue=m.createdAt)&&void 0!==Ue?Ue:void 0,Ni=null!==(xt=m.lastLoginAt)&&void 0!==xt?xt:void 0,{uid:Oa,emailVerified:Eu,isAnonymous:dp,providerData:rh,stsTokenManager:sh}=m;Pe(Oa&&sh,p,"internal-error");const Lm=Rt.fromJSON(this.name,sh);Pe("string"==typeof Oa,p,"internal-error"),qt(dn,p.name),qt(Rn,p.name),Pe("boolean"==typeof Eu,p,"internal-error"),Pe("boolean"==typeof dp,p,"internal-error"),qt(mi,p.name),qt(Yn,p.name),qt(ka,p.name),qt(ih,p.name),qt(wu,p.name),qt(Ni,p.name);const vc=new qn({uid:Oa,auth:p,email:Rn,emailVerified:Eu,displayName:dn,isAnonymous:dp,photoURL:Yn,phoneNumber:mi,tenantId:ka,stsTokenManager:Lm,createdAt:wu,lastLoginAt:Ni});return rh&&Array.isArray(rh)&&(vc.providerData=rh.map(hp=>Object.assign({},hp))),ih&&(vc._redirectEventId=ih),vc}static _fromIdTokenResponse(p,m,b=!1){return(0,c.Z)(function*(){const T=new Rt;T.updateFromServerResponse(m);const k=new qn({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:b});return yield di(k),k})()}}const Pn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,b){var T=this;return(0,c.Z)(function*(){T.storage[m]=b})()}_get(m){var b=this;return(0,c.Z)(function*(){const T=b.storage[m];return void 0===T?null:T})()}_remove(m){var b=this;return(0,c.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function ir(v,p,m){return`firebase:${v}:${p}:${m}`}class Jt{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:T,name:k}=this.auth;this.fullUserKey=ir(this.userKey,T.apiKey,k),this.fullPersistenceKey=ir("persistence",T.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?qn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Jt(En(Pn),p,b);const T=(yield Promise.all(m.map(function(){var Ue=(0,c.Z)(function*(xt){if(yield xt._isAvailable())return xt});return function(xt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let k=T[0]||En(Pn);const Z=ir(b,p.config.apiKey,p.name);let ve=null;for(const Ue of m)try{const xt=yield Ue._get(Z);if(xt){const dn=qn._fromJSON(p,xt);Ue!==k&&(ve=dn),k=Ue;break}}catch(xt){}const Qe=T.filter(Ue=>Ue._shouldAllowMigration);return k._shouldAllowMigration&&Qe.length?(k=Qe[0],ve&&(yield k._set(Z,ve.toJSON())),yield Promise.all(m.map(function(){var Ue=(0,c.Z)(function*(xt){if(xt!==k)try{yield xt._remove(Z)}catch(dn){}});return function(xt){return Ue.apply(this,arguments)}}())),new Jt(k,p,b)):new Jt(k,p,b)})()}}function Ys(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(os(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Vn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Qs(p))return"Blackberry";if(Wn(p))return"Webos";if(kt(p))return"Safari";if((p.includes("chrome/")||aa(p))&&!p.includes("edge/"))return"Chrome";if(Oo(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Vn(v=(0,L.z$)()){return/firefox\//i.test(v)}function kt(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function aa(v=(0,L.z$)()){return/crios\//i.test(v)}function os(v=(0,L.z$)()){return/iemobile/i.test(v)}function Oo(v=(0,L.z$)()){return/android/i.test(v)}function Qs(v=(0,L.z$)()){return/blackberry/i.test(v)}function Wn(v=(0,L.z$)()){return/webos/i.test(v)}function as(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function la(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Bl(v=(0,L.z$)()){return as(v)||Oo(v)||Wn(v)||Qs(v)||/windows phone/i.test(v)||os(v)}function pr(v,p=[]){let m;switch(v){case"Browser":m=Ys((0,L.z$)());break;case"Worker":m=`${Ys((0,L.z$)())}-${v}`;break;default:m=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${O.SDK_VERSION}/${b}`}class zr{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vl(this),this.idTokenSubscription=new Vl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=En(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,k;if(!b._deleted&&(b.persistenceManager=yield Jt.create(b,p),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(Z){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var b;let T=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const k=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Z=null==T?void 0:T._redirectEventId,ve=yield m.tryRedirectSignIn(p);(!k||k===Z)&&(null==ve?void 0:ve.user)&&(T=ve.user)}return T?T._redirectEventId?(Pe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)):m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(T){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield di(p)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function sn(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const b=p?(0,L.m9)(p):null;return b&&Pe(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return p&&Pe(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(En(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,c.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&En(p)||m._popupRedirectResolver;Pe(b,m,"argument-error"),m.redirectPersistenceManager=yield Jt.create(m,[En(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var b,T;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,T){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe(Z,this,"internal-error"),Z.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,b,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){const m={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(m["X-Firebase-gmpid"]=p.app.options.appId),m})()}}function hi(v){return(0,L.m9)(v)}class Vl{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function As(v,p,m){const b=hi(v);Pe(b._canInitEmulator,b,"emulator-config-failed"),Pe(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),k=Rr(p),{host:Z,port:ve}=function Ul(v){const p=Rr(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const k=T[1];return{host:k,port:Rd(b.substr(k.length+1))}}{const[k,Z]=b.split(":");return{host:k,port:Rd(Z)}}}(p);b.config.emulator={url:`${k}//${Z}${null===ve?"":`:${ve}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Z,port:ve,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Rf(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Rr(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Rd(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class xi{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return yn("not implemented")}_getIdTokenResponse(p){return yn("not implemented")}_linkToIdToken(p,m){return yn("not implemented")}_getReauthenticationResolver(p){return yn("not implemented")}}function kd(v,p){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:resetPassword",cn(v,p))})).apply(this,arguments)}function Od(v,p){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function kf(v,p){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:update",cn(v,p))})).apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(v,p){return V(v,"POST","/v1/accounts:signInWithPassword",cn(v,p))})).apply(this,arguments)}function Hl(v,p){return eu.apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:sendOobCode",cn(v,p))})).apply(this,arguments)}function Of(v,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,c.Z)(function*(v,p){return Hl(v,p)})).apply(this,arguments)}function Ff(v,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(v,p){return Hl(v,p)})).apply(this,arguments)}function Fd(v,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(v,p){return Hl(v,p)})).apply(this,arguments)}function Pf(v,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(v,p){return Hl(v,p)})).apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(v,p){return V(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(v,p){return V(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}class cs extends xi{constructor(p,m,b,T=null){super("password",b),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new cs(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new cs(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function jl(v,p){return Is.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Nf(v,p){return ls.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:In(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Od(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function iu(v,p){return Xs.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:In(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function us(v,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,c.Z)(function*(v,p){return V(v,"POST","/v1/accounts:signInWithIdp",cn(v,p))})).apply(this,arguments)}class kr extends xi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new kr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):In("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T}=m,k=te(m,["providerId","signInMethod"]);if(!b||!T)return null;const Z=new kr(b,T);return Z.idToken=k.idToken||void 0,Z.accessToken=k.accessToken||void 0,Z.secret=k.secret,Z.nonce=k.nonce,Z.pendingToken=k.pendingToken||null,Z}_getIdTokenResponse(p){return us(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,us(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,us(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function Po(v,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:sendVerificationCode",cn(v,p))})).apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(v,p){return V(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p))})).apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(v,p){const m=yield V(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p));if(m.temporaryProof)throw ee(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const su={USER_NOT_FOUND:"user-not-found"};function da(){return(da=(0,c.Z)(function*(v,p){return V(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),su)})).apply(this,arguments)}class No extends xi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new No({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new No({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Pd(v,p){return Cn.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function qr(v,p){return Za.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ou(v,p){return da.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:k}=p;return b||m||T||k?new No({verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:k}):null}}class Lo{constructor(p){var m,b,T,k,Z,ve;const Qe=(0,L.zd)((0,L.pd)(p)),Ue=null!==(m=Qe.apiKey)&&void 0!==m?m:null,xt=null!==(b=Qe.oobCode)&&void 0!==b?b:null,dn=function Tn(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Qe.mode)&&void 0!==T?T:null);Pe(Ue&&xt&&dn,"argument-error"),this.apiKey=Ue,this.operation=dn,this.code=xt,this.continueUrl=null!==(k=Qe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Z=Qe.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ve=Qe.tenantId)&&void 0!==ve?ve:null}static parseLink(p){const m=function Ts(v){const p=(0,L.zd)((0,L.pd)(v)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||m||p||v}(p);try{return new Lo(m)}catch(b){return null}}}let Ka=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return cs._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const T=Lo.parseLink(b);return Pe(T,"argument-error"),cs._fromEmailAndCode(m,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class gr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ri extends gr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ni extends Ri{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Pe("providerId"in m&&"signInMethod"in m,"argument-error"),kr._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Pe(p.idToken||p.accessToken,"argument-error"),kr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ni.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ni.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:k,nonce:Z,providerId:ve}=p;if(!b&&!T&&!m&&!k||!ve)return null;try{return new ni(ve)._credential({idToken:m,accessToken:b,nonce:Z,pendingToken:k})}catch(Qe){return null}}}let Ya=(()=>{class v extends Ri{constructor(){super("facebook.com")}static credential(m){return kr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ha=(()=>{class v extends Ri{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return kr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:T}=m;if(!b&&!T)return null;try{return v.credential(b,T)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ds=(()=>{class v extends Ri{constructor(){super("github.com")}static credential(m){return kr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Sn extends xi{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return us(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,us(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,us(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T,pendingToken:k}=m;return b&&T&&k&&b===T?new Sn(b,k):null}static _create(p,m){return new Sn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bo extends gr{constructor(p){Pe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Bo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Bo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Sn.fromJSON(p);return Pe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Sn._create(b,m)}catch(T){return null}}}let Or=(()=>{class v extends Ri{constructor(){super("twitter.com")}static credential(m,b){return kr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=m;if(!b||!T)return null;try{return v.credential(b,T)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ss(v,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(v,p){return V(v,"POST","/v1/accounts:signUp",cn(v,p))})).apply(this,arguments)}class at{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,T=!1){return(0,c.Z)(function*(){const k=yield qn._fromIdTokenResponse(p,b,T),Z=to(b);return new at({user:k,providerId:Z,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const T=to(b);return new at({user:p,providerId:T,_tokenResponse:b,operationType:m})})()}}function to(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Qa(v){return no.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(v){var p;const m=hi(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new at({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ss(m,{returnSecureToken:!0}),T=yield at._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class io extends L.ZR{constructor(p,m,b,T){var k;super(m.code,m.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,io.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,T){return new io(p,m,b,T)}}function Ja(v,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?io._fromErrorAndOperation(v,k,p,b):k})}function Gl(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function $l(v,p){return Se.apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(v,p){const m=(0,L.m9)(v);yield un(!0,m,p);const{providerUserInfo:b}=yield vn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=Gl(b||[]);return m.providerData=m.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Vt(v,p){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(v,p,m=!1){const b=yield et(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return at._forOperation(v,"link",b)})).apply(this,arguments)}function un(v,p,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(v,p,m){yield di(p);const T=!1===v?"provider-already-linked":"no-such-provider";Pe(Gl(p.providerData).has(m)===v,p.auth,T)})).apply(this,arguments)}function ro(v,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(v,p,m=!1){const{auth:b}=v,T="reauthenticate";try{const k=yield et(v,Ja(b,T,p,v),m);Pe(k.idToken,b,"internal-error");const Z=xe(k.idToken);Pe(Z,b,"internal-error");const{sub:ve}=Z;return Pe(v.uid===ve,b,"user-mismatch"),at._forOperation(v,T,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&In(b,"user-mismatch"),k}})).apply(this,arguments)}function Ms(v,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(v,p,m=!1){const b="signIn",T=yield Ja(v,b,p),k=yield at._fromIdTokenResponse(v,b,T);return m||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function ga(v,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(v,p){return Ms(hi(v),p)})).apply(this,arguments)}function ma(v,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(v,p){const m=(0,L.m9)(v);return yield un(!1,m,p.providerId),Vt(m,p)})).apply(this,arguments)}function fi(v,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(v,p){return ro((0,L.m9)(v),p)})).apply(this,arguments)}function au(v,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(v,p){return V(v,"POST","/v1/accounts:signInWithCustomToken",cn(v,p))})).apply(this,arguments)}function hs(v,p){return el.apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(v,p){const m=hi(v),b=yield au(m,{token:p,returnSecureToken:!0}),T=yield at._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class so{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?ql._fromServerResponse(p,m):In(p,"internal-error")}}class ql extends so{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new ql(m)}}function jo(v,p,m){var b;Pe((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),Pe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Pe(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Pe(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Wl(v,p,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v),T={requestType:"PASSWORD_RESET",email:p};m&&jo(b,T,m),yield Ff(b,T)})).apply(this,arguments)}function Zl(v,p,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(v,p,m){yield kd((0,L.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function lu(v,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(v,p){yield kf((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function _a(v,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(v,p){const m=(0,L.m9)(v),b=yield kd(m,{oobCode:p}),T=b.requestType;switch(Pe(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(b.mfaInfo,m,"internal-error");default:Pe(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=so._fromServerResponse(hi(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:T}})).apply(this,arguments)}function Yl(v,p){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(v,p){const{data:m}=yield _a((0,L.m9)(v),p);return m.email})).apply(this,arguments)}function Ql(v,p,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(v,p,m){const b=hi(v),T=yield Ss(b,{returnSecureToken:!0,email:p,password:m}),k=yield at._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function Lf(v,p,m){return ga((0,L.m9)(v),Ka.credential(p,m))}function Bf(v,p,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v),T={requestType:"EMAIL_SIGNIN",email:p};Pe(m.handleCodeInApp,b,"argument-error"),m&&jo(b,T,m),yield Fd(b,T)})).apply(this,arguments)}function pi(v,p){const m=Lo.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function On(v,p,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v),T=Ka.credentialWithLink(p,m||ui());return Pe(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),ga(b,T)})).apply(this,arguments)}function Jl(v,p){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:createAuthUri",cn(v,p))})).apply(this,arguments)}function Am(v,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(v,p){const b={identifier:p,continueUri:bt()?ui():"http://localhost"},{signinMethods:T}=yield Jl((0,L.m9)(v),b);return T||[]})).apply(this,arguments)}function Im(v,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(v,p){const m=(0,L.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&jo(m.auth,T,p);const{email:k}=yield Of(m.auth,T);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function Go(v,p,m){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&jo(b.auth,k,m);const{email:Z}=yield Pf(b.auth,k);Z!==v.email&&(yield v.reload())})).apply(this,arguments)}function cu(v,p){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(v,p){return wt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vf(v,p){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,L.m9)(v),k={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Z=yield et(b,cu(b.auth,k));b.displayName=Z.displayName||null,b.photoURL=Z.photoUrl||null;const ve=b.providerData.find(({providerId:Qe})=>"password"===Qe);ve&&(ve.displayName=b.displayName,ve.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Un(v,p){return Ld((0,L.m9)(v),p,null)}function Nd(v,p){return Ld((0,L.m9)(v),null,p)}function Ld(v,p,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(v,p,m){const{auth:b}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const Z=yield et(v,Od(b,k));yield v._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class lo{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Ea extends lo{constructor(p,m,b,T){super(p,m,b),this.username=T}}class du extends lo{constructor(p,m){super(p,"facebook.com",m)}}class Bd extends Ea{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class tc extends lo{constructor(p,m){super(p,"google.com",m)}}class hu extends Ea{constructor(p,m,b){super(p,"twitter.com",m,b)}}function nc(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function uu(v){var p,m;if(!v)return null;const{providerId:b}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const Z=null===(m=null===(p=xe(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new lo(k,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!b)return null;switch(b){case"facebook.com":return new du(k,T);case"github.com":return new Bd(k,T);case"google.com":return new tc(k,T);case"twitter.com":return new hu(k,T,v.screenName||null);case"custom":case"anonymous":return new lo(k,null);default:return new lo(k,b,T)}}(m)}class Rs{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Rs("enroll",p)}static _fromMfaPendingCredential(p){return new Rs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Rs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Rs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Nr{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=hi(p),T=m.customData._serverResponse,k=(T.mfaInfo||[]).map(ve=>so._fromServerResponse(b,ve));Pe(T.mfaPendingCredential,b,"internal-error");const Z=Rs._fromMfaPendingCredential(T.mfaPendingCredential);return new Nr(Z,k,function(){var ve=(0,c.Z)(function*(Qe){const Ue=yield Qe._process(b,Z);delete T.mfaInfo,delete T.mfaPendingCredential;const xt=Object.assign(Object.assign({},T),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(m.operationType){case"signIn":const dn=yield at._fromIdTokenResponse(b,m.operationType,xt);return yield b._updateCurrentUser(dn.user),dn;case"reauthenticate":return Pe(m.user,b,"internal-error"),at._forOperation(m.user,m.operationType,xt);default:In(b,"internal-error")}});return function(Qe){return ve.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function rl(v,p){var m;const b=(0,L.m9)(v),T=p;return Pe(p.customData.operationType,b,"argument-error"),Pe(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Nr._fromError(b,T)}function fu(v,p){return wt(v,"POST","/v2/accounts/mfaEnrollment:start",cn(v,p))}class ks{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>so._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new ks(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Rs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,c.Z)(function*(){const T=p,k=yield b.getSession(),Z=yield et(b.user,T._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(Z),b.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const b="string"==typeof p?p:p.uid,T=yield m.user.getIdToken(),k=yield et(m.user,function Ca(v,p){return wt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(v,p))}(m.user.auth,{idToken:T,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==b),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const Os=new WeakMap;function yr(v){const p=(0,L.m9)(v);return Os.has(p)||Os.set(p,ks._fromUser(p)),Os.get(p)}const co="__sak";class Fs{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(co,"1"),this.storage.removeItem(co),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class v extends Fs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sl(){const v=(0,L.z$)();return kt(v)||as(v)}()&&function ca(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Bl(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),k=this.localCache[b];T!==k&&m(b,k,T)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ve,Qe,Ue)=>{this.notifyListeners(ve,Ue)});const T=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(T);if(m.newValue!==ve)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!b)return}const k=()=>{const ve=this.storage.getItem(T);!b&&this.localCache[T]===ve||this.notifyListeners(T,ve)},Z=this.storage.getItem(T);!function fn(){return(0,L.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const k of Array.from(T))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var T=()=>super._set,k=this;return(0,c.Z)(function*(){yield T().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,T=this;return(0,c.Z)(function*(){const k=yield b().call(T,m);return T.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,T=this;return(0,c.Z)(function*(){yield b().call(T,m),delete T.localCache[m]})()}}return v.type="LOCAL",v})(),zt=(()=>{class v extends Fs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let Fi=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const T=new v(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,c.Z)(function*(){const T=m,{eventId:k,eventType:Z,data:ve}=T.data,Qe=b.handlersMap[Z];if(!(null==Qe?void 0:Qe.size))return;T.ports[0].postMessage({status:"ack",eventId:k,eventType:Z});const Ue=Array.from(Qe).map(function(){var dn=(0,c.Z)(function*(Rn){return Rn(T.origin,ve)});return function(Rn){return dn.apply(this,arguments)}}()),xt=yield function or(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(Ue);T.ports[0].postMessage({status:"done",eventId:k,eventType:Z,response:xt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Zr(v="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return v+m}class Mn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var T=this;return(0,c.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Z,ve;return new Promise((Qe,Ue)=>{const xt=Zr("",20);k.port1.start();const dn=setTimeout(()=>{Ue(new Error("unsupported_event"))},b);ve={messageChannel:k,onMessage(Rn){const mi=Rn;if(mi.data.eventId===xt)switch(mi.data.status){case"ack":clearTimeout(dn),Z=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Qe(mi.data.response);break;default:clearTimeout(dn),clearTimeout(Z),Ue(new Error("invalid_response"))}}},T.handlers.add(ve),k.port1.addEventListener("message",ve.onMessage),T.target.postMessage({eventType:p,eventId:xt,data:m},[k.port2])}).finally(()=>{ve&&T.removeMessageHandler(ve)})})()}}function He(){return window}function Zo(){return void 0!==He().WorkerGlobalScope&&"function"==typeof He().importScripts}function ps(){return(ps=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const oc="firebaseLocalStorageDb",Ns="firebaseLocalStorage",pu="fbase_key";class ol{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function pn(v,p){return v.transaction([Ns],p?"readwrite":"readonly").objectStore(Ns)}function ac(){const v=indexedDB.open(oc,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(Ns,{keyPath:pu})}catch(T){m(T)}}),v.addEventListener("success",(0,c.Z)(function*(){const b=v.result;b.objectStoreNames.contains(Ns)?p(b):(b.close(),yield function Uf(){const v=indexedDB.deleteDatabase(oc);return new ol(v).toPromise()}(),p(yield ac()))}))})}function jf(v,p,m){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,c.Z)(function*(v,p,m){const b=pn(v,!0).put({[pu]:p,value:m});return new ol(b).toPromise()})).apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(v,p){const m=pn(v,!1).get(p),b=yield new ol(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function $d(v,p){const m=pn(v,!0).delete(p);return new ol(m).toPromise()}const lc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield ac()),m.db})()}_withRetries(m){var b=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(T++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Zo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Fi._getInstance(function Ps(){return Zo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(T,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(T,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(T,k){return["keyChanged"]});return function(T,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var b,T;if(m.activeServiceWorker=yield function sc(){return ps.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Mn(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=k[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function uo(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ac();return yield jf(m,co,"1"),yield $d(m,co),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(k=>jf(k,m,b)),T.localCache[m]=b,T.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,c.Z)(function*(){const T=yield b._withRetries(k=>function Tm(v,p){return gu.apply(this,arguments)}(k,m));return b.localCache[m]=T,T})()}_remove(m){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(T=>$d(T,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const b=yield m._withRetries(Z=>{const ve=pn(Z,!1).getAll();return new ol(ve).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const T=[],k=new Set;for(const{fbase_key:Z,value:ve}of b)k.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(ve)&&(m.notifyListeners(Z,ve),T.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!k.has(Z)&&(m.notifyListeners(Z,null),T.push(Z));return T})()}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const k of Array.from(T))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function al(v,p){return wt(v,"POST","/v2/accounts/mfaSignIn:start",cn(v,p))}function ar(){return(ar=(0,c.Z)(function*(v){return(yield wt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mu(v){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=T=>{const k=Qt("internal-error");k.customData=T,m(k)},b.type="text/javascript",b.charset="UTF-8",function Ls(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function ll(v){return`__${v}${Math.floor(1e6*Math.random())}`}const cc=1e12;class yu{constructor(p){this.auth=p,this.counter=cc,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new qd(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||cc;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||cc))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var b;return null===(b=m._widgets.get(p||cc))||void 0===b||b.execute(),""})()}}class qd{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;Pe(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zf(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Aa=ll("rcb"),lr=new zn(3e4,6e4);class fo{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!He().grecaptcha}load(p,m=""){return Pe(function gb(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(He().grecaptcha):new Promise((b,T)=>{const k=He().setTimeout(()=>{T(Qt(p,"network-request-failed"))},lr.get());He()[Aa]=()=>{He().clearTimeout(k),delete He()[Aa];const ve=He().grecaptcha;if(!ve)return void T(Qt(p,"internal-error"));const Qe=ve.render;ve.render=(Ue,xt)=>{const dn=Qe(Ue,xt);return this.counter++,dn},this.hostLanguage=m,b(ve)},mu(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Aa,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),T(Qt(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!He().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qf{load(p){return(0,c.Z)(function*(){return new yu(p)})()}clearedOneInstance(){}}const Wf="recaptcha",Zf={theme:"light",type:"image"};class Kf{constructor(p,m=Object.assign({},Zf),b){this.parameters=m,this.type=Wf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hi(b),this.isInvisible="invisible"===this.parameters.size,Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;Pe(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qf:new fo,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const Z=ve=>{!ve||(p.tokenChangeListeners.delete(Z),k(ve))};p.tokenChangeListeners.add(Z),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=He()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){Pe(bt()&&!Zo(),p.auth,"internal-error"),yield function Ia(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function $f(v){return ar.apply(this,arguments)}(p.auth);Pe(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class uc{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=No._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Wd(v,p,m){return ul.apply(this,arguments)}function ul(){return(ul=(0,c.Z)(function*(v,p,m){const b=hi(v),T=yield Ta(b,p,(0,L.m9)(m));return new uc(T,k=>ga(b,k))})).apply(this,arguments)}function gs(v,p,m){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v);yield un(!1,b,"phone");const T=yield Ta(b.auth,p,(0,L.m9)(m));return new uc(T,k=>ma(b,k))})).apply(this,arguments)}function Kr(v,p,m){return dc.apply(this,arguments)}function dc(){return(dc=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v),T=yield Ta(b.auth,p,(0,L.m9)(m));return new uc(T,k=>fi(b,k))})).apply(this,arguments)}function Ta(v,p,m){return hc.apply(this,arguments)}function hc(){return(hc=(0,c.Z)(function*(v,p,m){var b;const T=yield m.verify();try{let k;if(Pe("string"==typeof T,v,"argument-error"),Pe(m.type===Wf,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const Z=k.session;if("phoneNumber"in k)return Pe("enroll"===Z.type,v,"internal-error"),(yield fu(v,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Pe("signin"===Z.type,v,"internal-error");const ve=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return Pe(ve,v,"missing-multi-factor-info"),(yield al(v,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Po(v,{phoneNumber:k.phoneNumber,recaptchaToken:T});return Z}}finally{m._reset()}})).apply(this,arguments)}function Yf(v,p){return _u.apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(v,p){yield Vt((0,L.m9)(v),p)})).apply(this,arguments)}let Qf=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=hi(m)}verifyPhoneNumber(m,b){return Ta(this.auth,m,(0,L.m9)(b))}static credential(m,b){return No._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:T}=m;return b&&T?No._fromTokenResponse(b,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function C(v,p){return p?En(p):(Pe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class D extends xi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return us(p,this._buildIdpRequest())}_linkToIdToken(p,m){return us(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return us(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function R(v){return Ms(v.auth,new D(v),v.bypassAuthState)}function N(v){const{auth:p,user:m}=v;return Pe(m,p,"internal-error"),ro(m,new D(v),v.bypassAuthState)}function K(v){return ce.apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(v){const{auth:p,user:m}=v;return Pe(m,p,"internal-error"),Vt(m,new D(v),v.bypassAuthState)})).apply(this,arguments)}class Re{constructor(p,m,b,T,k=!1){this.auth=p,this.resolver=b,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(b,T){p.pendingPromise={resolve:b,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(b,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:k,tenantId:Z,error:ve,type:Qe}=p;if(ve)return void m.reject(ve);const Ue={auth:m.auth,requestUri:b,sessionId:T,tenantId:Z||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Qe)(Ue))}catch(xt){m.reject(xt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return R;case"linkViaPopup":case"linkViaRedirect":return K;case"reauthViaPopup":case"reauthViaRedirect":return N;default:In(this.auth,"internal-error")}}resolve(p){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tt=new zn(2e3,1e4);function Je(v,p,m){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(v,p,m){const b=hi(v);Xi(v,p,gr);const T=C(b,m);return new Yo(b,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function bn(v,p,m){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v);Xi(b.auth,p,gr);const T=C(b.auth,m);return new Yo(b.auth,"reauthViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}function Pi(v,p,m){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v);Xi(b.auth,p,gr);const T=C(b.auth,m);return new Yo(b.auth,"linkViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}let Yo=(()=>{class v extends Re{constructor(m,b,T,k,Z){super(m,b,k,Z),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const b=yield m.execute();return Pe(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,c.Z)(function*(){$n(1===m.filter.length,"Popup operations only handle one event");const b=Zr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(Qt(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,tt.get())};m()}}return v.currentPopupAction=null,v})();const go=new Map;class mo extends Re{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let b=go.get(m.auth._key());if(!b){try{const k=(yield function yo(v,p){return Qo.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(k)}catch(T){b=()=>Promise.reject(T)}go.set(m.auth._key(),b)}return m.bypassAuthState||go.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const T=yield b.auth._redirectUserForId(p.eventId);if(T)return b.user=T,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Qo(){return(Qo=(0,c.Z)(function*(v,p){const m=fc(p),b=dl(v);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(m));return yield b._remove(m),T})).apply(this,arguments)}function Kd(v,p){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,c.Z)(function*(v,p){return dl(v)._set(fc(p),"true")})).apply(this,arguments)}function mb(){go.clear()}function dl(v){return En(v._redirectPersistence)}function fc(v){return ir("pendingRedirect",v.config.apiKey,v.name)}function yb(v,p,m){return function FC(v,p,m){return Yd.apply(this,arguments)}(v,p,m)}function Yd(){return(Yd=(0,c.Z)(function*(v,p,m){const b=hi(v);Xi(v,p,gr);const T=C(b,m);return yield Kd(T,b),T._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function _b(v,p,m){return function PC(v,p,m){return Xf.apply(this,arguments)}(v,p,m)}function Xf(){return(Xf=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v);Xi(b.auth,p,gr);const T=C(b.auth,m);yield Kd(T,b.auth);const k=yield wb(b);return T._openRedirect(b.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function vb(v,p,m){return function bb(v,p,m){return pc.apply(this,arguments)}(v,p,m)}function pc(){return(pc=(0,c.Z)(function*(v,p,m){const b=(0,L.m9)(v);Xi(b.auth,p,gr);const T=C(b.auth,m);yield un(!1,b,p.providerId),yield Kd(T,b.auth);const k=yield wb(b);return T._openRedirect(b.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function ep(v,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(v,p){return yield hi(v)._initializationPromise,tp(v,p,!1)})).apply(this,arguments)}function tp(v,p){return np.apply(this,arguments)}function np(){return(np=(0,c.Z)(function*(v,p,m=!1){const b=hi(v),T=C(b,p),Z=yield new mo(b,T,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield b._persistUserIfCurrent(Z.user),yield b._setRedirectUser(null,p)),Z})).apply(this,arguments)}function wb(v){return gc.apply(this,arguments)}function gc(){return(gc=(0,c.Z)(function*(v){const p=Zr(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class rp{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function hl(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return op(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!op(p)){const T=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Qt(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sp(p))}saveEventToCache(p){this.cachedEventUids.add(sp(p)),this.lastProcessedEventTime=Date.now()}}function sp(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function op({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Sm(v){return ap.apply(this,arguments)}function ap(){return(ap=(0,c.Z)(function*(v,p={}){return wt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Eb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xb=/^https?/;function Bs(){return(Bs=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Sm(v);for(const m of p)try{if(mc(m))return}catch(b){}In(v,"unauthorized-domain")})).apply(this,arguments)}function mc(v){const p=ui(),{protocol:m,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const Z=new URL(v);return""===Z.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===b}if(!xb.test(m))return!1;if(Eb.test(v))return b===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const Mm=new zn(3e4,6e4);function Rm(){const v=He().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Qd=null;function Ab(v){return Qd=Qd||function Db(v){return new Promise((p,m)=>{var b,T,k;function Z(){Rm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Rm(),m(Qt(v,"network-request-failed"))},timeout:Mm.get()})}if(null===(T=null===(b=He().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=He().gapi)||void 0===k?void 0:k.load)){const ve=ll("iframefcb");return He()[ve]=()=>{gapi.load?Z():m(Qt(v,"network-request-failed"))},mu(`https://apis.google.com/js/api.js?onload=${ve}`).catch(Qe=>m(Qe))}Z()}}).catch(p=>{throw Qd=null,p})}(v),Qd}const Ib=new zn(5e3,15e3),Om={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ci(v){const p=v.config;Pe(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?Pt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},T=yc.get(v.config.apiHost);T&&(b.eid=T);const k=v._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,L.xO)(b).slice(1)}`}function Di(){return Di=(0,c.Z)(function*(v){const p=yield Ab(v),m=He().gapi;return Pe(m,v,"internal-error"),p.open({where:document.body,url:Ci(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Om,dontclear:!0},b=>new Promise(function(){var T=(0,c.Z)(function*(k,Z){yield b.restyle({setHideOnLeave:!1});const ve=Qt(v,"network-request-failed"),Qe=He().setTimeout(()=>{Z(ve)},Ib.get());function Ue(){He().clearTimeout(Qe),k(b)}b.ping(Ue).then(Ue,()=>{Z(ve)})});return function(k,Z){return T.apply(this,arguments)}}()))}),Di.apply(this,arguments)}const jn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function _c(v,p,m,b,T,k){Pe(v.config.authDomain,v,"auth-domain-config-required"),Pe(v.config.apiKey,v,"invalid-api-key");const Z={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:O.SDK_VERSION,eventId:T};if(p instanceof gr){p.setDefaultLanguage(v.languageCode),Z.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Qe,Ue]of Object.entries(k||{}))Z[Qe]=Ue}if(p instanceof Ri){const Qe=p.getScopes().filter(Ue=>""!==Ue);Qe.length>0&&(Z.scopes=Qe.join(","))}v.tenantId&&(Z.tid=v.tenantId);const ve=Z;for(const Qe of Object.keys(ve))void 0===ve[Qe]&&delete ve[Qe];return`${function Hn({config:v}){return v.emulator?Pt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(ve).slice(1)}`}const An="webStorageSupport",Fm=class vu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zt,this._completeRedirectFn=tp}_openPopup(p,m,b,T){var k=this;return(0,c.Z)(function*(){var Z;$n(null===(Z=k.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ve=_c(p,m,b,ui(),T);return function fl(v,p,m,b=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),Z=Math.max((window.screen.availWidth-b)/2,0).toString();let ve="";const Qe=Object.assign(Object.assign({},jn),{width:b.toString(),height:T.toString(),top:k,left:Z}),Ue=(0,L.z$)().toLowerCase();m&&(ve=aa(Ue)?"_blank":m),Vn(Ue)&&(p=p||"http://localhost",Qe.scrollbars="yes");const xt=Object.entries(Qe).reduce((Rn,[mi,Yn])=>`${Rn}${mi}=${Yn},`,"");if(function ti(v=(0,L.z$)()){var p;return as(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ue)&&"_self"!==ve)return function lp(v,p){const m=document.createElement("a");m.href=v,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ve),new eh(null);const dn=window.open(p||"",ve,xt);Pe(dn,v,"popup-blocked");try{dn.focus()}catch(Rn){}return new eh(dn)}(p,ve,Zr())})()}_openRedirect(p,m,b,T){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(p),function Hd(v){He().location.href=v}(_c(p,m,b,ui(),T)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:k}=this.eventManagers[m];return T?Promise.resolve(T):($n(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const b=yield function Jd(v){return Di.apply(this,arguments)}(p),T=new rp(p);return b.register("authEvent",k=>(Pe(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=b,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(An,{type:An},T=>{var k;const Z=null===(k=null==T?void 0:T[0])||void 0===k?void 0:k[An];void 0!==Z&&m(!!Z),In(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Cb(v){return Bs.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Bl()||kt()||as()}};class cp extends class Pm{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return yn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new cp(p)}_finalizeEnroll(p,m,b){return function xa(v,p){return wt(v,"POST","/v2/accounts/mfaEnrollment:finalize",cn(v,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Gf(v,p){return wt(v,"POST","/v2/accounts/mfaSignIn:finalize",cn(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ra=(()=>{class v{constructor(){}static assertion(m){return cp._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Nm="@firebase/auth";class th{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var T;p((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function up(v){(0,O._registerComponent)(new Ne.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),{apiKey:T,authDomain:k}=b.options;return(Z=>{Pe(T&&!T.includes(":"),"invalid-api-key",{appName:Z.name}),Pe(!(null==k?void 0:k.includes(":")),"argument-error",{appName:Z.name});const ve={apiKey:T,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pr(v)},Qe=new zr(Z,ve);return function Zt(v,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(En);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Qe,m),Qe})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new Ne.wA("auth-internal",p=>{const m=hi(p.getProvider("auth").getImmediate());return new th(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Nm,"0.19.7",function bu(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,O.registerVersion)(Nm,"0.19.7","esm2017")}("Browser")},2090:(lt,De,F)=>{"use strict";F.d(De,{BH:()=>Ve,LL:()=>de,ZR:()=>Ne,zI:()=>ge,US:()=>fe,tV:()=>le,$s:()=>wt,r3:()=>Ui,Sg:()=>Te,ne:()=>$n,vZ:()=>Qt,ZB:()=>U,pd:()=>Pe,m9:()=>_n,z$:()=>Me,jU:()=>ie,ru:()=>pe,d:()=>we,xb:()=>mn,w1:()=>Ge,hl:()=>ft,uI:()=>Be,UG:()=>Y,b$:()=>Ce,G6:()=>Ze,Mn:()=>Ae,xO:()=>Xi,zd:()=>er,eu:()=>X});const re=function(V){const $=[];let W=0;for(let _e=0;_e<V.length;_e++){let ee=V.charCodeAt(_e);ee<128?$[W++]=ee:ee<2048?($[W++]=ee>>6|192,$[W++]=63&ee|128):55296==(64512&ee)&&_e+1<V.length&&56320==(64512&V.charCodeAt(_e+1))?(ee=65536+((1023&ee)<<10)+(1023&V.charCodeAt(++_e)),$[W++]=ee>>18|240,$[W++]=ee>>12&63|128,$[W++]=ee>>6&63|128,$[W++]=63&ee|128):($[W++]=ee>>12|224,$[W++]=ee>>6&63|128,$[W++]=63&ee|128)}return $},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,$){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let ee=0;ee<V.length;ee+=3){const Ke=V[ee],mt=ee+1<V.length,vn=mt?V[ee+1]:0,xn=ee+2<V.length,Bn=xn?V[ee+2]:0;let tr=(15&vn)<<2|Bn>>6,se=63&Bn;xn||(se=64,mt||(tr=64)),_e.push(W[Ke>>2],W[(3&Ke)<<4|vn>>4],W[tr],W[se])}return _e.join("")},encodeString(V,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(V):this.encodeByteArray(re(V),$)},decodeString(V,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(V):function(V){const $=[];let W=0,_e=0;for(;W<V.length;){const ee=V[W++];if(ee<128)$[_e++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Ke=V[W++];$[_e++]=String.fromCharCode((31&ee)<<6|63&Ke)}else if(ee>239&&ee<365){const xn=((7&ee)<<18|(63&V[W++])<<12|(63&V[W++])<<6|63&V[W++])-65536;$[_e++]=String.fromCharCode(55296+(xn>>10)),$[_e++]=String.fromCharCode(56320+(1023&xn))}else{const Ke=V[W++],mt=V[W++];$[_e++]=String.fromCharCode((15&ee)<<12|(63&Ke)<<6|63&mt)}}return $.join("")}(this.decodeStringToByteArray(V,$))},decodeStringToByteArray(V,$){this.init_();const W=$?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let ee=0;ee<V.length;){const Ke=W[V.charAt(ee++)],vn=ee<V.length?W[V.charAt(ee)]:0;++ee;const Bn=ee<V.length?W[V.charAt(ee)]:64;++ee;const Lt=ee<V.length?W[V.charAt(ee)]:64;if(++ee,null==Ke||null==vn||null==Bn||null==Lt)throw Error();_e.push(Ke<<2|vn>>4),64!==Bn&&(_e.push(vn<<4&240|Bn>>2),64!==Lt&&_e.push(Bn<<6&192|Lt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},ae=function(V){return function(V){const $=re(V);return fe.encodeByteArray($,!0)}(V).replace(/\./g,"")},le=function(V){try{return fe.decodeString(V,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function U(V,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return $}for(const W in $)!$.hasOwnProperty(W)||!ne(W)||(V[W]=U(V[W],$[W]));return V}function ne(V){return"__proto__"!==V}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,W)=>{this.resolve=$,this.reject=W})}wrapCallback($){return(W,_e)=>{W?this.reject(W):this.resolve(_e),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(W):$(W,_e))}}}function Te(V,$){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=$||"demo-project",ee=V.iat||0,Ke=V.sub||V.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:ee,exp:ee+3600,auth_time:ee,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},V);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(mt)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function Y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function ie(){return"object"==typeof self&&self.self===self}function pe(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){return Me().indexOf("Electron/")>=0}function Ge(){const V=Me();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Ae(){return Me().indexOf("MSAppHost/")>=0}function Ze(){return!Y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ft(){return"object"==typeof indexedDB}function X(){return new Promise((V,$)=>{try{let W=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(_e);ee.onsuccess=()=>{ee.result.close(),W||self.indexedDB.deleteDatabase(_e),V(!0)},ee.onupgradeneeded=()=>{W=!1},ee.onerror=()=>{var Ke;$((null===(Ke=ee.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(W){$(W)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ne extends Error{constructor($,W,_e){super(W),this.code=$,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor($,W,_e){this.service=$,this.serviceName=W,this.errors=_e}create($,...W){const _e=W[0]||{},ee=`${this.service}/${$}`,Ke=this.errors[$],mt=Ke?function At(V,$){return V.replace(tn,(W,_e)=>{const ee=$[_e];return null!=ee?String(ee):`<${_e}?>`})}(Ke,_e):"Error";return new Ne(ee,`${this.serviceName}: ${mt} (${ee}).`,_e)}}const tn=/\{\$([^}]+)}/g;function Ui(V,$){return Object.prototype.hasOwnProperty.call(V,$)}function mn(V){for(const $ in V)if(Object.prototype.hasOwnProperty.call(V,$))return!1;return!0}function Qt(V,$){if(V===$)return!0;const W=Object.keys(V),_e=Object.keys($);for(const ee of W){if(!_e.includes(ee))return!1;const Ke=V[ee],mt=$[ee];if(rs(Ke)&&rs(mt)){if(!Qt(Ke,mt))return!1}else if(Ke!==mt)return!1}for(const ee of _e)if(!W.includes(ee))return!1;return!0}function rs(V){return null!==V&&"object"==typeof V}function Xi(V){const $=[];for(const[W,_e]of Object.entries(V))Array.isArray(_e)?_e.forEach(ee=>{$.push(encodeURIComponent(W)+"="+encodeURIComponent(ee))}):$.push(encodeURIComponent(W)+"="+encodeURIComponent(_e));return $.length?"&"+$.join("&"):""}function er(V){const $={};return V.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[ee,Ke]=_e.split("=");$[decodeURIComponent(ee)]=decodeURIComponent(Ke)}}),$}function Pe(V){const $=V.indexOf("?");if(!$)return"";const W=V.indexOf("#",$);return V.substring($,W>0?W:void 0)}function $n(V,$){const W=new gt(V,$);return W.subscribe.bind(W)}class gt{constructor($,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{$(this)}).catch(_e=>{this.error(_e)})}next($){this.forEachObserver(W=>{W.next($)})}error($){this.forEachObserver(W=>{W.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,W,_e){let ee;if(void 0===$&&void 0===W&&void 0===_e)throw new Error("Missing Observer.");ee=function Ln(V,$){if("object"!=typeof V||null===V)return!1;for(const W of $)if(W in V&&"function"==typeof V[W])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:W,complete:_e},void 0===ee.next&&(ee.next=Zt),void 0===ee.error&&(ee.error=Zt),void 0===ee.complete&&(ee.complete=Zt);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch(mt){}}),this.observers.push(ee),Ke}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,$)}sendOne($,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{W(this.observers[$])}catch(_e){"undefined"!=typeof console&&console.error&&console.error(_e)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zt(){}function wt(V,$=1e3,W=2){const _e=$*Math.pow(W,V),ee=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+ee)}function _n(V){return V&&V._delegate?V._delegate:V}},1506:(lt,De,F)=>{"use strict";var c=F(5e3);let L=null;function O(){return L}const te=new c.OlP("DocumentToken");let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function le(){return(0,c.LFG)(U)}()},providedIn:"platform"}),n})();const j=new c.OlP("Location Initialized");let U=(()=>{class n extends ae{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ne()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ne()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ve(){return new U((0,c.LFG)(te))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Te(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let Y=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ie(n){const e=(0,c.LFG)(te).location;return new Ce((0,c.LFG)(ae),e&&e.origin||"")}()},providedIn:"root"}),n})();const pe=new c.OlP("appBaseHref");let Ce=(()=>{class n extends Y{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Te(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Be(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const d=this.prepareExternalUrl(r+Be(a));this._platformLocation.pushState(t,i,d)}replaceState(t,i,r,a){const d=this.prepareExternalUrl(r+Be(a));this._platformLocation.replaceState(t,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n extends Y{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Te(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let d=this.prepareExternalUrl(r+Be(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,i,d)}replaceState(t,i,r,a){let d=this.prepareExternalUrl(r+Be(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Me(Ze(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Be(i))}normalize(t){return n.stripTrailingSlash(function rt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Be,n.joinWithSlash=Te,n.stripTrailingSlash=Me,n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ae(){return new Ge((0,c.LFG)(Y),(0,c.LFG)(ae))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))();const Pe=c.kL8;class Jt{}let Vn=(()=>{class n extends Jt{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(Pe(i||this.locale)(t)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qs{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Qs(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,d),as(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{as(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function as(n,e){n.context.$implicit=e.item}let ti=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new fn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Bl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Bl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class fn{constructor(){this.$implicit=null,this.ngIf=null}}function Bl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Jt,useClass:Vn}]}),n})();const kr="browser";function Cn(n){return n===kr}function qr(n){return"server"===n}let da=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new No((0,c.LFG)(te),window)}),n})();class No{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ts(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Tn(this.window.history)||Tn(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Tn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gr extends class Ka extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){L||(L=n)}(new gr)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ni(){return Ri=Ri||document.querySelector("base"),Ri?Ri.getAttribute("href"):null}();return null==t?null:function ha(n){Ya=Ya||document.createElement("a"),Ya.setAttribute("href",n);const e=Ya.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ri=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function aa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ya,Ri=null;const ds=new c.OlP("TRANSITION_ID"),Sn=[{provide:c.ip1,useFactory:function sr(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=O(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[ds,te,c.zs3],multi:!0}];class fa{static init(){(0,c.VLi)(new fa)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,d=!1;const f=function(y){d=d||y,a--,0==a&&i(d)};r.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Bo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Or=new c.OlP("EventManagerPlugins");let Ss=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const d=r[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Or),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class eo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=O().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let at=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),to=(()=>{class n extends at{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,r.push(i.appendChild(d))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Qa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Qa))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Qa(n){O().remove(n)}const no={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},io=/%COMP%/g;function un(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?un(n,r,t):(r=r.replace(io,n),t.push(r))}return t}function Vo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ki=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ms(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new zl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new ma(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=un(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ss),c.LFG(to),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ms{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(no[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=no[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=no[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Vo(i)):this.eventManager.addEventListener(e,t,Vo(i))}}class zl extends Ms{constructor(e,t,i,r){super(e),this.component=i;const a=un(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Vt(n){return"_ngcontent-%COMP%".replace(io,n)}(r+"-"+i.id),this.hostAttr=function Xa(n){return"_nghost-%COMP%".replace(io,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class ma extends Ms{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=un(r.id,r.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Uo=(()=>{class n extends eo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fi=["alt","control","meta","shift"],au={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let el=(()=>{class n extends eo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),d=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let d="";if(fi.forEach(y=>{const E=i.indexOf(y);E>-1&&(i.splice(E,1),d+=y+".")}),d+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=d,f}static getEventFullKey(t){let i="",r=function so(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Fr.hasOwnProperty(e)&&(e=Fr[e]))}return au[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),fi.forEach(a=>{a!=r&&hs[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Zl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:kr},{provide:c.g9A,useValue:function ql(){gr.makeCurrent(),fa.init()},multi:!0},{provide:te,useFactory:function Wl(){return(0,c.RDi)(document),document},deps:[]}]),ao=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function jo(){return new c.qLn},deps:[]},{provide:Or,useClass:Uo,multi:!0,deps:[te,c.R0b,c.Lbi]},{provide:Or,useClass:el,multi:!0,deps:[te]},{provide:ki,useClass:ki,deps:[Ss,to,c.AFp]},{provide:c.FYo,useExisting:ki},{provide:at,useExisting:to},{provide:to,useClass:to,deps:[te]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Ss,useClass:Ss,deps:[Or,c.R0b]},{provide:class Nn{},useClass:Bo,deps:[]}];let lu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:ds,useExisting:c.AFp},Sn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:ao,imports:[Fo,c.hGG]}),n})();"undefined"!=typeof window&&window;let Ea=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(Bd),i},providedIn:"root"}),n})(),Bd=(()=>{class n extends Ea{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function du(n){return new Bd(n.get(te))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();const hu=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function nc(){return(0,c.f3M)(te)}}),Oi=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let il,qo=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Vd(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Oi.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hu,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ic=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{il="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){il=!1}let xa,Os,yr,sl,Kn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Cn(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!il)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function ks(n){return function Ca(){if(null==xa&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xa=!0}))}finally{xa=xa||!1}return xa}()?n:!!n.capture}function Fs(){if("object"!=typeof document||!document)return 0;if(null==Os){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Os=0,0===n.scrollLeft&&(n.scrollLeft=1,Os=0===n.scrollLeft?1:2),n.remove()}return Os}function fs(n){return n.composedPath?n.composedPath()[0]:n.target}var zt=F(7579),or=F(727);class Fi extends zt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var Zr=F(3269),Mn=F(8996);function He(...n){const e=(0,Zr.yG)(n);return(0,Mn.D)(n,e)}function yc(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Ci=F(8505),Jd=F(4986),Di=F(4482),jn=F(5403);function Xd(n,e=Jd.z){return(0,Di.e)((t,i)=>{let r=null,a=null,d=null;const f=()=>{if(r){r.unsubscribe(),r=null;const E=a;a=null,i.next(E)}};function y(){const E=d+n,A=e.now();if(A<E)return r=this.schedule(void 0,E-A),void i.add(r);f()}t.subscribe(new jn.Q(i,E=>{a=E,d=e.now(),r||(r=e.schedule(y,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function on(n,e){return(0,Di.e)((t,i)=>{let r=0;t.subscribe(new jn.Q(i,a=>n.call(e,a,r++)&&i.next(a)))})}var yt=F(4004),Ma=F(5698),fl=F(4671);function lp(n,e=fl.y){return n=null!=n?n:Sb,(0,Di.e)((t,i)=>{let r,a=!0;t.subscribe(new jn.Q(i,d=>{const f=e(d);(a||!n(r,f))&&(a=!1,r=f,i.next(d))}))})}function Sb(n,e){return n===e}var pl=F(8421),_c=F(5032);function Hn(n){return(0,Di.e)((e,t)=>{(0,pl.Xf)(n).subscribe(new jn.Q(t,()=>t.complete(),_c.Z)),!t.closed&&e.subscribe(t)})}function An(n){return null!=n&&"false"!=`${n}`}function vu(n,e=0){return function Fm(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Ra(n){return n instanceof c.SBq?n.nativeElement:n}var ii=F(8306);let th=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bu=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Ra(t);return new ii.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new zt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(th))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),up=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=An(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=vu(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Xd(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bu),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),nh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[th]}),n})();class ka extends class mi{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new zt.x,this._typeaheadSubscription=or.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new zt.x,this.change=new zt.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ci.b)(t=>this._pressedLetters.push(t)),Xd(e),on(()=>this._pressedLetters.length>0),(0,yt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,d=i[a];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||yc(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let wu=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Oa(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Ni(n){try{return n.frameElement}catch(e){return null}}(function LC(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===hp(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=hp(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Mb(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function NC(n){return!function dp(n){return function sh(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Eu(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function rh(n){return function Lm(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||vc(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vc(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function hp(n){if(!vc(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Bm{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Ma.q)(1)).subscribe(e)}}let BC=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Bm(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wu),c.LFG(c.R0b),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Ob(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const VC=new c.OlP("cdk-input-modality-detector-options"),UC={ignoreKeys:[18,17,224,91,16]},xu=ks({passive:!0,capture:!0});let jC=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Fi(null),this._lastTouchMs=0,this._onKeydown=d=>{var f,y;(null===(y=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===y?void 0:y.some(E=>E===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=fs(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kb(d)?"keyboard":"mouse"),this._mostRecentTarget=fs(d))},this._onTouchstart=d=>{Ob(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fs(d))},this._options=Object.assign(Object.assign({},UC),a),this.modalityDetected=this._modality.pipe(function eh(n){return on((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(lp()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,xu),r.addEventListener("mousedown",this._onMousedown,xu),r.addEventListener("touchstart",this._onTouchstart,xu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xu),document.removeEventListener("mousedown",this._onMousedown,xu),document.removeEventListener("touchstart",this._onTouchstart,xu))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kn),c.LFG(c.R0b),c.LFG(te),c.LFG(VC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $C=new c.OlP("cdk-focus-monitor-default-options"),Fa=ks({passive:!0,capture:!0});let Lr=(()=>{class n{constructor(t,i,r,a,d){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new zt.x,this._rootNodeFocusAndBlurListener=f=>{const y=fs(f),E="focus"===f.type?this._onFocus:this._onBlur;for(let A=y;A;A=A.parentElement)E.call(this,f,A)},this._document=a,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,i=!1){const r=Ra(t);if(!this._platform.isBrowser||1!==r.nodeType)return He(null);const a=function rc(n){if(function Wr(){if(null==sl){const n="undefined"!=typeof document?document.head:null;sl=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sl}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const f={checkChildren:i,subject:new zt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Ra(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=Ra(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,y])=>this._originChanged(f,i,y)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=fs(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Fa),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Fa)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Hn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Fa),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Fa),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Kn),c.LFG(jC),c.LFG(te,8),c.LFG($C,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zC="cdk-high-contrast-black-on-white",Um="cdk-high-contrast-white-on-black",Fb="cdk-high-contrast-active";let _o=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Fb),t.remove(zC),t.remove(Um),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(Fb),t.add(zC)):2===i&&(t.add(Fb),t.add(Um))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kn),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jm=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_o))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Rs,nh]]}),n})();var Cu=F(8189);function pp(...n){return function qC(){return(0,Cu.J)(1)}()((0,Mn.D)(n,(0,Zr.yG)(n)))}function vo(...n){const e=(0,Zr.yG)(n);return(0,Di.e)((t,i)=>{(e?pp(n,t,e):pp(n,t)).subscribe(i)})}class Hm{}const bo="*";function gp(n,e){return{type:7,name:n,definitions:e,options:{}}}function Du(n,e=null){return{type:4,styles:e,timings:n}}function bc(n,e=null){return{type:2,steps:n,options:e}}function wo(n){return{type:6,styles:n,offset:null}}function Au(n,e,t){return{type:0,name:n,styles:e,options:t}}function wc(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Nb(n){Promise.resolve(null).then(n)}class Ec{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Nb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class mp{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?Nb(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++i==a&&this._onDestroy()}),d.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function _p(){return"undefined"!=typeof window&&void 0!==window.document}function Gm(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function gl(n){switch(n.length){case 0:return new Ec;case 1:return n[0];default:return new mp(n)}}function $m(n,e,t,i,r={},a={}){const d=[],f=[];let y=-1,E=null;if(i.forEach(A=>{const S=A.offset,B=S==y,G=B&&E||{};Object.keys(A).forEach(Q=>{let he=Q,Oe=A[Q];if("offset"!==Q)switch(he=e.normalizePropertyName(he,d),Oe){case"!":Oe=r[Q];break;case bo:Oe=a[Q];break;default:Oe=e.normalizeStyleValue(Q,he,Oe,d)}G[he]=Oe}),B||f.push(G),E=G,y=S}),d.length){const A="\n - ";throw new Error(`Unable to animate due to the following errors:${A}${d.join(A)}`)}return f}function vp(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Pa(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Pa(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Pa(t,"destroy",n)))}}function Pa(n,e,t){const i=t.totalTime,a=bp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function bp(n,e,t,i,r="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!d}}function Yr(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function Lb(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Iu=(n,e)=>!1,Bb=(n,e,t)=>[];(Gm()||"undefined"!=typeof Element)&&(Iu=_p()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),Bb=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let ml=null,wp=!1;function Ep(n){ml||(ml=function xp(){return"undefined"!=typeof document?document.body:null}()||{},wp=!!ml.style&&"WebkitAppearance"in ml.style);let e=!0;return ml.style&&!function Vb(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ml.style,!e&&wp&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ml.style)),e}const Tu=Iu,Cp=Bb;function Dp(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let zm=(()=>{class n{validateStyleProperty(t){return Ep(t)}matchesElement(t,i){return!1}containsElement(t,i){return Tu(t,i)}query(t,i,r){return Cp(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,d,f=[],y){return new Ec(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),oh=(()=>{class n{}return n.NOOP=new zm,n})();const qm="ng-enter",Ap="ng-leave",lh="ng-trigger",Su=".ng-trigger",Wm="ng-animating",Hb=".ng-animating";function yl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Zm(parseFloat(e[1]),e[2])}function Zm(n,e){return"s"===e?1e3*n:n}function ch(n,e,t){return n.hasOwnProperty("duration")?n:function ZC(n,e,t){let r,a=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=Zm(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=Zm(parseFloat(y),f[4]));const E=f[5];E&&(d=E)}else r=n;if(!t){let f=!1,y=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),a<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(y,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:a,easing:d}}(n,e,t)}function Mu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function _l(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Mu(n,t);return t}function Km(n,e,t){return t?e+":"+t+";":""}function Gb(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Km(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Km(0,Wb(t),n.style[t]));n.setAttribute("style",e)}function Jo(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=Tp(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),Gm()&&Gb(n))}function xc(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=Tp(t);n.style[i]=""}),Gm()&&Gb(n))}function uh(n){return Array.isArray(n)?1==n.length?n[0]:bc(n):n}const Ym=new RegExp("{{\\s*(.+?)\\s*}}","g");function zb(n){let e=[];if("string"==typeof n){let t;for(;t=Ym.exec(n);)e.push(t[1]);Ym.lastIndex=0}return e}function Ip(n,e,t){const i=n.toString(),r=i.replace(Ym,(a,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(`Please provide a value for the animation param ${d}`),f=""),f.toString()});return r==i?n:r}function St(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const qb=/-+([a-z0-9])/g;function Tp(n){return n.replace(qb,(...e)=>e[1].toUpperCase())}function Wb(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dh(n,e){return 0===n||0===e}function Us(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],d=[];if(i.forEach(f=>{a.hasOwnProperty(f)||d.push(f),a[f]=t[f]}),d.length)for(var r=1;r<e.length;r++){let f=e[r];d.forEach(function(y){f[y]=Qm(n,y)})}}return e}function Qr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Qm(n,e){return window.getComputedStyle(n)[e]}function Na(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Jm(n,e,t){if(":"==n[0]){const y=function Zb(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const r=i[1],a=i[2],d=i[3];e.push(ey(r,d));"<"==a[0]&&!("*"==r&&"*"==d)&&e.push(ey(d,r))}(i,t,e)):t.push(n),t}const ku=new Set(["true","1"]),Xm=new Set(["false","0"]);function ey(n,e){const t=ku.has(n)||Xm.has(n),i=ku.has(e)||Xm.has(e);return(r,a)=>{let d="*"==n||n==r,f="*"==e||e==a;return!d&&t&&"boolean"==typeof r&&(d=r?ku.has(n):Xm.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?ku.has(e):Xm.has(e)),d&&f}}const Sp=new RegExp("s*:selfs*,?","g");function Ou(n,e,t){return new ty(n).build(e,t)}class ty{constructor(e){this._driver=e}build(e,t){const i=new YC(t);return this._resetContextStyleTimingState(i),Qr(this,uh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,E=y.name;E.toString().split(/\s*,\s*/).forEach(A=>{y.name=A,a.push(this.visitState(y,t))}),y.name=E}else if(1==f.type){const y=this.visitTransition(f,t);i+=y.queryCount,r+=y.depCount,d.push(y)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:d,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,d=r||{};if(i.styles.forEach(f=>{if(Rp(f)){const y=f;Object.keys(y).forEach(E=>{zb(y[E]).forEach(A=>{d.hasOwnProperty(A)||a.add(A)})})}}),a.size){const f=St(a.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Qr(this,uh(e.animation),t);return{type:1,matchers:Na(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:vl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Qr(this,i,t)),options:vl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(d=>{t.currentTime=i;const f=Qr(this,d,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:vl(e.options)}}visitAnimate(e,t){const i=function JC(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Kb(ch(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Kb(0,0,"");return a.dynamic=!0,a.strValue=i,a}return t=t||ch(i,e),Kb(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:wo({});if(5==a.type)r=this.visitKeyframes(a,t);else{let d=e.styles,f=!1;if(!d){f=!0;const E={};i.easing&&(E.easing=i.easing),d=wo(E)}t.currentTime+=i.duration+i.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,r=y}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==bo?i.push(d):t.errors.push(`The provided style string value ${d} is not allowed.`):i.push(d)}):i.push(e.styles);let r=!1,a=null;return i.forEach(d=>{if(Rp(d)){const f=d,y=f.easing;if(y&&(a=y,delete f.easing),!r)for(let E in f)if(f[E].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const y=t.collectedStyles[t.currentQuerySelector],E=y[f];let A=!0;E&&(a!=r&&a>=E.startTime&&r<=E.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${E.startTime}ms" and "${E.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${r}ms"`),A=!1),a=E.startTime),A&&(y[f]={startTime:a,endTime:r}),t.options&&function $b(n,e,t){const i=e.params||{},r=zb(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let a=0;const d=[];let f=!1,y=!1,E=0;const A=e.steps.map(qe=>{const ht=this._makeStyleAst(qe,t);let Bt=null!=ht.offset?ht.offset:function QC(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Rp(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Rp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ht.styles),vt=0;return null!=Bt&&(a++,vt=ht.offset=Bt),y=y||vt<0||vt>1,f=f||vt<E,E=vt,d.push(vt),ht});y&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const S=e.steps.length;let B=0;a>0&&a<S?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(B=1/(S-1));const G=S-1,Q=t.currentTime,he=t.currentAnimateTimings,Oe=he.duration;return A.forEach((qe,ht)=>{const Bt=B>0?ht==G?1:B*ht:d[ht],vt=Bt*Oe;t.currentTime=Q+he.delay+vt,he.duration=vt,this._validateStyleAst(qe,t),qe.offset=Bt,i.styles.push(qe)}),i}visitReference(e,t){return{type:8,animation:Qr(this,uh(e.animation),t),options:vl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:vl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:vl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function ny(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Sp,"")),n=n.replace(/@\*/g,Su).replace(/@\w+/g,t=>Su+"-"+t.substr(1)).replace(/:animating/g,Hb),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Yr(t.collectedStyles,t.currentQuerySelector,{});const f=Qr(this,uh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:vl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:ch(e.timings,t.errors,!0);return{type:12,animation:Qr(this,uh(e.animation),t),timings:i,options:null}}}class YC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Rp(n){return!Array.isArray(n)&&"object"==typeof n}function vl(n){return n?(n=Mu(n)).params&&(n.params=function BR(n){return n?Mu(n):null}(n.params)):n={},n}function Kb(n,e,t){return{duration:n,delay:e,easing:t}}function iy(n,e,t,i,r,a,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:d,subTimeline:f}}class ry{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const XC=new RegExp(":enter","g"),VR=new RegExp(":leave","g");function Jb(n,e,t,i,r,a={},d={},f,y,E=[]){return(new UR).buildKeyframes(n,e,t,i,r,a,d,f,y,E)}class UR{buildKeyframes(e,t,i,r,a,d,f,y,E,A=[]){E=E||new ry;const S=new Xb(e,t,E,r,a,A,[]);S.options=y,S.currentTimeline.setStyles([d],null,S.errors,y),Qr(this,i,S);const B=S.timelines.filter(G=>G.containsAnimation());if(Object.keys(f).length){let G;for(let Q=B.length-1;Q>=0;Q--){const he=B[Q];if(he.element===t){G=he;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([f],null,S.errors,y)}return B.length?B.map(G=>G.buildKeyframes()):[iy(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const d=null!=i.duration?yl(i.duration):null,f=null!=i.delay?yl(i.delay):null;return 0!==d&&e.forEach(y=>{const E=t.appendInstructionToTimeline(y,d,f);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Qr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=oy);const d=yl(a.delay);r.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Qr(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?yl(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Qr(this,d,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return ch(t.params?Ip(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?yl(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=oy);let d=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((E,A)=>{t.currentQueryIndex=A;const S=t.createSubContext(e.options,E);a&&S.delayNextStep(a),E===t.element&&(y=S.currentTimeline),Qr(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=i.currentStaggerTime}const A=t.currentTimeline;y&&A.delayNextStep(y);const S=A.currentTime;Qr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const oy={};class Xb{constructor(e,t,i,r,a,d,f,y){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new ay(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=yl(i.duration)),null!=i.delay&&(r.delay=yl(i.delay));const a=i.params;if(a){let d=r.params;d||(d=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=Ip(a[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new Xb(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=oy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new jR(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,d){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(XC,"."+this._enterClassName)).replace(VR,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),f.push(...E)}return!a&&0==f.length&&d.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class ay{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ay(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||bo,this._currentKeyframe[t]=bo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},d=function HR(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=bo})):_l(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const y=Ip(d[f],a,i);this._pendingStyles[f]=y,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:bo),this._updateStyle(f,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,y)=>{const E=_l(f,!0);Object.keys(E).forEach(A=>{const S=E[A];"!"==S?e.add(A):S==bo&&t.add(A)}),i||(E.offset=y/this.duration),r.push(E)});const a=e.size?St(e.values()):[],d=t.size?St(t.values()):[];if(i){const f=r[0],y=Mu(f);f.offset=0,y.offset=1,r=[f,y]}return iy(this.element,r,a,d,this.duration,this.startTime,this.easing,!1)}}class jR extends ay{constructor(e,t,i,r,a,d,f=!1){super(e,t,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=i+t,f=t/d,y=_l(e[0],!1);y.offset=0,a.push(y);const E=_l(e[0],!1);E.offset=eD(f),a.push(E);const A=e.length-1;for(let S=1;S<=A;S++){let B=_l(e[S],!1);B.offset=eD((t+B.offset*i)/d),a.push(B)}i=d,t=0,r="",e=a}return iy(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function eD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Xo{}class tD extends Xo{normalizePropertyName(e,t){return Tp(e)}normalizeStyleValue(e,t,i,r){let a="";const d=i.toString().trim();if(t0[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return d+a}}const t0=(()=>function ly(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function cy(n,e,t,i,r,a,d,f,y,E,A,S,B){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:d,timelines:f,queriedElements:y,preStyleProps:E,postStyleProps:A,totalTime:S,errors:B}}const hh={};class n0{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function bl(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],d=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):d}build(e,t,i,r,a,d,f,y,E,A){const S=[],B=this.ast.options&&this.ast.options.params||hh,Q=this.buildStyles(i,f&&f.params||hh,S),he=y&&y.params||hh,Oe=this.buildStyles(r,he,S),qe=new Set,ht=new Map,Bt=new Map,vt="void"===r,gn={params:Object.assign(Object.assign({},B),he)},Mi=A?[]:Jb(e,t,this.ast.animation,a,d,Q,Oe,gn,E,S);let Qi=0;if(Mi.forEach(Kc=>{Qi=Math.max(Kc.duration+Kc.delay,Qi)}),S.length)return cy(t,this._triggerName,i,r,vt,Q,Oe,[],[],ht,Bt,Qi,S);Mi.forEach(Kc=>{const Yc=Kc.element,UB=Yr(ht,Yc,{});Kc.preStyleProps.forEach(Tf=>UB[Tf]=!0);const pb=Yr(Bt,Yc,{});Kc.postStyleProps.forEach(Tf=>pb[Tf]=!0),Yc!==t&&qe.add(Yc)});const Zc=St(qe.values());return cy(t,this._triggerName,i,r,vt,Q,Oe,Mi,Zc,ht,Bt,Qi)}}class r0{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=Mu(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!=d&&(r[a]=d)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const d=a;Object.keys(d).forEach(f=>{let y=d[f];y.length>1&&(y=Ip(y,r,t));const E=this.normalizer.normalizePropertyName(f,t);y=this.normalizer.normalizeStyleValue(f,E,y,t),i[E]=y})}}),i}}class uy{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new r0(r.style,r.options&&r.options.params||{},i)}),dy(this.states,"true","1"),dy(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new n0(e,r,this.states))}),this.fallbackTransition=function iD(n,e,t){return new n0(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(d=>d.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function dy(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const rD=new ry;class sD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],r=Ou(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,i){const r=e.element,a=$m(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let d;const f=new Map;if(a?(d=Jb(this._driver,t,a,qm,Ap,{},{},i,rD,r),d.forEach(A=>{const S=Yr(f,A.element,{});A.postStyleProps.forEach(B=>S[B]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),d=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);f.forEach((A,S)=>{Object.keys(A).forEach(B=>{A[B]=this._driver.computeStyle(S,B,bo)})});const E=gl(d.map(A=>{const S=f.get(A.element);return this._buildPlayer(A,{},S)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,r){const a=bp(t,"","","");return vp(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Fu="ng-animate-queued",fh="ng-animate-disabled",oD=[],hy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},s0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jr="__ng_removed";class gh{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function c0(n){return null!=n?n:null}(i?e.value:e),i){const a=Mu(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Bu="void",Vu=new gh(Bu);class aD{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,js(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function u0(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const a=Yr(this._elementListeners,e,[]),d={name:t,phase:i,callback:r};a.push(d);const f=Yr(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(js(e,lh),js(e,lh+"-"+t),f[t]=Vu),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(d);y>=0&&a.splice(y,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),d=new a0(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(js(e,lh),js(e,lh+"-"+t),this._engine.statesByElement.set(e,f={}));let y=f[t];const E=new gh(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&y&&E.absorbOptions(y.options),f[t]=E,y||(y=Vu),E.value!==Bu&&y.value===E.value){if(!function zR(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,E.params)){const he=[],Oe=a.matchStyles(y.value,y.params,he),qe=a.matchStyles(E.value,E.params,he);he.length?this._engine.reportError(he):this._engine.afterFlush(()=>{xc(e,Oe),Jo(e,qe)})}return}const B=Yr(this._engine.playersByElement,e,[]);B.forEach(he=>{he.namespaceId==this.id&&he.triggerName==t&&he.queued&&he.destroy()});let G=a.matchTransition(y.value,E.value,e,E.params),Q=!1;if(!G){if(!r)return;G=a.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:y,toState:E,player:d,isFallbackTransition:Q}),Q||(js(e,Fu),d.onStart(()=>{Uu(e,Fu)})),d.onDone(()=>{let he=this.players.indexOf(d);he>=0&&this.players.splice(he,1);const Oe=this._engine.playersByElement.get(e);if(Oe){let qe=Oe.indexOf(d);qe>=0&&Oe.splice(qe,1)}}),this.players.push(d),B.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Su,!0);i.forEach(r=>{if(r[Jr])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(d=>d.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const f=[];if(Object.keys(a).forEach(y=>{if(d.set(y,a[y].value),this._triggers[y]){const E=this.trigger(e,y,Bu,r);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),i&&gl(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const d=a.name;if(r.has(d))return;r.add(d);const y=this._triggers[d].fallbackTransition,E=i[d]||Vu,A=new gh(Bu),S=new a0(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:E,toState:A,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let d=e;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Jr];(!a||a===hy)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){js(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,d=this._elementListeners.get(a);d&&d.forEach(f=>{if(f.name==i.triggerName){const y=bp(a,i.triggerName,i.fromState.value,i.toState.value);y._data=e,vp(i.player,f.phase,y,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class o0{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new aD(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let a=i;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,t)){this._namespaceList.splice(a+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const d=i[r[a]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,i,r){if(kp(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!kp(t))return;const a=t[Jr];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),js(e,fh)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Uu(e,fh))}removeNode(e,t,i,r){if(kp(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Jr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return kp(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Su,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Hb,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return gl(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Jr];if(i&&i.setForRemoval){if(e[Jr]=hy,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(fh))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)js(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?gl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new ry,r=[],a=new Map,d=[],f=new Map,y=new Map,E=new Map,A=new Set;this.disabledNodes.forEach(ut=>{A.add(ut);const Dt=this.driver.query(ut,".ng-animate-queued",!0);for(let It=0;It<Dt.length;It++)A.add(Dt[It])});const S=this.bodyNode,B=Array.from(this.statesByElement.keys()),G=Xr(B,this.collectedEnterElements),Q=new Map;let he=0;G.forEach((ut,Dt)=>{const It=qm+he++;Q.set(Dt,It),ut.forEach(hn=>js(hn,It))});const Oe=[],qe=new Set,ht=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const Dt=this.collectedLeaveElements[ut],It=Dt[Jr];It&&It.setForRemoval&&(Oe.push(Dt),qe.add(Dt),It.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(hn=>qe.add(hn)):ht.add(Dt))}const Bt=new Map,vt=Xr(B,Array.from(qe));vt.forEach((ut,Dt)=>{const It=Ap+he++;Bt.set(Dt,It),ut.forEach(hn=>js(hn,It))}),e.push(()=>{G.forEach((ut,Dt)=>{const It=Q.get(Dt);ut.forEach(hn=>Uu(hn,It))}),vt.forEach((ut,Dt)=>{const It=Bt.get(Dt);ut.forEach(hn=>Uu(hn,It))}),Oe.forEach(ut=>{this.processLeaveNode(ut)})});const gn=[],Mi=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(t).forEach(It=>{const hn=It.player,Mr=It.element;if(gn.push(hn),this.collectedEnterElements.length){const Cs=Mr[Jr];if(Cs&&Cs.setForMove){if(Cs.previousTriggersValues&&Cs.previousTriggersValues.has(It.triggerName)){const Sf=Cs.previousTriggersValues.get(It.triggerName),Md=this.statesByElement.get(It.element);Md&&Md[It.triggerName]&&(Md[It.triggerName].value=Sf)}return void hn.destroy()}}const Ll=!S||!this.driver.containsElement(S,Mr),Ro=Bt.get(Mr),Sd=Q.get(Mr),vi=this._buildInstruction(It,i,Sd,Ro,Ll);if(vi.errors&&vi.errors.length)return void Mi.push(vi);if(Ll)return hn.onStart(()=>xc(Mr,vi.fromStyles)),hn.onDestroy(()=>Jo(Mr,vi.toStyles)),void r.push(hn);if(It.isFallbackTransition)return hn.onStart(()=>xc(Mr,vi.fromStyles)),hn.onDestroy(()=>Jo(Mr,vi.toStyles)),void r.push(hn);const GB=[];vi.timelines.forEach(Cs=>{Cs.stretchStartingKeyframe=!0,this.disabledNodes.has(Cs.element)||GB.push(Cs)}),vi.timelines=GB,i.append(Mr,vi.timelines),d.push({instruction:vi,player:hn,element:Mr}),vi.queriedElements.forEach(Cs=>Yr(f,Cs,[]).push(hn)),vi.preStyleProps.forEach((Cs,Sf)=>{const Md=Object.keys(Cs);if(Md.length){let Mf=y.get(Sf);Mf||y.set(Sf,Mf=new Set),Md.forEach(CR=>Mf.add(CR))}}),vi.postStyleProps.forEach((Cs,Sf)=>{const Md=Object.keys(Cs);let Mf=E.get(Sf);Mf||E.set(Sf,Mf=new Set),Md.forEach(CR=>Mf.add(CR))})});if(Mi.length){const ut=[];Mi.forEach(Dt=>{ut.push(`@${Dt.triggerName} has failed due to:\n`),Dt.errors.forEach(It=>ut.push(`- ${It}\n`))}),gn.forEach(Dt=>Dt.destroy()),this.reportError(ut)}const Qi=new Map,Zc=new Map;d.forEach(ut=>{const Dt=ut.element;i.has(Dt)&&(Zc.set(Dt,Dt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,Qi))}),r.forEach(ut=>{const Dt=ut.element;this._getPreviousPlayers(Dt,!1,ut.namespaceId,ut.triggerName,null).forEach(hn=>{Yr(Qi,Dt,[]).push(hn),hn.destroy()})});const Kc=Oe.filter(ut=>f0(ut,y,E)),Yc=new Map;h0(Yc,this.driver,ht,E,bo).forEach(ut=>{f0(ut,y,E)&&Kc.push(ut)});const pb=new Map;G.forEach((ut,Dt)=>{h0(pb,this.driver,new Set(ut),y,"!")}),Kc.forEach(ut=>{const Dt=Yc.get(ut),It=pb.get(ut);Yc.set(ut,Object.assign(Object.assign({},Dt),It))});const Tf=[],jB=[],HB={};d.forEach(ut=>{const{element:Dt,player:It,instruction:hn}=ut;if(i.has(Dt)){if(A.has(Dt))return It.onDestroy(()=>Jo(Dt,hn.toStyles)),It.disabled=!0,It.overrideTotalTime(hn.totalTime),void r.push(It);let Mr=HB;if(Zc.size>1){let Ro=Dt;const Sd=[];for(;Ro=Ro.parentNode;){const vi=Zc.get(Ro);if(vi){Mr=vi;break}Sd.push(Ro)}Sd.forEach(vi=>Zc.set(vi,Mr))}const Ll=this._buildAnimation(It.namespaceId,hn,Qi,a,pb,Yc);if(It.setRealPlayer(Ll),Mr===HB)Tf.push(It);else{const Ro=this.playersByElement.get(Mr);Ro&&Ro.length&&(It.parentPlayer=gl(Ro)),r.push(It)}}else xc(Dt,hn.fromStyles),It.onDestroy(()=>Jo(Dt,hn.toStyles)),jB.push(It),A.has(Dt)&&r.push(It)}),jB.forEach(ut=>{const Dt=a.get(ut.element);if(Dt&&Dt.length){const It=gl(Dt);ut.setRealPlayer(It)}}),r.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<Oe.length;ut++){const Dt=Oe[ut],It=Dt[Jr];if(Uu(Dt,Ap),It&&It.hasAnimation)continue;let hn=[];if(f.size){let Ll=f.get(Dt);Ll&&Ll.length&&hn.push(...Ll);let Ro=this.driver.query(Dt,Hb,!0);for(let Sd=0;Sd<Ro.length;Sd++){let vi=f.get(Ro[Sd]);vi&&vi.length&&hn.push(...vi)}}const Mr=hn.filter(Ll=>!Ll.destroyed);Mr.length?GR(this,Dt,Mr):this.processLeaveNode(Dt)}return Oe.length=0,Tf.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const Dt=this.players.indexOf(ut);this.players.splice(Dt,1)}),ut.play()}),Tf}elementContainsData(e,t){let i=!1;const r=t[Jr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==Bu;f.forEach(E=>{E.queued||!y&&E.triggerName!=r||d.push(E)})}}return(i||r)&&(d=d.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),d}_beforeAnimationBuild(e,t,i){const a=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const E=y.element,A=E!==a,S=Yr(i,E,[]);this._getPreviousPlayers(E,A,d,f,t.toState).forEach(G=>{const Q=G.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),G.destroy(),S.push(G)})}xc(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,d){const f=t.triggerName,y=t.element,E=[],A=new Set,S=new Set,B=t.timelines.map(Q=>{const he=Q.element;A.add(he);const Oe=he[Jr];if(Oe&&Oe.removedBeforeQueried)return new Ec(Q.duration,Q.delay);const qe=he!==y,ht=function $R(n){const e=[];return fy(n,e),e}((i.get(he)||oD).map(Qi=>Qi.getRealPlayer())).filter(Qi=>!!Qi.element&&Qi.element===he),Bt=a.get(he),vt=d.get(he),gn=$m(0,this._normalizer,0,Q.keyframes,Bt,vt),Mi=this._buildPlayer(Q,gn,ht);if(Q.subTimeline&&r&&S.add(he),qe){const Qi=new a0(e,f,he);Qi.setRealPlayer(Mi),E.push(Qi)}return Mi});E.forEach(Q=>{Yr(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function l0(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,Q.element,Q))}),A.forEach(Q=>js(Q,Wm));const G=gl(B);return G.onDestroy(()=>{A.forEach(Q=>Uu(Q,Wm)),Jo(y,t.toStyles)}),S.forEach(Q=>{Yr(r,Q,[]).push(G)}),G}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Ec(e.duration,e.delay)}}class a0{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Ec,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>vp(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Yr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function kp(n){return n&&1===n.nodeType}function d0(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function h0(n,e,t,i,r){const a=[];t.forEach(y=>a.push(d0(y)));const d=[];i.forEach((y,E)=>{const A={};y.forEach(S=>{const B=A[S]=e.computeStyle(E,S,r);(!B||0==B.length)&&(E[Jr]=s0,d.push(E))}),n.set(E,A)});let f=0;return t.forEach(y=>d0(y,a[f++])),d}function Xr(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function d(f){if(!f)return 1;let y=a.get(f);if(y)return y;const E=f.parentNode;return y=t.has(E)?E:r.has(E)?1:d(E),a.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}function js(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Uu(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function GR(n,e,t){gl(t).onDone(()=>n.processLeaveNode(e))}function fy(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof mp?fy(i.players,e):e.push(i)}}function f0(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class ju{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new o0(e,t,i),this._timelineEngine=new sD(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const d=e+"-"+r;let f=this._triggerCache[d];if(!f){const y=[],E=Ou(this._driver,a,y);if(y.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${y.join("\n - ")}`);f=function nD(n,e,t){return new uy(n,e,t)}(r,E,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,d]=Lb(i);this._timelineEngine.command(a,t,d,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[d,f]=Lb(i);return this._timelineEngine.listen(d,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function py(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=gy(e[0]),e.length>1&&(i=gy(e[e.length-1]))):e&&(t=gy(e)),t||i?new lD(n,t,i):null}let lD=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Jo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jo(this._element,this._initialStyles),this._endStyles&&(Jo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),Jo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function gy(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];cD(r)&&(e=e||{},e[r]=n[r])}return e}function cD(n){return"display"===n||"position"===n}const g0="animation",my="animationend";class dD{constructor(e,t,i,r,a,d,f){this._element=e,this._name=t,this._duration=i,this._delay=r,this._easing=a,this._fillMode=d,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=y=>this._handleCallback(y)}apply(){(function m0(n,e){const t=_0(n,"").trim();let i=0;t.length&&(i=function v0(n,e){let t=0;for(let i=0;i<n.length;i++)n.charAt(i)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),Op(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),y0(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){yy(this._element,this._name,"paused")}resume(){yy(this._element,this._name,"running")}setPosition(e){const t=Eo(this._element,this._name);this._position=e*this._duration,Op(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),y0(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function hD(n,e){const i=_0(n,"").split(","),r=mh(i,e);r>=0&&(i.splice(r,1),Op(n,"",i.join(",")))}(this._element,this._name))}}function yy(n,e,t){Op(n,"PlayState",t,Eo(n,e))}function Eo(n,e){const t=_0(n,"");return t.indexOf(",")>0?mh(t.split(","),e):mh([t],e)}function mh(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function y0(n,e,t){t?n.removeEventListener(my,e):n.addEventListener(my,e)}function Op(n,e,t,i){const r=g0+e;if(null!=i){const a=n.style[r];if(a.length){const d=a.split(",");d[i]=t,t=d.join(",")}}n.style[r]=t}function _0(n,e){return n.style[g0+e]||""}class b0{constructor(e,t,i,r,a,d,f,y){this.element=e,this.keyframes=t,this.animationName=i,this._duration=r,this._delay=a,this._finalStyles=f,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=r+a,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new dD(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:Qm(this.element,i))})}this.currentSnapshot=e}}class _y extends Ec{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Dp(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class yh{constructor(){this._count=0}validateStyleProperty(e){return Ep(e)}matchesElement(e,t){return!1}containsElement(e,t){return Tu(e,t)}query(e,t,i){return Cp(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(f=>Dp(f));let r=`@keyframes ${t} {\n`,a="";i.forEach(f=>{a=" ";const y=parseFloat(f.offset);r+=`${a}${100*y}% {\n`,a+=" ",Object.keys(f).forEach(E=>{const A=f[E];switch(E){case"offset":return;case"easing":return void(A&&(r+=`${a}animation-timing-function: ${A};\n`));default:return void(r+=`${a}${E}: ${A};\n`)}}),r+=`${a}}\n`}),r+="}\n";const d=document.createElement("style");return d.textContent=r,d}animate(e,t,i,r,a,d=[],f){const y=d.filter(Oe=>Oe instanceof b0),E={};dh(i,r)&&y.forEach(Oe=>{let qe=Oe.currentSnapshot;Object.keys(qe).forEach(ht=>E[ht]=qe[ht])});const A=function mD(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(e[r]=i[r])})}),e}(t=Us(e,t,E));if(0==i)return new _y(e,A);const S="gen_css_kf_"+this._count++,B=this.buildKeyframeElement(e,S,t);(function vy(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(B);const Q=py(e,t),he=new b0(e,t,S,i,r,a,A,Q);return he.onDestroy(()=>function by(n){n.parentNode.removeChild(n)}(B)),he}}class E0{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:Qm(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class _D{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vD().toString()),this._cssKeyframesDriver=new yh}validateStyleProperty(e){return Ep(e)}matchesElement(e,t){return!1}containsElement(e,t){return Tu(e,t)}query(e,t,i){return Cp(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,r,a,d=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,r,a,d);const A={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(A.easing=a);const S={},B=d.filter(Q=>Q instanceof E0);dh(i,r)&&B.forEach(Q=>{let he=Q.currentSnapshot;Object.keys(he).forEach(Oe=>S[Oe]=he[Oe])});const G=py(e,t=Us(e,t=t.map(Q=>_l(Q,!1)),S));return new E0(e,t,A,G)}}function vD(){return _p()&&Element.prototype.animate||{}}let bD=(()=>{class n extends Hm{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?bc(t):t;return Ey(this._renderer,null,i,"register",[r]),new x0(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class x0 extends class Pb{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new C0(this._id,e,t||{},this._renderer)}}class C0{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ey(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Ey(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const xy="@.disabled";let La=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,d)=>{const f=null==d?void 0:d.parentNode(a);f&&d.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let A=this._rendererCache.get(a);return A||(A=new vh("",a,this.engine),this._rendererCache.set(a,A)),A}const d=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=A=>{Array.isArray(A)?A.forEach(y):this.engine.registerTrigger(d,f,t,A.name,A)};return i.data.animation.forEach(y),new wD(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,f]=a;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ju),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class vh{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==xy?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class wD extends vh{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==xy?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function ED(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),d="";return"@"!=a.charAt(0)&&([a,d]=function qR(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let Cy=(()=>{class n extends ju{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(oh),c.LFG(Xo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Hs=new c.OlP("AnimationModuleType"),Pp=[{provide:Hm,useClass:bD},{provide:Xo,useFactory:function Dy(){return new tD}},{provide:ju,useClass:Cy},{provide:c.FYo,useFactory:function bh(n,e,t){return new La(n,e,t)},deps:[ki,ju,c.R0b]}],Ay=[{provide:oh,useFactory:function D0(){return function wy(){return"function"==typeof vD()}()?new _D:new yh}},{provide:Hs,useValue:"BrowserAnimations"},...Pp],A0=[{provide:oh,useClass:zm},{provide:Hs,useValue:"NoopAnimations"},...Pp];let I0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?A0:Ay}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ay,imports:[lu]}),n})();const CD=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function Hu(){return!0}});let Li=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function jd(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_o),c.LFG(CD,8),c.LFG(te))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ic],ic]}),n})();function Np(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=An(e)}}}function Ty(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Eh(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=An(e)}}}function S0(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?vu(t):this.defaultTabIndex}}}let Gs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Li],Li]}),n})();class ok{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const SD={enterDuration:225,exitDuration:150},Bp=ks({passive:!0}),Sy=["mousedown","touchstart"],F0=["mouseup","mouseleave","touchend","touchcancel"];class MD{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ra(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},SD),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const d=i.radius||function My(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,y=t-r.top,E=a.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=f-d+"px",A.style.top=y-d+"px",A.style.height=2*d+"px",A.style.width=2*d+"px",null!=i.color&&(A.style.backgroundColor=i.color),A.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(A),function P0(n){window.getComputedStyle(n).getPropertyValue("opacity")}(A),A.style.transform="scale(1)";const S=new ok(this,A,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const B=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!B||!this._isPointerDown)&&S.fadeOut()},E),S}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},SD),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ra(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Sy))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(F0),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=kb(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Ob(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Bp)})})}_removeTriggerEvents(){this._triggerElement&&(Sy.forEach(e=>{this._triggerElement.removeEventListener(e,this,Bp)}),this._pointerUpEventsRegistered&&F0.forEach(e=>{this._triggerElement.removeEventListener(e,this,Bp)}))}}const Ry=new c.OlP("mat-ripple-global-options");let Cc=(()=>{class n{constructor(t,i,r,a,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new MD(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Kn),c.Y36(Ry,8),c.Y36(Hs,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ky=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Li,Rs],Li]}),n})(),N0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Li]]}),n})();var _r=F(576);const{isArray:$s}=Array,{getPrototypeOf:Fy,prototype:Gu,keys:$u}=Object;function Dc(n){if(1===n.length){const e=n[0];if($s(e))return{args:e,keys:null};if(function zu(n){return n&&"object"==typeof n&&Fy(n)===Gu}(e)){const t=$u(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:qu}=Array;function wl(n){return(0,yt.U)(e=>function Wu(n,e){return qu(e)?n(...e):n(e)}(n,e))}function Ac(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Ic(...n){const e=(0,Zr.jO)(n),{args:t,keys:i}=Dc(n),r=new ii.y(a=>{const{length:d}=t;if(!d)return void a.complete();const f=new Array(d);let y=d,E=d;for(let A=0;A<d;A++){let S=!1;(0,pl.Xf)(t[A]).subscribe(new jn.Q(a,B=>{S||(S=!0,E--),f[A]=B},()=>y--,void 0,()=>{(!y||!S)&&(E||a.next(i?Ac(i,f):f),a.complete())}))}});return e?r.pipe(wl(e)):r}function ea(n){return(0,Di.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe(new jn.Q(t,void 0,void 0,d=>{a=(0,pl.Xf)(n(d,ea(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function Py(n){return(0,Di.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Ny=F(3099),Gi=F(5577);function Tc(n,e){return(0,_r.m)(e)?(0,Gi.z)(n,e,1):(0,Gi.z)(n,1)}class B0{}class Va{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),d=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Va?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Va;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Va?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===a.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class V0{encodeKey(e){return Ly(e)}encodeValue(e){return Ly(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const U0=/%(\d[a-f0-9])/gi,FD={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ly(n){return encodeURIComponent(n).replace(U0,(e,t)=>{var i;return null!==(i=FD[t])&&void 0!==i?i:e})}function By(n){return`${n}`}class El{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new V0,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function OD(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[d,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],y=t.get(d)||[];y.push(f),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new El({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(By(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(By(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class j0{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Vy(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function H0(n){return"undefined"!=typeof Blob&&n instanceof Blob}function G0(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ch{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function PD(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Va),this.context||(this.context=new j0),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new El,this.urlWithParams=t}serializeBody(){return null===this.body?null:Vy(this.body)||H0(this.body)||G0(this.body)||function pk(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof El?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G0(this.body)?null:H0(this.body)?this.body.type||null:Vy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof El?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,y=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,A=e.params||this.params;const S=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((B,G)=>B.set(G,e.setHeaders[G]),E)),e.setParams&&(A=Object.keys(e.setParams).reduce((B,G)=>B.set(G,e.setParams[G]),A)),new Ch(i,r,d,{params:A,headers:E,context:S,reportProgress:y,responseType:a,withCredentials:f})}}var Bi=(()=>((Bi=Bi||{})[Bi.Sent=0]="Sent",Bi[Bi.UploadProgress=1]="UploadProgress",Bi[Bi.ResponseHeader=2]="ResponseHeader",Bi[Bi.DownloadProgress=3]="DownloadProgress",Bi[Bi.Response=4]="Response",Bi[Bi.User=5]="User",Bi))();class z0 extends class Uy{constructor(e,t=200,i="OK"){this.headers=e.headers||new Va,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Bi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new z0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function q0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let W0=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof Ch)a=t;else{let y,E;y=r.headers instanceof Va?r.headers:new Va(r.headers),r.params&&(E=r.params instanceof El?r.params:new El({fromObject:r.params})),a=new Ch(t,i,void 0!==r.body?r.body:null,{headers:y,context:r.context,params:E,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=He(a).pipe(Tc(y=>this.handler.handle(y)));if(t instanceof Ch||"events"===r.observe)return d;const f=d.pipe(on(y=>y instanceof z0));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,yt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,yt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,yt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,yt.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new El).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,q0(r,i))}post(t,i,r={}){return this.request("POST",t,q0(r,i))}put(t,i,r={}){return this.request("PUT",t,q0(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(B0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ah=["*"];let Ih;function Sc(n){var e;return(null===(e=function Hy(){if(void 0===Ih&&(Ih=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Ih=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ih}())||void 0===e?void 0:e.createHTML(n))||n}function Q0(n){return Error(`Unable to find icon with the name "${n}"`)}function Hp(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function $y(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Zu{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Gp=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Zu(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const d=this._sanitizer.sanitize(c.q3G.HTML,r);if(!d)throw $y(r);const f=Sc(d);return this._addSvgIconConfig(t,i,new Zu("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Zu(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(c.q3G.HTML,i);if(!a)throw $y(i);const d=Sc(a);return this._addSvgIconSetConfig(t,new Zu("",d,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw Hp(t);const r=this._cachedIconsByUrl.get(i);return r?He($p(r)):this._loadSvgIconFromConfig(new Zu(t,null)).pipe((0,Ci.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,yt.U)(a=>$p(a)))}getNamedSvgIcon(t,i=""){const r=zy(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(t,d):function jp(n,e){const t=(0,_r.m)(n)?n:()=>n,i=r=>r.error(t());return new ii.y(e?r=>e.schedule(i,0,r):i)}(Q0(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?He($p(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,yt.U)(i=>$p(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?He(r):Ic(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(ea(f=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(E)),He(null)})))).pipe((0,yt.U)(()=>{const d=this._extractIconWithNameFromAnySet(t,i);if(!d)throw Q0(t);return d}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const d=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(d,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Ci.b)(i=>t.svgText=i),(0,yt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?He(null):this._fetchIcon(t).pipe((0,Ci.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const d=a.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const f=this._svgElementFromString(Sc("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Sc("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:d,value:f}=r[a];"id"!==d&&i.setAttribute(d,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:a}=t,d=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Gy(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!f)throw Hp(r);const y=this._inProgressUrlFetches.get(f);if(y)return y;const E=this._httpClient.get(f,{responseType:"text",withCredentials:d}).pipe((0,yt.U)(A=>Sc(A)),Py(()=>this._inProgressUrlFetches.delete(f)),(0,Ny.B)());return this._inProgressUrlFetches.set(f,E),E}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(zy(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return qy(a)?new Zu(a.url,null,a.options):new Zu(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W0,8),c.LFG(Ea),c.LFG(te,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $p(n){return n.cloneNode(!0)}function zy(n,e){return n+":"+e}function qy(n){return!(!n.url||!n.options)}const X0=Ty(class{constructor(n){this._elementRef=n}}),ew=new c.OlP("mat-icon-location",{providedIn:"root",factory:function Wy(){const n=(0,c.f3M)(te),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),zp=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],GD=zp.map(n=>`[${n}]`).join(", "),tw=/^url\(['"]?#(.*?)['"]?\)$/;let nw=(()=>{class n extends X0{constructor(t,i,r,a,d){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=d,this._inline=!1,this._currentIconFetch=or.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=An(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=t.querySelectorAll("style");for(let a=0;a<i.length;a++)i[a].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(d=>{a.setAttribute(d.name,`url('${t}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(GD),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)zp.forEach(d=>{const f=i[a],y=f.getAttribute(d),E=y?y.match(tw):null;if(E){let A=r.get(f);A||(A=[],r.set(f,A)),A.push({name:d,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Ma.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Gp),c.$8M("aria-hidden"),c.Y36(ew),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:Ah,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Zy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Li],Li]}),n})(),Ky=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),xl=(()=>{class n extends Ky{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ms=new c.OlP("NgValueAccessor"),Ik={provide:ms,useExisting:(0,c.Gpc)(()=>Th),multi:!0},QD=new c.OlP("CompositionEventMode");let Th=(()=>{class n extends Ky{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function YD(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(QD,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([Ik]),c.qOj]}),n})();const cr=new c.OlP("NgValidators"),Dl=new c.OlP("NgAsyncValidators");function eA(n){return null!=n}function Wp(n){const e=(0,c.QGY)(n)?(0,Mn.D)(n):n;return(0,c.CqO)(e),e}function Zp(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Co(n,e){return e.map(t=>t(n))}function cw(n){return n.map(e=>function tA(n){return!n.validate}(e)?e:t=>e.validate(t))}function ys(n){return null!=n?function Do(n){if(!n)return null;const e=n.filter(eA);return 0==e.length?null:function(t){return Zp(Co(t,e))}}(cw(n)):null}function Kp(n){return null!=n?function zs(n){if(!n)return null;const e=n.filter(eA);return 0==e.length?null:function(t){return Ic(Co(t,e).map(Wp)).pipe((0,yt.U)(Zp))}}(cw(n)):null}function e_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function t_(n){return n?Array.isArray(n)?n:[n]:[]}function Yp(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qp(n,e){const t=t_(e);return t_(n).forEach(r=>{Yp(t,r)||t.push(r)}),t}function Yu(n,e){return t_(e).filter(t=>!Yp(n,t))}class hw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ys(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Kp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ua extends hw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vr extends hw{get formDirective(){return null}get path(){return null}}class n_{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let fw=(()=>{class n extends n_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ua,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),r_=(()=>{class n extends n_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function Mh(n,e){s_(n,e),e.valueAccessor.writeValue(n.value),function pA(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&mw(n,e)})}(n,e),function mA(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function gA(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&mw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fA(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ig(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function s_(n,e){const t=function uw(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(e_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function dw(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(e_(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ig(e._rawValidators,r),ig(e._rawAsyncValidators,r)}function mw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Rh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Qu="VALID",Ju="INVALID",qs="PENDING",kh="DISABLED";function Al(n){return(lg(n)?n.validators:n)||null}function wA(n){return Array.isArray(n)?ys(n):n||null}function Oh(n,e){return(lg(e)?e.asyncValidators:n)||null}function EA(n){return Array.isArray(n)?Kp(n):n||null}function lg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const bw=n=>n instanceof ed;function ww(n){return(n=>n instanceof Cw)(n)?n.value:n.getRawValue()}function Ew(n,e){const t=bw(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function xw(n,e){bw(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class Xu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=wA(this._rawValidators),this._composedAsyncValidatorFn=EA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qu}get invalid(){return this.status===Ju}get pending(){return this.status==qs}get disabled(){return this.status===kh}get enabled(){return this.status!==kh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=wA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=EA(e)}addValidators(e){this.setValidators(Qp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yu(e,this._rawAsyncValidators))}hasValidator(e){return Yp(this._rawValidators,e)}hasAsyncValidator(e){return Yp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qu,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qu||this.status===qs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kh:Qu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qs,this._hasOwnPendingAsyncValidator=!0;const t=Wp(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function bA(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=bw(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof cg)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?kh:this.errors?Ju:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qs)?qs:this._anyControlsHaveStatus(Ju)?Ju:Qu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Cw extends Xu{constructor(e=null,t,i){super(Al(t),Oh(i,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Rh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Rh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ed extends Xu{constructor(e,t,i){super(Al(t),Oh(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xw(this,e),Object.keys(e).forEach(i=>{Ew(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=ww(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class cg extends Xu{constructor(e,t,i){super(Al(t),Oh(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xw(this,e),e.forEach((i,r)=>{Ew(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>ww(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ri={provide:Vr,useExisting:(0,c.Gpc)(()=>Fh)},ug=(()=>Promise.resolve(null))();let Fh=(()=>{class n extends Vr{constructor(t,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new ed({},ys(t),Kp(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ug.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Mh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ug.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),Rh(this._directives,t)})}addFormGroup(t){ug.then(()=>{const i=this._findContainer(t.path),r=new ed({});(function yw(n,e){s_(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ug.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ug.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function o_(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cr,10),c.Y36(Dl,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ri]),c.qOj]}),n})();const AA={provide:Ua,useExisting:(0,c.Gpc)(()=>Rc)},Tw=(()=>Promise.resolve(null))();let Rc=(()=>{class n extends Ua{constructor(t,i,r,a){super(),this.control=new Cw,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function og(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Th?t=a:function vw(n){return Object.getPrototypeOf(n.constructor)===xl}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function sg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function tg(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Tw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;Tw.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vr,9),c.Y36(cr,10),c.Y36(Dl,10),c.Y36(ms,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([AA]),c.qOj,c.TTD]}),n})(),Sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),l_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[l_]]}),n})(),BA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Jw]}),n})(),VA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Li],Li]}),n})(),Lh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Gs,ky,Li,N0,Fo],Gs,Li,N0,VA]}),n})(),QA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Li],Li]}),n})();var JA=F(1144);const XA=["addListener","removeListener"],eI=["addEventListener","removeEventListener"],aE=["on","off"];function ja(n,e,t,i){if((0,_r.m)(t)&&(i=t,t=void 0),i)return ja(n,e,t).pipe(wl(i));const[r,a]=function tI(n){return(0,_r.m)(n.addEventListener)&&(0,_r.m)(n.removeEventListener)}(n)?eI.map(d=>f=>n[d](e,f,t)):function mg(n){return(0,_r.m)(n.addListener)&&(0,_r.m)(n.removeListener)}(n)?XA.map(gg(n,e)):function Vh(n){return(0,_r.m)(n.on)&&(0,_r.m)(n.off)}(n)?aE.map(gg(n,e)):[];if(!r&&(0,JA.z)(n))return(0,Gi.z)(d=>ja(d,e,t))((0,pl.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ii.y(d=>{const f=(...y)=>d.next(1<y.length?y:y[0]);return r(f),()=>a(f)})}function gg(n,e){return t=>i=>n[t](e,i)}var m_=F(4408);const sd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=sd;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new or.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=sd;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=sd;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var lE=F(7565);new class iI extends lE.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const a=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<a&&(e=t.shift()));if(this._active=!1,i){for(;++r<a&&(e=t.shift());)e.unsubscribe();throw i}}}(class nI extends m_.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=sd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(sd.cancelAnimationFrame(t),e._scheduled=void 0)}});let __,Wk=1;const yg={};function kc(n){return n in yg&&(delete yg[n],!0)}const cE={setImmediate(n){const e=Wk++;return yg[e]=!0,__||(__=Promise.resolve()),__.then(()=>kc(e)&&n()),e},clearImmediate(n){kc(n)}},{setImmediate:Zk,clearImmediate:uE}=cE,_g={setImmediate(...n){const{delegate:e}=_g;return((null==e?void 0:e.setImmediate)||Zk)(...n)},clearImmediate(n){const{delegate:e}=_g;return((null==e?void 0:e.clearImmediate)||uE)(n)},delegate:void 0};new class dE extends lE.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const a=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<a&&(e=t.shift()));if(this._active=!1,i){for(;++r<a&&(e=t.shift());)e.unsubscribe();throw i}}}(class Kk extends m_.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=_g.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(_g.clearImmediate(t),e._scheduled=void 0)}});var sI=F(3532);function hE(n=0,e,t=Jd.P){let i=-1;return null!=e&&((0,sI.K)(e)?t=e:i=e),new ii.y(r=>{let a=function oI(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let d=0;return t.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function fE(n,e=Jd.P){return function v_(n){return(0,Di.e)((e,t)=>{let i=!1,r=null,a=null,d=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const E=r;r=null,t.next(E)}d&&t.complete()},y=()=>{a=null,d&&t.complete()};e.subscribe(new jn.Q(t,E=>{i=!0,r=E,a||(0,pl.Xf)(n(E)).subscribe(a=new jn.Q(t,f,y))},()=>{d=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>hE(n,e))}let pE=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new zt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ii.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(fE(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):He()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(on(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Ra(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ja(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Kn),c.LFG(te,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b_=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new zt.x,this._elementScrolled=new ii.y(d=>this.ngZone.runOutsideAngular(()=>ja(this.elementRef.nativeElement,"scroll").pipe(Hn(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Fs()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Fs()?t.left=t.right:1==Fs()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function co(){if(null==yr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yr=!1,yr;if("scrollBehavior"in document.documentElement.style)yr=!0;else{const n=Element.prototype.scrollTo;yr=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return yr}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==t?t=d?r:i:"end"==t&&(t=d?i:r),d&&2==Fs()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:d&&1==Fs()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(pE),c.Y36(c.R0b),c.Y36(qo,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),vg=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new zt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(fE(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kn),c.LFG(c.R0b),c.LFG(te,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function yE(n){return(0,yt.U)(()=>n)}const od=["*"],lI=["content"],Hh={transformDrawer:gp("transform",[Au("open, open-instant",wo({transform:"none",visibility:"visible"})),Au("void",wo({"box-shadow":"none",visibility:"hidden"})),wc("void => open-instant",Du("0ms")),wc("void <=> open, open-instant => void",Du("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},vE=new c.OlP("MAT_DRAWER_CONTAINER");let EE=(()=>{class n{constructor(t,i,r,a,d,f,y,E){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=d,this._interactivityChecker=f,this._doc=y,this._container=E,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new zt.x,this._animationEnd=new zt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(on(A=>A),(0,yt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(on(A=>A.fromState!==A.toState&&0===A.toState.indexOf("open")),yE(void 0)),this._closedStream=this.openedChange.pipe(on(A=>!A),(0,yt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(on(A=>A.fromState!==A.toState&&"void"===A.toState),yE(void 0)),this._destroyed=new zt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new zt.x,this.openedChange.subscribe(A=>{A?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ja(this._elementRef.nativeElement,"keydown").pipe(on(A=>27===A.keyCode&&!this.disableClose&&!yc(A)),Hn(this._destroyed)).subscribe(A=>this._ngZone.run(()=>{this.close(),A.stopPropagation(),A.preventDefault()}))}),this._animationEnd.pipe(lp((A,S)=>A.fromState===S.fromState&&A.toState===S.toState)).subscribe(A=>{const{fromState:S,toState:B}=A;(0===B.indexOf("open")&&"void"===S||"void"===B&&0===S.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=An(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=An(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(An(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t;this._focusTrap&&this._focusTrap.destroy(),null===(t=this._anchor)||void 0===t||t.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,Ma.q)(1)).subscribe(d=>a(d?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(BC),c.Y36(Lr),c.Y36(Kn),c.Y36(c.R0b),c.Y36(wu),c.Y36(te,8),c.Y36(vE,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&c.Gf(lI,5),2&t){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&c.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:od,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},directives:[b_],encapsulation:2,data:{animation:[Hh.transformDrawer]},changeDetection:0}),n})(),mO=(()=>{class n extends EE{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=An(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=vu(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=vu(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:od,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},directives:[b_],encapsulation:2,data:{animation:[Hh.transformDrawer]},changeDetection:0}),n})(),x_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Fo,Li,Rs,mE],mE,Li]}),n})();const C_=["mat-button",""],wg=["*"],uI=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],dI=Ty(Np(Eh(class{constructor(n){this._elementRef=n}})));let hI=(()=>{class n extends dI{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of uI)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Lr),c.Y36(Hs,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(Cc,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:C_,ngContentSelectors:wg,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1),c._UZ(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Cc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),CE=(()=>{class n extends hI{constructor(t,i,r,a){super(i,t,r),this._ngZone=a,this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Lr),c.Y36(c.SBq),c.Y36(Hs,8),c.Y36(c.R0b,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("tabindex",i.disabled?-1:i.tabIndex||0)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[c.qOj],attrs:C_,ngContentSelectors:wg,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1),c._UZ(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Cc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),A_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ky,Li],Li]}),n})(),wI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var $h=F(6451);const I_=["*"],S_=["tabListContainer"],EO=["tabList"],IE=["tabListInner"],DI=["nextPaginator"],TE=["previousPaginator"],TI=["mat-tab-nav-bar",""],SE=new c.OlP("MatInkBarPositioner",{providedIn:"root",factory:function ME(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let RE=(()=>{class n{constructor(t,i,r,a){this._elementRef=t,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=a}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const i=this._inkBarPositioner(t),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(SE),c.Y36(Hs,8))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const LI=ks({passive:!0});let RO=(()=>{class n{constructor(t,i,r,a,d,f,y){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=a,this._ngZone=d,this._platform=f,this._animationMode=y,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new zt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new zt.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new c.vpe,this.indexFocused=new c.vpe,d.runOutsideAngular(()=>{ja(t.nativeElement,"mouseleave").pipe(Hn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=vu(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){ja(this._previousPaginator.nativeElement,"touchstart",LI).pipe(Hn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ja(this._nextPaginator.nativeElement,"touchstart",LI).pipe(Hn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:He("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ka(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(r):r(),(0,$h.T)(t,i,this._items.changes).pipe(Hn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(r)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Hn(this._destroyed)).subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!yc(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const i=this._items?this._items.toArray()[t]:null;return!!i&&!i.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:d}=i.elementRef.nativeElement;let f,y;"ltr"==this._getLayoutDirection()?(f=a,y=f+d):(y=this._tabListInner.nativeElement.offsetWidth-a,f=y-d);const E=this.scrollDistance,A=this.scrollDistance+r;f<E?this.scrollDistance-=E-f+60:y>A&&(this.scrollDistance+=y-A+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),hE(650,100).pipe(Hn((0,$h.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:a}=this._scrollHeader(t);(0===a||a>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(vg),c.Y36(qo,8),c.Y36(c.R0b),c.Y36(Kn),c.Y36(Hs,8))},n.\u0275dir=c.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),OE=(()=>{class n extends RO{constructor(t,i,r,a,d,f,y){super(t,a,d,i,r,f,y),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement.classList;i.remove(`mat-background-${this.backgroundColor}`),t&&i.add(`mat-background-${t}`),this._backgroundColor=t}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=An(t)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(vo(null),Hn(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const t=this._items.toArray();for(let i=0;i<t.length;i++)if(t[i].active)return this.selectedIndex=i,void this._changeDetectorRef.markForCheck();this.selectedIndex=-1,this._inkBar.hide()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(qo,8),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(vg),c.Y36(Kn),c.Y36(Hs,8))},n.\u0275dir=c.lG2({type:n,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color"},features:[c.qOj]}),n})(),FE=(()=>{class n extends OE{constructor(t,i,r,a,d,f,y){super(t,i,r,a,d,f,y)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(qo,8),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(vg),c.Y36(Kn),c.Y36(Hs,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,P_,5),2&t){let a;c.iGM(a=c.CRH())&&(i._items=a)}},viewQuery:function(t,i){if(1&t&&(c.Gf(RE,7),c.Gf(S_,7),c.Gf(EO,7),c.Gf(IE,7),c.Gf(DI,5),c.Gf(TE,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._inkBar=r.first),c.iGM(r=c.CRH())&&(i._tabListContainer=r.first),c.iGM(r=c.CRH())&&(i._tabList=r.first),c.iGM(r=c.CRH())&&(i._tabListInner=r.first),c.iGM(r=c.CRH())&&(i._nextPaginator=r.first),c.iGM(r=c.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:10,hostBindings:function(t,i){2&t&&c.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())("mat-primary","warn"!==i.color&&"accent"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[c.qOj],attrs:TI,ngContentSelectors:I_,decls:14,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(a){return i._handlePaginatorPress("before",a)})("touchend",function(){return i._stopInterval()}),c._UZ(2,"div",2),c.qZA(),c.TgZ(3,"div",3,4),c.NdJ("keydown",function(a){return i._handleKeydown(a)}),c.TgZ(5,"div",5,6),c.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),c.TgZ(7,"div",7,8),c.Hsn(9),c.qZA(),c._UZ(10,"mat-ink-bar"),c.qZA(),c.qZA(),c.TgZ(11,"div",9,10),c.NdJ("mousedown",function(a){return i._handlePaginatorPress("after",a)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),c._UZ(13,"div",2),c.qZA()),2&t&&(c.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),c.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple),c.xp6(5),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),c.xp6(6),c.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),c.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},directives:[Cc,up,RE],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n"],encapsulation:2}),n})();const F_=S0(Eh(Np(class{})));let PE=(()=>{class n extends F_{constructor(t,i,r,a,d,f){super(),this._tabNavBar=t,this.elementRef=i,this._focusMonitor=d,this._isActive=!1,this.rippleConfig=r||{},this.tabIndex=parseInt(a)||0,"NoopAnimations"===f&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(t){const i=An(t);i!==this._isActive&&(this._isActive=i,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(OE),c.Y36(c.SBq),c.Y36(Ry,8),c.$8M("tabindex"),c.Y36(Lr),c.Y36(Hs,8))},n.\u0275dir=c.lG2({type:n,inputs:{active:"active"},features:[c.qOj]}),n})(),P_=(()=>{class n extends PE{constructor(t,i,r,a,d,f,y,E){super(t,i,d,f,y,E),this._tabLinkRipple=new MD(this,r,i,a),this._tabLinkRipple.setupTriggerEvents(i.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(FE),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Kn),c.Y36(Ry,8),c.$8M("tabindex"),c.Y36(Lr),c.Y36(Hs,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:7,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._handleFocus()}),2&t&&(c.uIk("aria-current",i.active?"page":null)("aria-disabled",i.disabled)("tabIndex",i.tabIndex),c.ekj("mat-tab-disabled",i.disabled)("mat-tab-label-active",i.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[c.qOj]}),n})(),NE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Fo,Li,wI,ky,nh,jm],Li]}),n})();const kO=["*"];let N_=(()=>{class n{constructor(t,i,r){this.el=t,this.zone=i,this.platformId=r,this.afterChange=new c.vpe,this.beforeChange=new c.vpe,this.breakpoint=new c.vpe,this.destroy=new c.vpe,this.init=new c.vpe,this.currentIndex=0,this.slides=[],this.initialized=!1,this._removedSlides=[],this._addedSlides=[]}ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!qr(this.platformId)&&(this._addedSlides.length>0||this._removedSlides.length>0)){const t=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===t?this.unslick():(this._addedSlides.forEach(i=>{this.slides.push(i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",i.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(i=>{const r=this.slides.indexOf(i);this.slides=this.slides.filter(a=>a!==i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",r)})}),this._removedSlides=[]):t>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(t,i)=>{this.zone.run(()=>{this.init.emit({event:t,slick:i})})}),this.$instance.slick(this.config),this.zone.run(()=>{var t;this.initialized=!0,this.currentIndex=(null===(t=this.config)||void 0===t?void 0:t.initialSlide)||0}),this.$instance.on("afterChange",(t,i,r)=>{this.zone.run(()=>{this.afterChange.emit({event:t,slick:i,currentSlide:r,first:0===r,last:i.$slides.length===r+i.options.slidesToScroll}),this.currentIndex=r})}),this.$instance.on("beforeChange",(t,i,r,a)=>{this.zone.run(()=>{this.beforeChange.emit({event:t,slick:i,currentSlide:r,nextSlide:a}),this.currentIndex=a})}),this.$instance.on("breakpoint",(t,i,r)=>{this.zone.run(()=>{this.breakpoint.emit({event:t,slick:i,breakpoint:r})})}),this.$instance.on("destroy",(t,i)=>{this.zone.run(()=>{this.destroy.emit({event:t,slick:i}),this.initialized=!1})})})}addSlide(t){this._addedSlides.push(t)}removeSlide(t){this._removedSlides.push(t)}slickGoTo(t){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",t)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(t){if(this.initialized){const i=t.config;if(i.previousValue!==i.currentValue&&void 0!==i.currentValue){const r=i.currentValue.refresh,a=Object.assign({},i.currentValue);delete a.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",a,r)})}}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.Lbi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[c._Bn([{provide:ms,useExisting:(0,c.Gpc)(()=>n),multi:!0}]),c.TTD],ngContentSelectors:kO,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2}),n})(),xg=(()=>{class n{constructor(t,i,r){this.el=t,this.platformId=i,this.carousel=r}ngOnInit(){Cn(this.platformId)&&this.carousel.addSlide(this)}ngOnDestroy(){Cn(this.platformId)&&this.carousel.removeSlide(this)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Lbi),c.Y36(N_,1))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngxSlickItem",""]]}),n})(),LE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Fo]]}),n})();const UI_firebase={apiKey:"AIzaSyAIrk7d9ItwDfdfHpKQa8ws5AmU1qfOu7Y",authDomain:"basheer-fa573.firebaseapp.com",projectId:"basheer-fa573",storageBucket:"basheer-fa573.appspot.com",messagingSenderId:"972779189740",appId:"1:972779189740:web:f681146633f9f1bea4bcc9"};var ta=F(2011),vr=F(5813);function L_(){return(0,Di.e)((n,e)=>{let t,i=!1;n.subscribe(new jn.Q(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function B_(n,e,t,i,r){return(a,d)=>{let f=t,y=e,E=0;a.subscribe(new jn.Q(d,A=>{const S=E++;y=f?n(y,A,S):(f=!0,A),i&&d.next(y)},r&&(()=>{f&&d.next(y),d.complete()})))}}function qh(n,e){return(0,Di.e)(B_(n,e,arguments.length>=2,!0))}F(5881);var nt,jI=F(3942),be=F(5861),Oc=F(9681),br=F(4859),Il=F(1877),jt=F(2090),HI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ga={},Cg=Cg||{},Ot=HI||self;function Dg(){}function Ag(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ad(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var V_="closure_uid_"+(1e9*Math.random()>>>0),U_=0;function Ao(n,e,t){return n.call.apply(n.bind,arguments)}function $I(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function wr(n,e,t){return(wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ao:$I).apply(null,arguments)}function Ig(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function $i(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[r].apply(i,d)}}function Tl(){this.s=this.s,this.o=this.o}var BE={};Tl.prototype.s=!1,Tl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function GI(n){return Object.prototype.hasOwnProperty.call(n,V_)&&n[V_]||(n[V_]=++U_)}(this);delete BE[n]}},Tl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},qI=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function j_(n){return Array.prototype.concat.apply([],arguments)}function H_(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Tg(n){return/^[\s\xa0]*$/.test(n)}var Er,G_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Vi(n,e){return-1!=n.indexOf(e)}function Wh(n,e){return n<e?-1:n>e?1:0}e:{var jE=Ot.navigator;if(jE){var $_=jE.userAgent;if($_){Er=$_;break e}}Er=""}function Sg(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function HE(n){const e={};for(const t in n)e[t]=n[t];return e}var GE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WI(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<GE.length;a++)t=GE[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function $E(n){return $E[" "](n),n}$E[" "]=Dg;var z_,n,ZI=Vi(Er,"Opera"),ld=Vi(Er,"Trident")||Vi(Er,"MSIE"),qE=Vi(Er,"Edge"),WE=qE||ld,KI=Vi(Er,"Gecko")&&!(Vi(Er.toLowerCase(),"webkit")&&!Vi(Er,"Edge"))&&!(Vi(Er,"Trident")||Vi(Er,"MSIE"))&&!Vi(Er,"Edge"),OO=Vi(Er.toLowerCase(),"webkit")&&!Vi(Er,"Edge");function YI(){var n=Ot.document;return n?n.documentMode:void 0}e:{var q_="",cd=(n=Er,KI?/rv:([^\);]+)(\)|;)/.exec(n):qE?/Edge\/([\d\.]+)/.exec(n):ld?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):OO?/WebKit\/(\S+)/.exec(n):ZI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cd&&(q_=cd?cd[1]:""),ld){var W_=YI();if(null!=W_&&W_>parseFloat(q_)){z_=String(W_);break e}}z_=q_}var QI={};var K_=Ot.document&&ld&&(YI()||parseInt(z_,10))||void 0,Y_=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Dg,e),Ot.removeEventListener("test",Dg,e)}catch(t){}return n}();function xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Fc(n,e){if(xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(KI){e:{try{$E(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Q_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fc.Z.h.call(this)}}xr.prototype.h=function(){this.defaultPrevented=!0},$i(Fc,xr);var Q_={2:"touch",3:"pen",4:"mouse"};Fc.prototype.h=function(){Fc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ud="closure_listenable_"+(1e6*Math.random()|0),KE=0;function FO(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++KE,this.ca=this.fa=!1}function J_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function X_(n){this.src=n,this.g={},this.h=0}function YE(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=VE(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(J_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function QE(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}X_.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=QE(n,e,i,r);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new FO(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var JE="closure_lm_"+(1e6*Math.random()|0),XE={};function ev(n,e,t,i,r){if(i&&i.once)return tx(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)ev(n,e[a],t,i,r);return null}return t=Rg(t),n&&n[ud]?n.N(e,t,ad(i)?!!i.capture:!!i,r):ex(n,e,t,!1,i,r)}function ex(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var d=ad(r)?!!r.capture:!!r,f=nv(n);if(f||(n[JE]=f=new X_(n)),(t=f.add(e,t,i,d,a)).proxy)return t;if(i=function JI(){var e=ix;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Y_||(r=d),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(tv(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function tx(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)tx(n,e[a],t,i,r);return null}return t=Rg(t),n&&n[ud]?n.O(e,t,ad(i)?!!i.capture:!!i,r):ex(n,e,t,!0,i,r)}function nx(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)nx(n,e[a],t,i,r);else i=ad(i)?!!i.capture:!!i,t=Rg(t),n&&n[ud]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=QE(a=n.g[e],t,i,r))&&(J_(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=nv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=QE(e,t,i,r)),(t=-1<n?e[n]:null)&&Mg(t))}function Mg(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ud])YE(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(tv(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=nv(e))?(YE(t,n),0==t.h&&(t.src=null,e[JE]=null)):J_(n)}}}function tv(n){return n in XE?XE[n]:XE[n]="on"+n}function ix(n,e){if(n.ca)n=!0;else{e=new Fc(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Mg(n),n=t.call(i,e)}return n}function nv(n){return(n=n[JE])instanceof X_?n:null}var iv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rg(n){return"function"==typeof n?n:(n[iv]||(n[iv]=function(e){return n.handleEvent(e)}),n[iv])}function yi(){Tl.call(this),this.i=new X_(this),this.P=this,this.I=null}function Cr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new xr(e,n);else if(e instanceof xr)e.target=e.target||n;else{var r=e;WI(e=new xr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];r=Zh(d,i,!0,e)&&r}if(r=Zh(d=e.g=n,i,!0,e)&&r,r=Zh(d,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Zh(d=e.g=t[a],i,!1,e)&&r}function Zh(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ca&&d.capture==t){var f=d.listener,y=d.ia||d.src;d.fa&&YE(n.i,d),r=!1!==f.call(y,i)&&r}}return r&&!i.defaultPrevented}$i(yi,Tl),yi.prototype[ud]=!0,yi.prototype.removeEventListener=function(n,e,t,i){nx(this,n,e,t,i)},yi.prototype.M=function(){if(yi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)J_(t[i]);delete n.g[e],n.h--}}this.I=null},yi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},yi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var dd=Ot.JSON.stringify;function XI(){var n=sx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sv,rx=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tT,n=>n.reset());class tT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function PO(n){Ot.setTimeout(()=>{throw n},0)}function rv(n,e){sv||function nT(){var n=Ot.Promise.resolve(void 0);sv=function(){n.then(iT)}}(),ov||(sv(),ov=!0),sx.add(n,e)}var ov=!1,sx=new class eT{constructor(){this.h=this.g=null}add(e,t){const i=rx.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function iT(){for(var n;n=XI();){try{n.h.call(n.g)}catch(t){PO(t)}var e=rx;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ov=!1}function kg(n,e){yi.call(this),this.h=n||1,this.g=e||Ot,this.j=wr(this.kb,this),this.l=Date.now()}function av(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ox(n,e,t){if("function"==typeof n)t&&(n=wr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function rT(n){n.g=ox(()=>{n.g=null,n.i&&(n.i=!1,rT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$i(kg,yi),(nt=kg.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cr(this,"tick"),this.da&&(av(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){kg.Z.M.call(this),av(this),delete this.g};class NO extends Tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rT(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Og(n){Tl.call(this),this.h=n,this.g={}}$i(Og,Tl);var sT=[];function ax(n,e,t,i){Array.isArray(t)||(t&&(sT[0]=t.toString()),t=sT);for(var r=0;r<t.length;r++){var a=ev(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function oT(n){Sg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Mg(e)},n),n.g={}}function lv(){this.g=!0}function s(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function l(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<r.length;d++)r[d]=""}}}return dd(t)}catch(f){return e}}(n,t)+(i?" "+i:"")})}Og.prototype.M=function(){Og.Z.M.call(this),oT(this)},Og.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lv.prototype.Aa=function(){this.g=!1},lv.prototype.info=function(){};var u={},h=null;function g(){return h=h||new yi}function _(n){xr.call(this,u.Ma,n)}function w(n){const e=g();Cr(e,new _(e,n))}function x(n,e){xr.call(this,u.STAT_EVENT,n),this.stat=e}function I(n){const e=g();Cr(e,new x(e,n))}function M(n,e){xr.call(this,u.Na,n),this.size=e}function P(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}u.Ma="serverreachability",$i(_,xr),u.STAT_EVENT="statevent",$i(x,xr),u.Na="timingevent",$i(M,xr);var H={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},J={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function me(){}function $e(){}me.prototype.h=null;var Gt,Xe={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ie(){xr.call(this,"d")}function _t(){xr.call(this,"c")}function nn(){}function ur(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Og(this),this.P=cv,this.W=new kg(n=WE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sl}function Sl(){this.i=null,this.g="",this.h=!1}$i(Ie,xr),$i(_t,xr),$i(nn,me),nn.prototype.g=function(){return new XMLHttpRequest},nn.prototype.i=function(){return{}},Gt=new nn;var cv=45e3,Kh={},hd={};function Yh(n,e,t){n.K=1,n.v=hx(Nc(e)),n.s=t,n.U=!0,Fg(n,null)}function Fg(n,e){n.F=Date.now(),Pc(n),n.A=Nc(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),zO(t.h,"t",i),n.C=0,t=n.l.H,n.h=new Sl,n.g=pF(n.l,t?e:null,!n.s),0<n.O&&(n.L=new NO(wr(n.Ia,n,n.g),n.O)),ax(n.V,n.g,"readystatechange",n.gb),e=n.H?HE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),w(1),function LO(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),y=0;y<f.length;y++){var E=f[y].split("=");if(1<E.length){var A=E[0];E=E[1];var S=A.split("_");d=2<=S.length&&"type"==S[1]?d+(A+"=")+E+"&":d+(A+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Pg(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Ng(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=uv(n,t),r==hd){4==e&&(n.o=4,I(14),i=!1),s(n.j,n.m,null,"[Incomplete Response]");break}if(r==Kh){n.o=4,I(15),s(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}s(n.j,n.m,r,null),aT(n,r)}Pg(n)&&r!=hd&&r!=Kh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,I(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),_T(e),e.L=!0,I(11))):(s(n.j,n.m,t,"[Invalid Chunked Response]"),Qh(n),dv(n))}function uv(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?hd:(t=Number(e.substring(t,i)),isNaN(t)?Kh:(i+=1)+t>e.length?hd:(e=e.substr(i,t),n.C=i+t,e))}function Pc(n){n.Y=Date.now()+n.P,VO(n,n.P)}function VO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=P(wr(n.eb,n),e)}function lx(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function dv(n){0==n.l.G||n.I||uF(n.l,n)}function Qh(n){lx(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,av(n.W),oT(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function aT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||uT(t.i,n)))if(t.I=n.N,!n.J&&uT(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(E){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=P(wr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;_x(t),mx(t)}yT(t),I(18)}if(1>=ZO(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else ef(t,11)}else if((n.J||t.g==n)&&_x(t),!Tg(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let E=r[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const A=E[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const S=E[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const B=E[5];null!=B&&"number"==typeof B&&0<B&&(t.K=i=1.5*B,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const G=n.g;if(G){const Q=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var a=i.i;!a.g&&(Vi(Q,"spdy")||Vi(Q,"quic")||Vi(Q,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(dT(a,a.h),a.h=null))}if(i.D){const he=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;he&&(i.sa=he,si(i.F,i.D,he))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((i=t).oa=fF(i,i.H?i.la:null,i.W),d.J){KO(i.i,d);var f=d,y=i.K;y&&f.setTimeout(y),f.B&&(lx(f),Pc(f)),i.g=d}else lF(i);0<t.l.length&&yx(t)}else"stop"!=E[0]&&"close"!=E[0]||ef(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?ef(t,7):gT(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}w(4)}catch(E){}}function lT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ag(n)||"string"==typeof n)qI(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ag(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function cV(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ag(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function Lg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Lg)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function cT(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Jh(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Jh(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Jh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=ur.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==Lc(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const A=Lc(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>A)&&(3!=A||WE||this.g&&(this.h.h||this.g.ga()||iF(this.g)))){this.I||4!=A||7==e||w(8==e||0>=S?3:2),lx(this);var t=this.g.ba();this.N=t;t:if(Pg(this)){var i=iF(this.g);n="";var r=i.length,a=4==Lc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Qh(this),dv(this);var d="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function BO(n,e,t,i,r,a,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tg(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,I(12),Qh(this),dv(this);break e}s(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,aT(this,t)}this.U?(Ng(this,A,d),WE&&this.i&&3==A&&(ax(this.V,this.W,"tick",this.fb),this.W.start())):(s(this.j,this.m,d,null),aT(this,d)),4==A&&Qh(this),this.i&&!this.I&&(4==A?uF(this.l,this):(this.i=!1,Pc(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,I(12)):(this.o=0,I(13)),Qh(this),dv(this)}}}catch(A){}},nt.fb=function(){if(this.g){var n=Lc(this.g),e=this.g.ga();this.C<e.length&&(lx(this),Ng(this,n,e),this.i&&4!=n&&Pc(this))}},nt.cancel=function(){this.I=!0,Qh(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function o(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(w(3),I(17)),Qh(this),this.o=2,dv(this)):VO(this,this.Y-n)},(nt=Lg.prototype).R=function(){cT(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return cT(this),this.g.concat()},nt.get=function(n,e){return Jh(this.h,n)?this.h[n]:e},nt.set=function(n,e){Jh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var UO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Xh){this.g=void 0!==e?e:n.g,cx(this,n.j),this.s=n.s,ux(this,n.i),dx(this,n.m),this.l=n.l,e=n.h;var t=new pv;t.i=e.i,e.g&&(t.g=new Lg(e.g),t.h=e.h),jO(this,t),this.o=n.o}else n&&(t=String(n).match(UO))?(this.g=!!e,cx(this,t[1]||"",!0),this.s=hv(t[2]||""),ux(this,t[3]||"",!0),dx(this,t[4]),this.l=hv(t[5]||"",!0),jO(this,t[6]||"",!0),this.o=hv(t[7]||"")):(this.g=!!e,this.h=new pv(null,this.g))}function Nc(n){return new Xh(n)}function cx(n,e,t){n.j=t?hv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ux(n,e,t){n.i=t?hv(e,!0):e}function dx(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function jO(n,e,t){e instanceof pv?(n.h=e,function _V(n,e){e&&!n.j&&(fd(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(GO(this,i),zO(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=fv(e,mV)),n.h=new pv(e,n.g))}function si(n,e,t){n.h.set(e,t)}function hx(n){return si(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fV),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fV(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fv(e,HO,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fv(e,HO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(fv(t,"/"==t.charAt(0)?gV:pV,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fv(t,yV)),n.join("")};var HO=/[#\/\?@]/g,pV=/[#\?:]/g,gV=/[#\?]/g,mV=/[#\?@]/g,yV=/#/g;function pv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fd(n){n.g||(n.g=new Lg,n.h=0,n.i&&function uV(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function GO(n,e){fd(n),e=Bg(n,e),Jh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Jh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&cT(n)))}function $O(n,e){return fd(n),e=Bg(n,e),Jh(n.g.h,e)}function zO(n,e,t){GO(n,e),0<t.length&&(n.i=null,n.g.set(Bg(n,e),H_(t)),n.h+=t.length)}function Bg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qO(n){this.l=n||bV,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=pv.prototype).add=function(n,e){fd(this),this.i=null,n=Bg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){fd(this),this.g.forEach(function(t,i){qI(t,function(r){n.call(e,r,i,this)},this)},this)},nt.T=function(){fd(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},nt.R=function(n){fd(this);var e=[];if("string"==typeof n)$O(this,n)&&(e=j_(e,this.g.get(Bg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=j_(e,n[t])}return e},nt.set=function(n,e){return fd(this),this.i=null,$O(this,n=Bg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var d=r;""!==i[a]&&(d+="="+encodeURIComponent(String(i[a]))),n.push(d)}}return this.i=n.join("&")};var bV=10;function WO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ZO(n){return n.h?1:n.g?n.g.size:0}function uT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dT(n,e){n.g?n.g.add(e):n.h=e}function KO(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function YO(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return H_(n.i)}function hT(){}function wV(){this.g=new hT}function EV(n,e,t){const i=t||"";try{lT(n,function(r,a){let d=r;ad(r)&&(d=dd(r)),e.push(i+a+"="+encodeURIComponent(d))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function fx(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function gv(n){this.l=n.$b||null,this.j=n.ib||!1}function px(n,e){yi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=fT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qO.prototype.cancel=function(){if(this.i=YO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hT.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},hT.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},$i(gv,me),gv.prototype.g=function(){return new px(this.l,this.j)},gv.prototype.i=function(n){return function(){return n}}({}),$i(px,yi);var fT=0;function QO(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function mv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yv(n)}function yv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=px.prototype).open=function(n,e){if(this.readyState!=fT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yv(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mv(this)),this.readyState=fT},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yv(this)),this.g&&(this.readyState=3,yv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QO(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mv(this):yv(this),3==this.readyState&&QO(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,mv(this))},nt.Ta=function(n){this.g&&(this.response=n,mv(this))},nt.ha=function(){this.g&&mv(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(px.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CV=Ot.JSON.parse;function zi(n){yi.call(this),this.headers=new Lg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=JO,this.K=this.L=!1}$i(zi,yi);var JO="",DV=/^https?$/i,AV=["POST","PUT"];function TV(n){return"content-type"==n.toLowerCase()}function XO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,eF(n),gx(n)}function eF(n){n.D||(n.D=!0,Cr(n,"complete"),Cr(n,"error"))}function tF(n){if(n.h&&void 0!==Cg&&(!n.C[1]||4!=Lc(n)||2!=n.ba()))if(n.v&&4==Lc(n))ox(n.Fa,0,n);else if(Cr(n,"readystatechange"),4==Lc(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(UO)[1]||null;if(!r&&Ot.self&&Ot.self.location){var a=Ot.self.location.protocol;r=a.substr(0,a.length-1)}i=!DV.test(r?r.toLowerCase():"")}t=i}if(t)Cr(n,"complete"),Cr(n,"success");else{n.m=6;try{var d=2<Lc(n)?n.g.statusText:""}catch(y){d=""}n.j=d+" ["+n.ba()+"]",eF(n)}}finally{gx(n)}}}function gx(n,e){if(n.g){nF(n);const t=n.g,i=n.C[0]?Dg:null;n.g=null,n.C=null,e||Cr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function nF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function Lc(n){return n.g?n.g.readyState:0}function iF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case JO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function pT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function SV(n){let e="";return Sg(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):si(n,e,t))}function _v(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rF(n){this.za=0,this.l=[],this.h=new lv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_v("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_v("baseRetryDelayMs",5e3,n),this.$a=_v("retryDelaySeedMs",1e4,n),this.Ya=_v("forwardChannelMaxRetries",2,n),this.ra=_v("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new qO(n&&n.concurrentRequestLimit),this.Ca=new wV,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function gT(n){if(sF(n),3==n.G){var e=n.V++,t=Nc(n.F);si(t,"SID",n.J),si(t,"RID",e),si(t,"TYPE","terminate"),vv(n,t),(e=new ur(n,n.h,e,void 0)).K=2,e.v=hx(Nc(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=pF(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pc(e)}hF(n)}function mx(n){n.g&&(_T(n),n.g.cancel(),n.g=null)}function sF(n){mx(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),_x(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function mT(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&yx(n)}function yx(n){WO(n.i)||n.m||(n.m=!0,rv(n.Ha,n),n.C=0)}function oF(n,e){var t;t=e?e.m:n.V++;const i=Nc(n.F);si(i,"SID",n.J),si(i,"RID",t),si(i,"AID",n.U),vv(n,i),n.o&&n.s&&pT(i,n.o,n.s),t=new ur(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=aF(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dT(n.i,t),Yh(t,i,e)}function vv(n,e){n.j&&lT({},function(t,i){si(e,i,t)})}function aF(n,e,t){t=Math.min(n.l.length,t);var i=n.j?wr(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=r[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let E=r[y].h;const A=r[y].g;if(E-=a,0>E)a=Math.max(0,r[y].h-100),f=!1;else try{EV(A,d,"req"+E+"_")}catch(S){i&&i(A)}}if(f){i=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function lF(n){n.g||n.u||(n.Y=1,rv(n.Ga,n),n.A=0)}function yT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=P(wr(n.Ga,n),dF(n,n.A)),n.A++,0))}function _T(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function cF(n){n.g=new ur(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Nc(n.oa);si(e,"RID","rpc"),si(e,"SID",n.J),si(e,"CI",n.N?"0":"1"),si(e,"AID",n.U),vv(n,e),si(e,"TYPE","xmlhttp"),n.o&&n.s&&pT(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=hx(Nc(e)),t.s=null,t.U=!0,Fg(t,n)}function _x(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function uF(n,e){var t=null;if(n.g==e){_x(n),_T(n),n.g=null;var i=2}else{if(!uT(n.i,e))return;t=e.D,KO(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Cr(i=g(),new M(i,t,e,r)),yx(n)}else lF(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function MV(n,e){return!(ZO(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=P(wr(n.Ha,n,e),dF(n,n.C)),n.C++,0)))}(n,e)||2==i&&yT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:ef(n,5);break;case 4:ef(n,10);break;case 3:ef(n,6);break;default:ef(n,2)}}function dF(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ef(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=wr(n.jb,n);t||(t=new Xh("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||cx(t,"https"),hx(t)),function xV(n,e){const t=new lv;if(Ot.Image){const i=new Image;i.onload=Ig(fx,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Ig(fx,t,i,"TestLoadImage: error",!1,e),i.onabort=Ig(fx,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ig(fx,t,i,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else I(2);n.G=0,n.j&&n.j.va(e),hF(n),sF(n)}function hF(n){n.G=0,n.I=-1,n.j&&((0!=YO(n.i).length||0!=n.l.length)&&(n.i.i.length=0,H_(n.l),n.l.length=0),n.j.ua())}function fF(n,e,t){let i=function dV(n){return n instanceof Xh?Nc(n):new Xh(n,void 0)}(t);if(""!=i.i)e&&ux(i,e+"."+i.i),dx(i,i.m);else{const r=Ot.location;i=function hV(n,e,t,i){var r=new Xh(null,void 0);return n&&cx(r,n),e&&ux(r,e),t&&dx(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Sg(n.aa,function(r,a){si(i,a,r)}),t=n.sa,(e=n.D)&&t&&si(i,e,t),si(i,"VER",n.ma),vv(n,i),i}function pF(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zi(t&&n.Ba&&!n.qa?new gv({ib:!0}):n.qa)).L=n.H,e}function gF(){}function vx(){if(ld&&!(10<=Number(K_)))throw Error("Environmental error: no available transport.")}function Io(n,e){yi.call(this),this.g=new rF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Tg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Vg(this)}function mF(n){Ie.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yF(){_t.call(this),this.status=1}function Vg(n){this.g=n}(nt=zi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gt.g(),this.C=function Le(n){return n.h||(n.h=n.i())}(this.u?this.u:Gt),this.g.onreadystatechange=wr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void XO(this,a)}n=t||"";const r=new Lg(this.headers);i&&lT(i,function(a,d){r.set(d,a)}),i=function UE(n){e:{var e=TV;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=VE(AV,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nF(this),0<this.B&&((this.K=function IV(n){return ld&&function ZE(){return function zE(n){var e=QI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=G_(String(z_)).split("."),t=G_("9").split("."),i=Math.max(e.length,t.length);for(let d=0;0==n&&d<i;d++){var r=e[d]||"",a=t[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Wh(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Wh(0==r[2].length,0==a[2].length)||Wh(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.pa,this)):this.A=ox(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){XO(this,a)}},nt.pa=function(){void 0!==Cg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Cr(this,"complete"),Cr(this,"abort"),gx(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gx(this,!0)),zi.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?tF(this):this.cb())},nt.cb=function(){tF(this)},nt.ba=function(){try{return 2<Lc(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),CV(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=rF.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new ur(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=HE(a),WI(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=aF(this,r,e),si(t=Nc(this.F),"RID",n),si(t,"CVER",22),this.D&&si(t,"X-HTTP-Session-Id",this.D),vv(this,t),this.o&&a&&pT(t,this.o,a),dT(this.i,r),this.Ra&&si(t,"TYPE","init"),this.ja?(si(t,"$req",e),si(t,"SID","null"),r.$=!0,Yh(r,t,null)):Yh(r,t,e),this.G=2}}else 3==this.G&&(n?oF(this,n):0==this.l.length||WO(this.i)||oF(this))},nt.Ga=function(){if(this.u=null,cF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=P(wr(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,I(10),mx(this),cF(this))},nt.ab=function(){null!=this.v&&(this.v=null,mx(this),yT(this),I(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),I(2)):(this.h.info("Failed to ping google.com"),I(1))},(nt=gF.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},vx.prototype.g=function(n,e){return new Io(n,e)},$i(Io,yi),Io.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),rv(wr(n.hb,n,e))),I(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=fF(n,null,n.W),yx(n)},Io.prototype.close=function(){gT(this.g)},Io.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,mT(this.g,e)}else this.v?((e={}).__data__=dd(n),mT(this.g,e)):mT(this.g,n)},Io.prototype.M=function(){this.g.j=null,delete this.j,gT(this.g),delete this.g,Io.Z.M.call(this)},$i(mF,Ie),$i(yF,_t),$i(Vg,gF),Vg.prototype.xa=function(){Cr(this.g,"a")},Vg.prototype.wa=function(n){Cr(this.g,new mF(n))},Vg.prototype.va=function(n){Cr(this.g,new yF(n))},Vg.prototype.ua=function(){Cr(this.g,"b")},vx.prototype.createWebChannel=vx.prototype.g,Io.prototype.send=Io.prototype.u,Io.prototype.open=Io.prototype.m,Io.prototype.close=Io.prototype.close,H.NO_ERROR=0,H.TIMEOUT=8,H.HTTP_ERROR=6,J.COMPLETE="complete",$e.EventType=Xe,Xe.OPEN="a",Xe.CLOSE="b",Xe.ERROR="c",Xe.MESSAGE="d",yi.prototype.listen=yi.prototype.N,zi.prototype.listenOnce=zi.prototype.O,zi.prototype.getLastError=zi.prototype.La,zi.prototype.getLastErrorCode=zi.prototype.Da,zi.prototype.getStatus=zi.prototype.ba,zi.prototype.getResponseJson=zi.prototype.Qa,zi.prototype.getResponseText=zi.prototype.ga,zi.prototype.send=zi.prototype.ea;var RV=Ga.createWebChannelTransport=function(){return new vx},kV=Ga.getStatEventTarget=function(){return g()},vT=Ga.ErrorCode=H,OV=Ga.EventType=J,FV=Ga.Event=u,_F=Ga.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},PV=Ga.FetchXmlHttpFactory=gv,bx=Ga.WebChannel=$e,NV=Ga.XhrIo=zi;const vF="@firebase/firestore";class Ur{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");let Ug="9.6.5";const pd=new Il.Yd("@firebase/firestore");function bT(){return pd.logLevel}function je(n,...e){if(pd.logLevel<=Il.in.DEBUG){const t=e.map(wT);pd.debug(`Firestore (${Ug}): ${n}`,...t)}}function qi(n,...e){if(pd.logLevel<=Il.in.ERROR){const t=e.map(wT);pd.error(`Firestore (${Ug}): ${n}`,...t)}}function bv(n,...e){if(pd.logLevel<=Il.in.WARN){const t=e.map(wT);pd.warn(`Firestore (${Ug}): ${n}`,...t)}}function wT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Et(n="Unexpected state"){const e=`FIRESTORE (${Ug}) INTERNAL ASSERTION FAILED: `+n;throw qi(e),new Error(e)}function Ft(n,e){n||Et()}function Ye(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends jt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ur.UNAUTHENTICATED))}shutdown(){}}class UV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jV{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=E=>this.i!==r?(r=this.i,t(E)):Promise.resolve();let d=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Dr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const E=d;e.enqueueRetryable((0,be.Z)(function*(){yield E.promise,yield a(i.currentUser)}))},y=E=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Dr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new bF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new Ur(e)}}class HV{constructor(e,t,i){this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class GV{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new HV(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $V{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=r=>{e.enqueueRetryable(()=>{return null!=(a=r).error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`),t(a.token);var a})};const i=r=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?i(r):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),new wF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class To{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.p(i),this.T=i=>t.writeSequenceNumber(i))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function zV(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}To.I=-1;class EF{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=zV(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Xt(n,e){return n<e?-1:n>e?1:0}function jg(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function xF(n){return n+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ar(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Ar(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function CF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function tf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wv{constructor(e,t,i){void 0===t?t=0:t>e.length&&Et(),void 0===i?i=e.length-t:i>e.length-t&&Et(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===wv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),d=t.get(r);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wn extends wv{construct(e,t,i){return new wn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Fe(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new wn(t)}static emptyPath(){return new wn([])}}const qV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends wv{construct(e,t,i){return new jr(e,t,i)}static isValidIdentifier(e){return qV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Fe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Fe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[r+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Fe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,r+=2}else"`"===f?(d=!d,r++):"."!==f||d?(i+=f,r++):(a(),r++)}if(a(),d)throw new Fe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(t)}static emptyPath(){return new jr([])}}class Hg{constructor(e){this.fields=e,e.sort(jr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jg(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new dr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new dr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const ZV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gd(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=ZV.exec(n);if(Ft(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wi(n.seconds),nanos:Wi(n.nanos)}}function Wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gg(n){return"string"==typeof n?dr.fromBase64String(n):dr.fromUint8Array(n)}function ET(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function AF(n){const e=n.mapValue.fields.__previous_value__;return ET(e)?AF(e):e}function Ev(n){const e=gd(n.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}function nf(n){return null==n}function wx(n){return 0===n&&1/n==-1/0}function IF(n){return"number"==typeof n&&Number.isInteger(n)&&!wx(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(wn.fromString(e))}static fromName(e){return new pt(wn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new wn(e.slice()))}}function rf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ET(n)?4:10:Et()}function Ml(n,e){if(n===e)return!0;const t=rf(n);if(t!==rf(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ev(n).isEqual(Ev(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=gd(i.timestampValue),d=gd(r.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Gg(n.bytesValue).isEqual(Gg(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Wi(i.geoPointValue.latitude)===Wi(r.geoPointValue.latitude)&&Wi(i.geoPointValue.longitude)===Wi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Wi(i.integerValue)===Wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Wi(i.doubleValue),d=Wi(r.doubleValue);return a===d?wx(a)===wx(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return jg(n.arrayValue.values||[],e.arrayValue.values||[],Ml);case 10:return function(i,r){const a=i.mapValue.fields||{},d=r.mapValue.fields||{};if(CF(a)!==CF(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!Ml(a[f],d[f])))return!1;return!0}(n,e);default:return Et()}var r}function xv(n,e){return void 0!==(n.values||[]).find(t=>Ml(t,e))}function $g(n,e){if(n===e)return 0;const t=rf(n),i=rf(e);if(t!==i)return Xt(t,i);switch(t){case 0:return 0;case 1:return Xt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const d=Wi(r.integerValue||r.doubleValue),f=Wi(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return TF(n.timestampValue,e.timestampValue);case 4:return TF(Ev(n),Ev(e));case 5:return Xt(n.stringValue,e.stringValue);case 6:return function(r,a){const d=Gg(r),f=Gg(a);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const d=r.split("/"),f=a.split("/");for(let y=0;y<d.length&&y<f.length;y++){const E=Xt(d[y],f[y]);if(0!==E)return E}return Xt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const d=Xt(Wi(r.latitude),Wi(a.latitude));return 0!==d?d:Xt(Wi(r.longitude),Wi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const d=r.values||[],f=a.values||[];for(let y=0;y<d.length&&y<f.length;++y){const E=$g(d[y],f[y]);if(E)return E}return Xt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){const d=r.fields||{},f=Object.keys(d),y=a.fields||{},E=Object.keys(y);f.sort(),E.sort();for(let A=0;A<f.length&&A<E.length;++A){const S=Xt(f[A],E[A]);if(0!==S)return S;const B=$g(d[f[A]],y[E[A]]);if(0!==B)return B}return Xt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw Et()}}function TF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xt(n,e);const t=gd(n),i=gd(e),r=Xt(t.seconds,i.seconds);return 0!==r?r:Xt(t.nanos,i.nanos)}function xT(n){return CT(n)}function CT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=gd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gg(n.bytesValue).toBase64():"referenceValue"in n?pt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const d of i.values||[])a?a=!1:r+=",",r+=CT(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",d=!0;for(const f of r)d?d=!1:a+=",",a+=`${f}:${CT(i.fields[f])}`;return a+"}"}(n.mapValue):Et();var e}function Ex(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function DT(n){return!!n&&"integerValue"in n}function AT(n){return!!n&&"arrayValue"in n}function SF(n){return!!n&&"nullValue"in n}function MF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xx(n){return!!n&&"mapValue"in n}function Cv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return tf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Cv(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cv(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ts{constructor(e){this.value=e}static empty(){return new ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!xx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cv(t)}setAll(e){let t=jr.emptyPath(),i={},r=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,i,r),i={},r=[],t=f.popLast()}d?i[f.lastSegment()]=Cv(d):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());xx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ml(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];xx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){tf(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new ts(Cv(this.value))}}function RF(n){const e=[];return tf(n.fields,(t,i)=>{const r=new jr([t]);if(xx(i)){const a=RF(i.mapValue).fields;if(0===a.length)e.push(r);else for(const d of a)e.push(r.child(d))}else e.push(r)}),new Hg(e)}class oi{constructor(e,t,i,r,a){this.key=e,this.documentType=t,this.version=i,this.data=r,this.documentState=a}static newInvalidDocument(e){return new oi(e,0,Ut.min(),ts.empty(),0)}static newFoundDocument(e,t,i){return new oi(e,1,t,i,0)}static newNoDocument(e,t){return new oi(e,2,t,ts.empty(),0)}static newUnknownDocument(e,t){return new oi(e,3,t,ts.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class KV{constructor(e,t=null,i=[],r=[],a=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=d,this.endAt=f,this.R=null}}function kF(n,e=null,t=[],i=[],r=null,a=null,d=null){return new KV(n,e,t,i,r,a,d)}function Dv(n){const e=Ye(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>function QV(n){return n.field.canonicalString()+n.op.toString()+xT(n.value)}(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Ax(e.startAt)),e.endAt&&(t+="|ub:",t+=Ax(e.endAt)),e.R=t}return e.R}function Cx(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!o2(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Ml(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PF(n.startAt,e.startAt)&&PF(n.endAt,e.endAt)}function Dx(n){return pt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class _s extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,i):new JV(e,t,i):"array-contains"===t?new t2(e,i):"in"===t?new n2(e,i):"not-in"===t?new r2(e,i):"array-contains-any"===t?new s2(e,i):new _s(e,t,i)}static P(e,t,i){return"in"===t?new XV(e,i):new e2(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v($g(t,this.value)):null!==t&&rf(this.value)===rf(t)&&this.v($g(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class JV extends _s{constructor(e,t,i){super(e,t,i),this.key=pt.fromName(i.referenceValue)}matches(e){const t=pt.comparator(e.key,this.key);return this.v(t)}}class XV extends _s{constructor(e,t){super(e,"in",t),this.keys=OF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class e2 extends _s{constructor(e,t){super(e,"not-in",t),this.keys=OF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>pt.fromName(i.referenceValue))}class t2 extends _s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return AT(t)&&xv(t.arrayValue,this.value)}}class n2 extends _s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xv(this.value.arrayValue,t)}}class r2 extends _s{constructor(e,t){super(e,"not-in",t)}matches(e){if(xv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xv(this.value.arrayValue,t)}}class s2 extends _s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!AT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xv(this.value.arrayValue,i))}}class Av{constructor(e,t){this.position=e,this.before=t}}function Ax(n){return`${n.before?"b":"a"}:${n.position.map(e=>xT(e)).join(",")}`}class zg{constructor(e,t="asc"){this.field=e,this.dir=t}}function o2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function FF(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],d=n.position[r];if(i=a.field.isKeyField()?pt.comparator(pt.fromName(d.referenceValue),t.key):$g(d,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function PF(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ml(n.position[t],e.position[t]))return!1;return!0}class Bc{constructor(e,t=null,i=[],r=[],a=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=y,this.S=null,this.D=null}}function NF(n,e,t,i,r,a,d,f){return new Bc(n,e,t,i,r,a,d,f)}function qg(n){return new Bc(n)}function Ix(n){return!nf(n.limit)&&"F"===n.limitType}function Tx(n){return!nf(n.limit)&&"L"===n.limitType}function IT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function TT(n){for(const e of n.filters)if(e.V())return e.field;return null}function ST(n){return null!==n.collectionGroup}function Wg(n){const e=Ye(n);if(null===e.S){e.S=[];const t=TT(e),i=IT(e);if(null!==t&&null===i)t.isKeyField()||e.S.push(new zg(t)),e.S.push(new zg(jr.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.S.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new zg(jr.keyField(),a))}}}return e.S}function na(n){const e=Ye(n);if(!e.D)if("F"===e.limitType)e.D=kF(e.path,e.collectionGroup,Wg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Wg(e))t.push(new zg(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Av(e.endAt.position,!e.endAt.before):null,r=e.startAt?new Av(e.startAt.position,!e.startAt.before):null;e.D=kF(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.D}function LF(n,e,t){return new Bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Iv(n,e){return Cx(na(n),na(e))&&n.limitType===e.limitType}function BF(n){return`${Dv(na(n))}|lt:${n.limitType}`}function MT(n){return`Query(target=${function YV(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${xT(i.value)}`;var i}).join(", ")}]`),nf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Ax(n.startAt)),n.endAt&&(e+=", endAt: "+Ax(n.endAt)),`Target(${e})`}(na(n))}; limitType=${n.limitType})`}function Tv(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):pt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!FF(t.startAt,Wg(t),i)||t.endAt&&FF(t.endAt,Wg(t),i)));var t,i}function VF(n){return(e,t)=>{let i=!1;for(const r of Wg(n)){const a=a2(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function a2(n,e,t){const i=n.field.isKeyField()?pt.comparator(e.key,t.key):function(r,a,d){const f=a.data.field(r),y=d.data.field(r);return null!==f&&null!==y?$g(f,y):Et()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et()}}function UF(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wx(e)?"-0":e}}function jF(n){return{integerValue:""+n}}function HF(n,e){return IF(e)?jF(e):UF(n,e)}class Sx{constructor(){this._=void 0}}function l2(n,e,t){return n instanceof Zg?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof sf?$F(n,e):n instanceof af?zF(n,e):function(i,r){const a=GF(i,r),d=qF(a)+qF(i.N);return DT(a)&&DT(i.N)?jF(d):UF(i.k,d)}(n,e)}function c2(n,e,t){return n instanceof sf?$F(n,e):n instanceof af?zF(n,e):t}function GF(n,e){return n instanceof Kg?DT(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Zg extends Sx{}class sf extends Sx{constructor(e){super(),this.elements=e}}function $F(n,e){const t=WF(e);for(const i of n.elements)t.some(r=>Ml(r,i))||t.push(i);return{arrayValue:{values:t}}}class af extends Sx{constructor(e){super(),this.elements=e}}function zF(n,e){let t=WF(e);for(const i of n.elements)t=t.filter(r=>!Ml(r,i));return{arrayValue:{values:t}}}class Kg extends Sx{constructor(e,t){super(),this.k=e,this.N=t}}function qF(n){return Wi(n.integerValue||n.doubleValue)}function WF(n){return AT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Sv{constructor(e,t){this.field=e,this.transform=t}}class d2{constructor(e,t){this.version=e,this.transformResults=t}}class Zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mx(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Rx{}function h2(n,e,t){n instanceof Mv?function(i,r,a){const d=i.value.clone(),f=QF(i.fieldTransforms,r,a.transformResults);d.setAll(f),r.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof md?function(i,r,a){if(!Mx(i.precondition,r))return void r.convertToUnknownDocument(a.version);const d=QF(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(YF(i)),f.setAll(d),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function RT(n,e,t){var r;n instanceof Mv?function(i,r,a){if(!Mx(i.precondition,r))return;const d=i.value.clone(),f=JF(i.fieldTransforms,a,r);d.setAll(f),r.convertToFoundDocument(KF(r),d).setHasLocalMutations()}(n,e,t):n instanceof md?function(i,r,a){if(!Mx(i.precondition,r))return;const d=JF(i.fieldTransforms,a,r),f=r.data;f.setAll(YF(i)),f.setAll(d),r.convertToFoundDocument(KF(r),f).setHasLocalMutations()}(n,e,t):Mx(n.precondition,r=e)&&r.convertToNoDocument(Ut.min())}function f2(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=GF(i.transform,r||null);null!=a&&(null==t&&(t=ts.empty()),t.set(i.field,a))}return t||null}function ZF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&jg(t,i,(r,a)=>function u2(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof sf&&i instanceof sf||t instanceof af&&i instanceof af?jg(t.elements,i.elements,Ml):t instanceof Kg&&i instanceof Kg?Ml(t.N,i.N):t instanceof Zg&&i instanceof Zg);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function KF(n){return n.isFoundDocument()?n.version:Ut.min()}class Mv extends Rx{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class md extends Rx{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}}function YF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function QF(n,e,t){const i=new Map;Ft(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],d=a.transform,f=e.data.field(a.field);i.set(a.field,c2(d,f,t[r]))}return i}function JF(n,e,t){const i=new Map;for(const r of n){const a=r.transform,d=t.data.field(r.field);i.set(r.field,l2(a,d,e))}return i}class Rv extends Rx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class kT extends Rx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class p2{constructor(e){this.count=e}}var Ki,an;function XF(n){switch(n){default:return Et();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function eP(n){if(void 0===n)return qi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Ki.OK:return ue.OK;case Ki.CANCELLED:return ue.CANCELLED;case Ki.UNKNOWN:return ue.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return ue.INTERNAL;case Ki.UNAVAILABLE:return ue.UNAVAILABLE;case Ki.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ki.NOT_FOUND:return ue.NOT_FOUND;case Ki.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ki.ABORTED:return ue.ABORTED;case Ki.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ki.DATA_LOSS:return ue.DATA_LOSS;default:return Et()}}(an=Ki||(Ki={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class hr{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kx(this.root,e,this.comparator,!1)}getReverseIterator(){return new kx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kx(this.root,e,this.comparator,!0)}}class kx{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:Hr.RED,this.left=null!=r?r:Hr.EMPTY,this.right=null!=a?a:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Hr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Hr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Hr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ii{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tP(this.data.getIterator())}getIteratorFrom(e){return new tP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ii(this.comparator);return t.data=e,t}}class tP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const g2=new hr(pt.comparator);function ia(){return g2}const m2=new hr(pt.comparator);function OT(){return m2}const y2=new hr(pt.comparator);function nP(){return y2}const _2=new Ii(pt.comparator);function kn(...n){let e=_2;for(const t of n)e=e.add(t);return e}const v2=new Ii(Xt);function Ox(){return v2}class kv{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Ov.createSynthesizedTargetChangeForCurrentChange(e,t)),new kv(Ut.min(),i,Ox(),ia(),kn())}}class Ov{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ov(dr.EMPTY_BYTE_STRING,t,kn(),kn(),kn())}}class Fx{constructor(e,t,i,r){this.$=e,this.removedTargetIds=t,this.key=i,this.O=r}}class iP{constructor(e,t){this.targetId=e,this.M=t}}class rP{constructor(e,t,i=dr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class sP{constructor(){this.F=0,this.L=aP(),this.B=dr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=kn(),t=kn(),i=kn();return this.L.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Et()}}),new Ov(this.B,this.U,e,t,i)}H(){this.q=!1,this.L=aP()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class b2{constructor(e){this.et=e,this.nt=new Map,this.st=ia(),this.it=oP(),this.rt=new Ii(Xt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const i=this.ht(t);switch(e.state){case 0:this.lt(t)&&i.W(e.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(e.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(t);break;case 3:this.lt(t)&&(i.tt(),i.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),i.W(e.resumeToken));break;default:Et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((i,r)=>{this.lt(r)&&t(r)})}dt(e){const t=e.targetId,i=e.M.count,r=this.wt(t);if(r){const a=r.target;if(Dx(a))if(0===i){const d=new pt(a.path);this.at(t,d,oi.newNoDocument(d,Ut.min()))}else Ft(1===i);else this._t(t)!==i&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((a,d)=>{const f=this.wt(d);if(f){if(a.current&&Dx(f.target)){const y=new pt(f.target.path);null!==this.st.get(y)||this.yt(d,y)||this.at(d,y,oi.newNoDocument(y,e))}a.j&&(t.set(d,a.G()),a.H())}});let i=kn();this.it.forEach((a,d)=>{let f=!0;d.forEachWhile(y=>{const E=this.wt(y);return!E||2===E.purpose||(f=!1,!1)}),f&&(i=i.add(a))});const r=new kv(e,t,this.rt,this.st,i);return this.st=ia(),this.it=oP(),this.rt=new Ii(Xt),r}ct(e,t){if(!this.lt(e))return;const i=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,i),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,i){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),i&&(this.st=this.st.insert(t,i))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new sP,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Ii(Xt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new sP),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function oP(){return new hr(pt.comparator)}function aP(){return new hr(pt.comparator)}const w2={asc:"ASCENDING",desc:"DESCENDING"},E2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class x2{constructor(e,t){this.databaseId=e,this.C=t}}function Fv(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lP(n,e){return n.C?e.toBase64():e.toUint8Array()}function C2(n,e){return Fv(n,e.toTimestamp())}function Ir(n){return Ft(!!n),Ut.fromTimestamp(function(e){const t=gd(e);return new Ar(t.seconds,t.nanos)}(n))}function FT(n,e){return(t=n,new wn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cP(n){const e=wn.fromString(n);return Ft(wP(e)),e}function Pv(n,e){return FT(n.databaseId,e.path)}function Rl(n,e){const t=cP(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pt(dP(t))}function PT(n,e){return FT(n.databaseId,e)}function uP(n){const e=cP(n);return 4===e.length?wn.emptyPath():dP(e)}function Nv(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dP(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hP(n,e,t){return{name:Pv(n,e),fields:t.value.mapValue.fields}}function fP(n,e,t){const i=Rl(n,e.name),r=Ir(e.updateTime),a=new ts({mapValue:{fields:e.fields}}),d=oi.newFoundDocument(i,r,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Px(n,e){let t;if(e instanceof Mv)t={update:hP(n,e.key,e.value)};else if(e instanceof Rv)t={delete:Pv(n,e.key)};else if(e instanceof md)t={update:hP(n,e.key,e.data),updateMask:O2(e.fieldMask)};else{if(!(e instanceof kT))return Et();t={verify:Pv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const d=a.transform;if(d instanceof Zg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof sf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof af)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kg)return{fieldPath:a.field.canonicalString(),increment:d.N};throw Et()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:C2(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Et()),t;var r}function pP(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Zi.updateTime(Ir(r.updateTime)):void 0!==r.exists?Zi.exists(r.exists):Zi.none():Zi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,d){let f=null;"setToServerValue"in d?(Ft("REQUEST_TIME"===d.setToServerValue),f=new Zg):"appendMissingElements"in d?f=new sf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new af(d.removeAllFromArray.values||[]):"increment"in d?f=new Kg(a,d.increment):Et();const y=jr.fromServerFormat(d.fieldPath);return new Sv(y,f)}(n,r)):[];var r;if(e.update){const r=Rl(n,e.update.name),a=new ts({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Hg((e.updateMask.fieldPaths||[]).map(E=>jr.fromServerFormat(E)));return new md(r,a,d,t,i)}return new Mv(r,a,t,i)}if(e.delete){const r=Rl(n,e.delete);return new Rv(r,t)}if(e.verify){const r=Rl(n,e.verify);return new kT(r,t)}return Et()}function gP(n,e){return{documents:[PT(n,e.path)]}}function mP(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=PT(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PT(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const y=f.map(E=>function(A){if("=="===A.op){if(MF(A.value))return{unaryFilter:{field:Yg(A.field),op:"IS_NAN"}};if(SF(A.value))return{unaryFilter:{field:Yg(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(MF(A.value))return{unaryFilter:{field:Yg(A.field),op:"IS_NOT_NAN"}};if(SF(A.value))return{unaryFilter:{field:Yg(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yg(A.field),op:M2(A.op),value:A.value}}}(E));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(f){if(0!==f.length)return f.map(y=>{return{field:Yg((E=y).field),direction:S2(E.dir)};var E})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(y=e.limit,n.C||nf(y)?y:{value:y});var y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=vP(e.startAt)),e.endAt&&(t.structuredQuery.endAt=vP(e.endAt)),t}function yP(n){let e=uP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ft(1===i);const A=t.from[0];A.allDescendants?r=A.collectionId:e=e.child(A.collectionId)}let a=[];t.where&&(a=_P(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new zg(Qg((S=A).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(A){let S;return S="object"==typeof A?A.value:A,nf(S)?null:S}(t.limit));let y=null;t.startAt&&(y=bP(t.startAt));let E=null;return t.endAt&&(E=bP(t.endAt)),NF(e,r,d,a,f,"F",y,E)}function _P(n){return n?void 0!==n.unaryFilter?[k2(n)]:void 0!==n.fieldFilter?[R2(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>_P(e)).reduce((e,t)=>e.concat(t)):Et():[]}function vP(n){return{before:n.before,values:n.position}}function bP(n){return new Av(n.values||[],!!n.before)}function S2(n){return w2[n]}function M2(n){return E2[n]}function Yg(n){return{fieldPath:n.canonicalString()}}function Qg(n){return jr.fromServerFormat(n.fieldPath)}function R2(n){return _s.create(Qg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(n.fieldFilter.op),n.fieldFilter.value)}function k2(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Qg(n.unaryFilter.field);return _s.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Qg(n.unaryFilter.field);return _s.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qg(n.unaryFilter.field);return _s.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Qg(n.unaryFilter.field);return _s.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}function O2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function za(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EP(e)),e=F2(n.get(t),e);return EP(e)}function F2(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function EP(n){return n+"\x01\x01"}function Vc(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&Et(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let y;0===r.length?y=f:(r+=f,y=r,r=""),i.push(y);break;case"\x10":r+=n.substring(a,d),r+="\0";break;case"\x11":r+=n.substring(a,d+1);break;default:Et()}a=d+2}return new wn(i)}class P2{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class So{constructor(e,t,i){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=i}}So.store="owner",So.key="owner";class yd{constructor(e,t,i){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=i}}yd.store="mutationQueues",yd.keyPath="userId";class Qn{constructor(e,t,i,r,a){this.userId=e,this.batchId=t,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=a}}Qn.store="mutations",Qn.keyPath="batchId",Qn.userMutationsIndex="userMutationsIndex",Qn.userMutationsKeyPath=["userId","batchId"];class ns{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,za(t)]}static key(e,t,i){return[e,za(t),i]}}ns.store="documentMutations",ns.PLACEHOLDER=new ns;class N2{constructor(e,t){this.path=e,this.readTime=t}}class L2{constructor(e,t){this.path=e,this.version=t}}class Ti{constructor(e,t,i,r,a,d){this.unknownDocument=e,this.noDocument=t,this.document=i,this.hasCommittedMutations=r,this.readTime=a,this.parentPath=d}}Ti.store="remoteDocuments",Ti.readTimeIndex="readTimeIndex",Ti.readTimeIndexPath="readTime",Ti.collectionReadTimeIndex="collectionReadTimeIndex",Ti.collectionReadTimeIndexPath=["parentPath","readTime"];class kl{constructor(e){this.byteSize=e}}kl.store="remoteDocumentGlobal",kl.key="remoteDocumentGlobalKey";class Ws{constructor(e,t,i,r,a,d,f){this.targetId=e,this.canonicalId=t,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=d,this.query=f}}Ws.store="targets",Ws.keyPath="targetId",Ws.queryTargetsIndexName="queryTargetsIndex",Ws.queryTargetsKeyPath=["canonicalId","targetId"];class Gr{constructor(e,t,i){this.targetId=e,this.path=t,this.sequenceNumber=i}}Gr.store="targetDocuments",Gr.keyPath=["targetId","path"],Gr.documentTargetsIndex="documentTargetsIndex",Gr.documentTargetsKeyPath=["path","targetId"];class Mo{constructor(e,t,i,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}Mo.key="targetGlobalKey",Mo.store="targetGlobal";class lf{constructor(e,t){this.collectionId=e,this.parent=t}}lf.store="collectionParents",lf.keyPath=["collectionId","parent"];class Uc{constructor(e,t,i,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=i,this.inForeground=r}}Uc.store="clientMetadata",Uc.keyPath="clientId";class Jg{constructor(e,t,i){this.bundleId=e,this.createTime=t,this.version=i}}Jg.store="bundles",Jg.keyPath="bundleId";class Xg{constructor(e,t,i){this.name=e,this.readTime=t,this.bundledQuery=i}}Xg.store="namedQueries",Xg.keyPath="name";const B2=[yd.store,Qn.store,ns.store,Ti.store,Ws.store,So.store,Mo.store,Gr.store,Uc.store,kl.store,lf.store,Jg.store,Xg.store],xP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ke((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ke?t:ke.resolve(t)}catch(t){return ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ke.reject(t)}static resolve(e){return new ke((t,i)=>{t(e)})}static reject(e){return new ke((t,i)=>{i(e)})}static waitFor(e){return new ke((t,i)=>{let r=0,a=0,d=!1;e.forEach(f=>{++r,f.next(()=>{++a,d&&a===r&&t()},y=>i(y))}),d=!0,a===r&&t()})}static or(e){let t=ke.resolve(!1);for(const i of e)t=t.next(r=>r?ke.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}}class Nx{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Dr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Lv(e,t.error)):this.It.resolve()},this.transaction.onerror=i=>{const r=NT(i.target.error);this.It.reject(new Lv(e,r))}}static open(e,t,i,r){try{return new Nx(t,e.transaction(r,i))}catch(a){throw new Lv(t,a)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new U2(t)}}class qa{constructor(e,t,i){this.name=e,this.version=t,this.Rt=i,12.2===qa.bt((0,jt.z$)())&&qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),uf(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,jt.hl)())return!1;if(qa.vt())return!0;const e=(0,jt.z$)(),t=qa.bt(e),i=0<t&&t<10,r=qa.Vt(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(e){var t=this;return(0,be.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{i(d.target.result)},a.onblocked=()=>{r(new Lv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;r("VersionError"===f.name?new Fe(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Lv(e,f))},a.onupgradeneeded=d=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Rt.Nt(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=i=>t.kt(i)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,be.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Ct(e);const y=Nx.open(a.db,e,d?"readonly":"readwrite",i),E=r(y).catch(A=>(y.abort(A),ke.reject(A))).toPromise();return E.catch(()=>{}),yield y.At,E}catch(y){const E="FirebaseError"!==y.name&&f<3;if(je("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),a.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class V2{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return uf(this.$t.delete())}}class Lv extends Fe{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function cf(n){return"IndexedDbTransactionError"===n.name}class U2{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),uf(i)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),uf(this.store.add(e))}get(e){return uf(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),uf(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),uf(this.store.count())}Bt(e,t){const i=this.cursor(this.options(e,t)),r=[];return this.Ut(i,(a,d)=>{r.push(d)}).next(()=>r)}qt(e,t){je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Kt=!1;const r=this.cursor(i);return this.Ut(r,(a,d,f)=>f.delete())}jt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new ke((i,r)=>{t.onerror=a=>{const d=NT(a.target.error);r(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():i()}):i()}})}Ut(e,t){const i=[];return new ke((r,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void r();const y=new V2(f),E=t(f.primaryKey,f.value,y);if(E instanceof ke){const A=E.catch(S=>(y.done(),ke.reject(S)));i.push(A)}y.isDone?r():null===y.Ft?f.continue():f.continue(y.Ft)}}).next(()=>ke.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Kt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function uf(n){return new ke((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=NT(i.target.error);t(r)}})}let DP=!1;function NT(n){const e=qa.bt((0,jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DP||(DP=!0,setTimeout(()=>{throw i},0)),i}}return n}class AP extends CP{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Zs(n,e){const t=Ye(n);return qa.Dt(t.Wt,e)}class LT{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&h2(a,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&RT(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&RT(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Ut.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kn())}isEqual(e){return this.batchId===e.batchId&&jg(this.mutations,e.mutations,(t,i)=>ZF(t,i))&&jg(this.baseMutations,e.baseMutations,(t,i)=>ZF(t,i))}}class BT{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ft(e.mutations.length===i.length);let r=nP();const a=e.mutations;for(let d=0;d<a.length;d++)r=r.insert(a[d].key,i[d].version);return new BT(e,t,i,r)}}class _d{constructor(e,t,i,r,a=Ut.min(),d=Ut.min(),f=dr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new _d(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class IP{constructor(e){this.Gt=e}}function VT(n,e){if(e.document)return fP(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=pt.fromSegments(e.noDocument.path),i=tm(e.noDocument.readTime),r=oi.newNoDocument(t,i);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){const t=pt.fromSegments(e.unknownDocument.path),i=tm(e.unknownDocument.version);return oi.newUnknownDocument(t,i)}return Et()}function TP(n,e,t){const i=UT(t),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const a={name:Pv(f=n.Gt,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:Fv(f,y.version.toTimestamp())};return new Ti(null,null,a,e.hasCommittedMutations,i,r)}var f,y;if(e.isNoDocument()){const a=e.key.path.toArray(),d=em(e.version),f=e.hasCommittedMutations;return new Ti(null,new N2(a,d),null,f,i,r)}if(e.isUnknownDocument()){const a=e.key.path.toArray(),d=em(e.version);return new Ti(new L2(a,d),null,null,!0,i,r)}return Et()}function UT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function SP(n){const e=new Ar(n[0],n[1]);return Ut.fromTimestamp(e)}function em(n){const e=n.toTimestamp();return new P2(e.seconds,e.nanoseconds)}function tm(n){const e=new Ar(n.seconds,n.nanoseconds);return Ut.fromTimestamp(e)}function nm(n,e){const t=(e.baseMutations||[]).map(a=>pP(n.Gt,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>pP(n.Gt,a)),r=Ar.fromMillis(e.localWriteTimeMs);return new LT(e.batchId,r,t,i)}function Bv(n){const e=tm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tm(n.lastLimboFreeSnapshotVersion):Ut.min();let i;var r;return void 0!==n.query.documents?(Ft(1===(r=n.query).documents.length),i=na(qg(uP(r.documents[0])))):i=na(yP(n.query)),new _d(i,n.targetId,0,n.lastListenSequenceNumber,e,t,dr.fromBase64String(n.resumeToken))}function MP(n,e){const t=em(e.snapshotVersion),i=em(e.lastLimboFreeSnapshotVersion);let r;r=Dx(e.target)?gP(n.Gt,e.target):mP(n.Gt,e.target);const a=e.resumeToken.toBase64();return new Ws(e.targetId,Dv(e.target),t,a,e.sequenceNumber,i,r)}function jT(n){const e=yP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?LF(e,e.limit,"L"):e}class j2{getBundleMetadata(e,t){return RP(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:tm(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return RP(e).put({bundleId:(i=t).id,createTime:em(Ir(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return kP(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:jT(r.bundledQuery),readTime:tm(r.readTime)};var r})}saveNamedQuery(e,t){return kP(e).put({name:(i=t).name,readTime:em(Ir(i.readTime)),bundledQuery:i.bundledQuery});var i}}function RP(n){return Zs(n,Jg.store)}function kP(n){return Zs(n,Xg.store)}class H2{constructor(){this.zt=new HT}addToCollectionParentIndex(e,t){return this.zt.add(t),ke.resolve()}getCollectionParents(e,t){return ke.resolve(this.zt.getEntries(t))}}class HT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ii(wn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ii(wn.comparator)).toArray()}}class G2{constructor(){this.Ht=new HT}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const a={collectionId:i,parent:za(r)};return OP(e).put(a)}return ke.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[xF(t),""],!1,!0);return OP(e).Bt(r).next(a=>{for(const d of a){if(d.collectionId!==t)break;i.push(Vc(d.parent))}return i})}}function OP(n){return Zs(n,lf.store)}const FP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ks{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PP(n,e,t){const i=n.store(Qn.store),r=n.store(ns.store),a=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=i.jt({range:d},(A,S,B)=>(f++,B.delete()));a.push(y.next(()=>{Ft(1===f)}));const E=[];for(const A of t.mutations){const S=ns.key(e,A.key.path,t.batchId);a.push(r.delete(S)),E.push(A.key)}return ke.waitFor(a).next(()=>E)}function Lx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Et();e=n.noDocument}return JSON.stringify(e).length}Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(41943040,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);class GT{constructor(e,t,i,r){this.userId=e,this.k=t,this.Jt=i,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,i,r){Ft(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new GT(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vd(e).jt({index:Qn.userMutationsIndex,range:i},(r,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=im(e),d=vd(e);return d.add({}).next(f=>{Ft("number"==typeof f);const y=new LT(f,t,i,r),E=function(B,G,Q){const he=Q.baseMutations.map(qe=>Px(B.Gt,qe)),Oe=Q.mutations.map(qe=>Px(B.Gt,qe));return new Qn(G,Q.batchId,Q.localWriteTime.toMillis(),he,Oe)}(this.k,this.userId,y),A=[];let S=new Ii((B,G)=>Xt(B.canonicalString(),G.canonicalString()));for(const B of r){const G=ns.key(this.userId,B.key.path,f);S=S.add(B.key.path.popLast()),A.push(d.put(E)),A.push(a.put(G,ns.PLACEHOLDER))}return S.forEach(B=>{A.push(this.Jt.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Yt[f]=y.keys()}),ke.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return vd(e).get(t).next(i=>i?(Ft(i.userId===this.userId),nm(this.k,i)):null)}Zt(e,t){return this.Yt[t]?ke.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Yt[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return vd(e).jt({index:Qn.userMutationsIndex,range:r},(d,f,y)=>{f.userId===this.userId&&(Ft(f.batchId>=i),a=nm(this.k,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return vd(e).jt({index:Qn.userMutationsIndex,range:t,reverse:!0},(r,a,d)=>{i=a.batchId,d.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vd(e).Bt(Qn.userMutationsIndex,t).next(i=>i.map(r=>nm(this.k,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=ns.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return im(e).jt({range:r},(d,f,y)=>{const[E,A,S]=d,B=Vc(A);if(E===this.userId&&t.path.isEqual(B))return vd(e).get(S).next(G=>{if(!G)throw Et();Ft(G.userId===this.userId),a.push(nm(this.k,G))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ii(Xt);const r=[];return t.forEach(a=>{const d=ns.prefixForPath(this.userId,a.path),f=IDBKeyRange.lowerBound(d),y=im(e).jt({range:f},(E,A,S)=>{const[B,G,Q]=E,he=Vc(G);B===this.userId&&a.path.isEqual(he)?i=i.add(Q):S.done()});r.push(y)}),ke.waitFor(r).next(()=>this.te(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=ns.prefixForPath(this.userId,i),d=IDBKeyRange.lowerBound(a);let f=new Ii(Xt);return im(e).jt({range:d},(y,E,A)=>{const[S,B,G]=y,Q=Vc(B);S===this.userId&&i.isPrefixOf(Q)?Q.length===r&&(f=f.add(G)):A.done()}).next(()=>this.te(e,f))}te(e,t){const i=[],r=[];return t.forEach(a=>{r.push(vd(e).get(a).next(d=>{if(null===d)throw Et();Ft(d.userId===this.userId),i.push(nm(this.k,d))}))}),ke.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return PP(e.Wt,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),ke.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ke.resolve();const i=IDBKeyRange.lowerBound(ns.prefixForUser(this.userId)),r=[];return im(e).jt({range:i},(a,d,f)=>{if(a[0]===this.userId){const y=Vc(a[1]);r.push(y)}else f.done()}).next(()=>{Ft(0===r.length)})})}containsKey(e,t){return NP(e,this.userId,t)}ne(e){return LP(e).get(this.userId).next(t=>t||new yd(this.userId,-1,""))}}function NP(n,e,t){const i=ns.prefixForPath(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let d=!1;return im(n).jt({range:a,Kt:!0},(f,y,E)=>{const[A,S,B]=f;A===e&&S===r&&(d=!0),E.done()}).next(()=>d)}function vd(n){return Zs(n,Qn.store)}function im(n){return Zs(n,ns.store)}function LP(n){return Zs(n,yd.store)}class df{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new df(0)}static re(){return new df(-1)}}class $2{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const i=new df(t.highestTargetId);return t.highestTargetId=i.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Ut.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.oe(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ce(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(i=>(i.targetCount+=1,this.ue(t,i),this.ce(e,i))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rm(e).delete(t.targetId)).next(()=>this.oe(e)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.ce(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return rm(e).jt((d,f)=>{const y=Bv(f);y.sequenceNumber<=t&&null===i.get(y.targetId)&&(r++,a.push(this.removeTargetData(e,y)))}).next(()=>ke.waitFor(a)).next(()=>r)}forEachTarget(e,t){return rm(e).jt((i,r)=>{const a=Bv(r);t(a)})}oe(e){return BP(e).get(Mo.key).next(t=>(Ft(null!==t),t))}ce(e,t){return BP(e).put(Mo.key,t)}ae(e,t){return rm(e).put(MP(this.k,t))}ue(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Dv(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return rm(e).jt({range:r,index:Ws.queryTargetsIndexName},(d,f,y)=>{const E=Bv(f);Cx(t,E.target)&&(a=E,y.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=bd(e);return t.forEach(d=>{const f=za(d.path);r.push(a.put(new Gr(i,f))),r.push(this.referenceDelegate.addReference(e,i,d))}),ke.waitFor(r)}removeMatchingKeys(e,t,i){const r=bd(e);return ke.forEach(t,a=>{const d=za(a.path);return ke.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=bd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=bd(e);let a=kn();return r.jt({range:i,Kt:!0},(d,f,y)=>{const E=Vc(d[1]),A=new pt(E);a=a.add(A)}).next(()=>a)}containsKey(e,t){const i=za(t.path),r=IDBKeyRange.bound([i],[xF(i)],!1,!0);let a=0;return bd(e).jt({index:Gr.documentTargetsIndex,Kt:!0,range:r},([d,f],y,E)=>{0!==d&&(a++,E.done())}).next(()=>a>0)}Et(e,t){return rm(e).get(t).next(i=>i?Bv(i):null)}}function rm(n){return Zs(n,Ws.store)}function BP(n){return Zs(n,Mo.store)}function bd(n){return Zs(n,Gr.store)}function hf(n){return $T.apply(this,arguments)}function $T(){return $T=(0,be.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==xP)throw n;je("LocalStore","Unexpectedly lost primary lease")}),$T.apply(this,arguments)}function VP([n,e],[t,i]){const r=Xt(n,t);return 0===r?Xt(e,i):r}class z2{constructor(e){this.he=e,this.buffer=new Ii(VP),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();VP(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class q2{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const i=this.we?3e5:6e4;je("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,be.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){cf(r)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield hf(r)}yield t.me(e)}))}}class W2{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ke.resolve(To.I);const i=new z2(t);return this.ge.forEachTarget(e,r=>i.de(r.sequenceNumber)).next(()=>this.ge.pe(e,r=>i.de(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.ge.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(FP)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FP):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let i,r,a,d,f,y,E;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,d=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,y=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(E=Date.now(),bT()<=Il.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${r} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${S} documents in `+(E-y)+`ms\nTotal Duration: ${E-A}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:S})))}}class Z2{constructor(e,t){this.db=e,this.garbageCollector=new W2(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Ee(e){let t=0;return this.pe(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(i,r)=>t(r))}addReference(e,t,i){return Bx(e,i)}removeReference(e,t,i){return Bx(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Bx(e,t)}Ae(e,t){return function(i,r){let a=!1;return LP(i).Qt(d=>NP(i,d,r).next(f=>(f&&(a=!0),ke.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Ie(e,(d,f)=>{if(f<=t){const y=this.Ae(e,d).next(E=>{if(!E)return a++,i.getEntry(e,d).next(()=>(i.removeEntry(d),bd(e).delete([0,za(d.path)])))});r.push(y)}}).next(()=>ke.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Bx(e,t)}Ie(e,t){const i=bd(e);let r,a=To.I;return i.jt({index:Gr.documentTargetsIndex},([d,f],{path:y,sequenceNumber:E})=>{0===d?(a!==To.I&&t(new pt(Vc(r)),a),a=E,r=y):a=To.I}).next(()=>{a!==To.I&&t(new pt(Vc(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bx(n,e){return bd(n).put((i=n.currentSequenceNumber,new Gr(0,za(e.path),i)));var i}class sm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0!==r){for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t])}else this.inner[i]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),!0;return!1}forEach(e){tf(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return DF(this.inner)}}class UP{constructor(){this.changes=new sm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ut.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:oi.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ke.resolve(i.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class K2{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,i){return wd(e).put(Vx(t),i)}removeEntry(e,t){const i=wd(e),r=Vx(t);return i.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Re(e,i)))}getEntry(e,t){return wd(e).get(Vx(t)).next(i=>this.be(t,i))}Pe(e,t){return wd(e).get(Vx(t)).next(i=>({document:this.be(t,i),size:Lx(i)}))}getEntries(e,t){let i=ia();return this.ve(e,t,(r,a)=>{const d=this.be(r,a);i=i.insert(r,d)}).next(()=>i)}Ve(e,t){let i=ia(),r=new hr(pt.comparator);return this.ve(e,t,(a,d)=>{const f=this.be(a,d);i=i.insert(a,f),r=r.insert(a,Lx(d))}).next(()=>({documents:i,Se:r}))}ve(e,t,i){if(t.isEmpty())return ke.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),a=t.getIterator();let d=a.getNext();return wd(e).jt({range:r},(f,y,E)=>{const A=pt.fromSegments(f);for(;d&&pt.comparator(d,A)<0;)i(d,null),d=a.getNext();d&&d.isEqual(A)&&(i(d,y),d=a.hasNext()?a.getNext():null),d?E.Lt(d.path.toArray()):E.done()}).next(()=>{for(;d;)i(d,null),d=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,i){let r=ia();const a=t.path.length+1,d={};if(i.isEqual(Ut.min())){const f=t.path.toArray();d.range=IDBKeyRange.lowerBound(f)}else{const f=t.path.toArray(),y=UT(i);d.range=IDBKeyRange.lowerBound([f,y],!0),d.index=Ti.collectionReadTimeIndex}return wd(e).jt(d,(f,y,E)=>{if(f.length!==a)return;const A=VT(this.k,y);t.path.isPrefixOf(A.key.path)?Tv(t,A)&&(r=r.insert(A.key,A)):E.done()}).next(()=>r)}newChangeBuffer(e){return new Y2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jP(e).get(kl.key).next(t=>(Ft(!!t),t))}Re(e,t){return jP(e).put(kl.key,t)}be(e,t){if(t){const i=VT(this.k,t);if(!i.isNoDocument()||!i.version.isEqual(Ut.min()))return i}return oi.newInvalidDocument(e)}}class Y2 extends UP{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new sm(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Ii((a,d)=>Xt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.Ce.get(a);if(d.document.isValidDocument()){const y=TP(this.De.k,d.document,this.getReadTime(a));r=r.add(a.path.popLast()),i+=Lx(y)-f,t.push(this.De.addEntry(e,a,y))}else if(i-=f,this.trackRemovals){const y=TP(this.De.k,oi.newNoDocument(a,Ut.min()),this.getReadTime(a));t.push(this.De.addEntry(e,a,y))}else t.push(this.De.removeEntry(e,a))}),r.forEach(a=>{t.push(this.De.Jt.addToCollectionParentIndex(e,a))}),t.push(this.De.updateMetadata(e,i)),ke.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(i=>(this.Ce.set(t,i.size),i.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:i,Se:r})=>(r.forEach((a,d)=>{this.Ce.set(a,d)}),i))}}function jP(n){return Zs(n,kl.store)}function wd(n){return Zs(n,Ti.store)}function Vx(n){return n.path.toArray()}class Q2{constructor(e){this.k=e}Nt(e,t,i,r){Ft(i<r&&i>=0&&r<=11);const a=new Nx("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore(So.store),(f=e).createObjectStore(yd.store,{keyPath:yd.keyPath}),f.createObjectStore(Qn.store,{keyPath:Qn.keyPath,autoIncrement:!0}).createIndex(Qn.userMutationsIndex,Qn.userMutationsKeyPath,{unique:!0}),f.createObjectStore(ns.store),HP(e),function(f){f.createObjectStore(Ti.store)}(e));let d=ke.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore(Gr.store),f.deleteObjectStore(Ws.store),f.deleteObjectStore(Mo.store)}(e),HP(e)),d=d.next(()=>function(f){const y=f.store(Mo.store),E=new Mo(0,0,Ut.min().toTimestamp(),0);return y.put(Mo.key,E)}(a))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(f,y){return y.store(Qn.store).Bt().next(E=>{f.deleteObjectStore(Qn.store),f.createObjectStore(Qn.store,{keyPath:Qn.keyPath,autoIncrement:!0}).createIndex(Qn.userMutationsIndex,Qn.userMutationsKeyPath,{unique:!0});const A=y.store(Qn.store),S=E.map(B=>A.put(B));return ke.waitFor(S)})}(e,a))),d=d.next(()=>{!function(f){f.createObjectStore(Uc.store,{keyPath:Uc.keyPath})}(e)})),i<5&&r>=5&&(d=d.next(()=>this.Ne(a))),i<6&&r>=6&&(d=d.next(()=>(function(f){f.createObjectStore(kl.store)}(e),this.ke(a)))),i<7&&r>=7&&(d=d.next(()=>this.xe(a))),i<8&&r>=8&&(d=d.next(()=>this.$e(e,a))),i<9&&r>=9&&(d=d.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){const y=f.objectStore(Ti.store);y.createIndex(Ti.readTimeIndex,Ti.readTimeIndexPath,{unique:!1}),y.createIndex(Ti.collectionReadTimeIndex,Ti.collectionReadTimeIndexPath,{unique:!1})}(t)})),i<10&&r>=10&&(d=d.next(()=>this.Oe(a))),i<11&&r>=11&&(d=d.next(()=>{(function(f){f.createObjectStore(Jg.store,{keyPath:Jg.keyPath})})(e),function(f){f.createObjectStore(Xg.store,{keyPath:Xg.keyPath})}(e)})),d}ke(e){let t=0;return e.store(Ti.store).jt((i,r)=>{t+=Lx(r)}).next(()=>{const i=new kl(t);return e.store(kl.store).put(kl.key,i)})}Ne(e){const t=e.store(yd.store),i=e.store(Qn.store);return t.Bt().next(r=>ke.forEach(r,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Bt(Qn.userMutationsIndex,d).next(f=>ke.forEach(f,y=>{Ft(y.userId===a.userId);const E=nm(this.k,y);return PP(e,a.userId,E).next(()=>{})}))}))}xe(e){const t=e.store(Gr.store),i=e.store(Ti.store);return e.store(Mo.store).get(Mo.key).next(r=>{const a=[];return i.jt((d,f)=>{const y=new wn(d),E=[0,za(y)];a.push(t.get(E).next(A=>A?ke.resolve():t.put(new Gr(0,za(y),r.highestListenSequenceNumber))))}).next(()=>ke.waitFor(a))})}$e(e,t){e.createObjectStore(lf.store,{keyPath:lf.keyPath});const i=t.store(lf.store),r=new HT,a=d=>{if(r.add(d)){const f=d.lastSegment(),y=d.popLast();return i.put({collectionId:f,parent:za(y)})}};return t.store(Ti.store).jt({Kt:!0},(d,f)=>{const y=new wn(d);return a(y.popLast())}).next(()=>t.store(ns.store).jt({Kt:!0},([d,f,y],E)=>{const A=Vc(f);return a(A.popLast())}))}Oe(e){const t=e.store(Ws.store);return t.jt((i,r)=>{const a=Bv(r),d=MP(this.k,a);return t.put(d)})}}function HP(n){n.createObjectStore(Gr.store,{keyPath:Gr.keyPath}).createIndex(Gr.documentTargetsIndex,Gr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ws.store,{keyPath:Ws.keyPath}).createIndex(Ws.queryTargetsIndexName,Ws.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Mo.store)}const zT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qT{constructor(e,t,i,r,a,d,f,y,E,A){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Me=a,this.window=d,this.document=f,this.Fe=E,this.Le=A,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=S=>Promise.resolve(),!qT.Pt())throw new Fe(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Z2(this,r),this.Ge=t+"main",this.k=new IP(y),this.ze=new qa(this.Ge,11,new Q2(this.k)),this.He=new $2(this.referenceDelegate,this.k),this.Jt=new G2,this.Je=new K2(this.k,this.Jt),this.Ye=new j2,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===A&&qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(ue.FAILED_PRECONDITION,zT);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new To(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var i=(0,be.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,be.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ux(e).put(new Uc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(cf(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Vv(e).get(So.key).next(t=>ke.resolve(this.un(t)))}hn(e){return Ux(e).delete(this.clientId)}ln(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Zs(i,Uc.store);return r.Bt().next(a=>{const d=e.dn(a,18e5),f=a.filter(y=>-1===d.indexOf(y));return ke.forEach(f,y=>r.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.Xe)for(const i of t)e.Xe.removeItem(e.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?ke.resolve(!0):Vv(e).get(So.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Fe(ue.FAILED_PRECONDITION,zT);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ux(e).Bt().next(i=>void 0===this.dn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[So.store,Uc.store],t=>{const i=new AP(t,To.I);return e.cn(i).next(()=>e.hn(i))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(i=>this.fn(i.updateTimeMs,t)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Ux(e).Bt().next(t=>this.dn(t,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(e){return GT.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,i){let a;return je("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",B2,d=>(a=new AP(d,this.Be?this.Be.next():To.I),"readwrite-primary"===t?this.rn(a).next(f=>!!f||this.on(a)).next(f=>{if(!f)throw qi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Fe(ue.FAILED_PRECONDITION,xP);return i(a)}).next(f=>this.an(a).next(()=>f)):this.En(a).next(()=>i(a)))).then(d=>(a.raiseOnCommittedEvent(),d))}En(e){return Vv(e).get(So.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(ue.FAILED_PRECONDITION,zT)})}an(e){const t=new So(this.clientId,this.allowTabSynchronization,Date.now());return Vv(e).put(So.key,t)}static Pt(){return qa.Pt()}cn(e){const t=Vv(e);return t.get(So.key).next(i=>this.un(i)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete(So.key)):ke.resolve())}fn(e,t){const i=Date.now();return!(e<i-t||e>i&&(qi(`Detected an update time that is in the future: ${e} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const i=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return je("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return qi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){qi("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vv(n){return Zs(n,So.store)}function Ux(n){return Zs(n,Uc.store)}function WT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class J2{constructor(e,t){this.progress=e,this.In=t}}class GP{constructor(e,t,i){this.Je=e,this.An=t,this.Jt=i}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.bn(e,t,i))}bn(e,t,i){return this.Je.getEntry(e,t).next(r=>{for(const a of i)a.applyToLocalView(r);return r})}Pn(e,t){e.forEach((i,r)=>{for(const a of t)a.applyToLocalView(r)})}vn(e,t){return this.Je.getEntries(e,t).next(i=>this.Vn(e,i).next(()=>i))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.Pn(t,i))}getDocumentsMatchingQuery(e,t,i){return pt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(e,t.path):ST(t)?this.Dn(e,t,i):this.Cn(e,t,i);var r}Sn(e,t){return this.Rn(e,new pt(t)).next(i=>{let r=OT();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Dn(e,t,i){const r=t.collectionGroup;let a=OT();return this.Jt.getCollectionParents(e,r).next(d=>ke.forEach(d,f=>{const y=(E=t,A=f.child(r),new Bc(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,A;return this.Cn(e,y,i).next(E=>{E.forEach((A,S)=>{a=a.insert(A,S)})})}).next(()=>a))}Cn(e,t,i){let r,a;return this.Je.getDocumentsMatchingQuery(e,t,i).next(d=>(r=d,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(d=>(a=d,this.Nn(e,a,r).next(f=>{r=f;for(const y of a)for(const E of y.mutations){const A=E.key;let S=r.get(A);null==S&&(S=oi.newInvalidDocument(A),r=r.insert(A,S)),RT(E,S,y.localWriteTime),S.isFoundDocument()||(r=r.remove(A))}}))).next(()=>(r.forEach((d,f)=>{Tv(t,f)||(r=r.remove(d))}),r))}Nn(e,t,i){let r=kn();for(const d of t)for(const f of d.mutations)f instanceof md&&null===i.get(f.key)&&(r=r.add(f.key));let a=i;return this.Je.getEntries(e,r).next(d=>(d.forEach((f,y)=>{y.isFoundDocument()&&(a=a.insert(f,y))}),a))}}class ZT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.kn=i,this.xn=r}static $n(e,t){let i=kn(),r=kn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new ZT(e,t.fromCache,i,r)}}class $P{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,i,r){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(Ut.min())?this.Fn(e,t):this.Mn.vn(e,r).next(a=>{const d=this.Ln(t,a);return(Ix(t)||Tx(t))&&this.Bn(t.limitType,d,r,i)?this.Fn(e,t):(bT()<=Il.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),MT(t)),this.Mn.getDocumentsMatchingQuery(e,t,i).next(f=>(d.forEach(y=>{f=f.insert(y.key,y)}),f)))});var a}Ln(e,t){let i=new Ii(VF(e));return t.forEach((r,a)=>{Tv(e,a)&&(i=i.add(a))}),i}Bn(e,t,i,r){if(i.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Fn(e,t){return bT()<=Il.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",MT(t)),this.Mn.getDocumentsMatchingQuery(e,t,Ut.min())}}class X2{constructor(e,t,i,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new hr(Xt),this.Kn=new sm(a=>Dv(a),Cx),this.jn=Ut.min(),this.An=e.getMutationQueue(i),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new GP(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function zP(n,e,t,i){return new X2(n,e,t,i)}function qP(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,be.Z)(function*(n,e){const t=Ye(n);let i=t.An,r=t.Wn;const a=yield t.persistence.runTransaction("Handle user change","readonly",d=>{let f;return t.An.getAllMutationBatches(d).next(y=>(f=y,i=t.persistence.getMutationQueue(e),r=new GP(t.Qn,i,t.persistence.getIndexManager()),i.getAllMutationBatches(d))).next(y=>{const E=[],A=[];let S=kn();for(const B of f){E.push(B.batchId);for(const G of B.mutations)S=S.add(G.key)}for(const B of y){A.push(B.batchId);for(const G of B.mutations)S=S.add(G.key)}return r.vn(d,S).next(B=>({Gn:B,removedBatchIds:E,addedBatchIds:A}))})});return t.An=i,t.Wn=r,t.Un.On(t.Wn),a}),KT.apply(this,arguments)}function eU(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Qn.newChangeBuffer({trackRemovals:!0});return function(d,f,y,E){const A=y.batch,S=A.keys();let B=ke.resolve();return S.forEach(G=>{B=B.next(()=>E.getEntry(f,G)).next(Q=>{const he=y.docVersions.get(G);Ft(null!==he),Q.version.compareTo(he)<0&&(A.applyToRemoteDocument(Q,y),Q.isValidDocument()&&E.addEntry(Q,y.commitVersion))})}),B.next(()=>d.An.removeMutationBatch(f,A))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.An.performConsistencyCheck(i)).next(()=>t.Wn.vn(i,r))})}function WP(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function tU(n,e){const t=Ye(n),i=e.snapshotVersion;let r=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.Qn.newChangeBuffer({trackRemovals:!0});r=t.qn;const f=[];e.targetChanges.forEach((E,A)=>{const S=r.get(A);if(!S)return;f.push(t.He.removeMatchingKeys(a,E.removedDocuments,A).next(()=>t.He.addMatchingKeys(a,E.addedDocuments,A)));let B=S.withSequenceNumber(a.currentSequenceNumber);var G,Q,he;e.targetMismatches.has(A)?B=B.withResumeToken(dr.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,i)),r=r.insert(A,B),Q=B,he=E,(0===(G=S).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&f.push(t.He.updateTargetData(a,B))});let y=ia();if(e.documentUpdates.forEach((E,A)=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),f.push(ZP(a,d,e.documentUpdates,i,void 0).next(E=>{y=E})),!i.isEqual(Ut.min())){const E=t.He.getLastRemoteSnapshotVersion(a).next(A=>t.He.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(E)}return ke.waitFor(f).next(()=>d.apply(a)).next(()=>t.Wn.Vn(a,y)).next(()=>y)}).then(a=>(t.qn=r,a))}function ZP(n,e,t,i,r){let a=kn();return t.forEach(d=>a=a.add(d)),e.getEntries(n,a).next(d=>{let f=ia();return t.forEach((y,E)=>{const A=d.get(y),S=(null==r?void 0:r.get(y))||i;E.isNoDocument()&&E.version.isEqual(Ut.min())?(e.removeEntry(y,S),f=f.insert(y,E)):!A.isValidDocument()||E.version.compareTo(A.version)>0||0===E.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(E,S),f=f.insert(y,E)):je("LocalStore","Ignoring outdated watch update for ",y,". Current version:",A.version," Watch version:",E.version)}),f})}function nU(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(i,e)))}function om(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.He.getTargetData(i,e).next(a=>a?(r=a,ke.resolve(r)):t.He.allocateTargetId(i).next(d=>(r=new _d(e,d,0,i.currentSequenceNumber),t.He.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qn.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qn=t.qn.insert(i.targetId,i),t.Kn.set(e,i.targetId)),i})}function am(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,be.Z)(function*(n,e,t){const i=Ye(n),r=i.qn.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!cf(d))throw d;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.qn=i.qn.remove(e),i.Kn.delete(r.target)}),YT.apply(this,arguments)}function jx(n,e,t){const i=Ye(n);let r=Ut.min(),a=kn();return i.persistence.runTransaction("Execute query","readonly",d=>function(f,y,E){const A=Ye(f),S=A.Kn.get(E);return void 0!==S?ke.resolve(A.qn.get(S)):A.He.getTargetData(y,E)}(i,d,na(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(d,f.targetId).next(y=>{a=y})}).next(()=>i.Un.getDocumentsMatchingQuery(d,e,t?r:Ut.min(),t?a:kn())).next(f=>({documents:f,zn:a})))}function KP(n,e){const t=Ye(n),i=Ye(t.He),r=t.qn.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.Et(a,e).next(d=>d?d.target:null))}function YP(n){const e=Ye(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(i,r,a){const d=Ye(i);let f=ia(),y=UT(a);const E=wd(r),A=IDBKeyRange.lowerBound(y,!0);return E.jt({index:Ti.readTimeIndex,range:A},(S,B)=>{const G=VT(d.k,B);f=f.insert(G.key,G),y=B.readTime}).next(()=>({In:f,readTime:SP(y)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:i})=>(e.jn=i,t))}function QT(){return QT=(0,be.Z)(function*(n){const e=Ye(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(i){const r=wd(i);let a=Ut.min();return r.jt({index:Ti.readTimeIndex,reverse:!0},(d,f,y)=>{f.readTime&&(a=SP(f.readTime)),y.done()}).next(()=>a)}(t)).then(t=>{e.jn=t})}),QT.apply(this,arguments)}function JT(){return JT=(0,be.Z)(function*(n,e,t,i){const r=Ye(n);let a=kn(),d=ia(),f=nP();for(const A of t){const S=e.Hn(A.metadata.name);A.document&&(a=a.add(S)),d=d.insert(S,e.Jn(A)),f=f.insert(S,e.Yn(A.metadata.readTime))}const y=r.Qn.newChangeBuffer({trackRemovals:!0}),E=yield om(r,(A=i,na(qg(wn.fromString(`__bundle__/docs/${A}`)))));var A;return r.persistence.runTransaction("Apply bundle documents","readwrite",A=>ZP(A,y,d,Ut.min(),f).next(S=>(y.apply(A),S)).next(S=>r.He.removeMatchingKeysForTargetId(A,E.targetId).next(()=>r.He.addMatchingKeys(A,a,E.targetId)).next(()=>r.Wn.Vn(A,S)).next(()=>S)))}),JT.apply(this,arguments)}function sU(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,be.Z)(function*(n,e,t=kn()){const i=yield om(n,na(jT(e.bundledQuery))),r=Ye(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const d=Ir(e.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.Ye.saveNamedQuery(a,e);const f=i.withResumeToken(dr.EMPTY_BYTE_STRING,d);return r.qn=r.qn.insert(f.targetId,f),r.He.updateTargetData(a,f).next(()=>r.He.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.He.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ye.saveNamedQuery(a,e))})}),XT.apply(this,arguments)}class oU{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return ke.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var i;return this.Xn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ir(i.createTime)}),ke.resolve()}getNamedQuery(e,t){return ke.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(i=t).name,query:jT(i.bundledQuery),readTime:Ir(i.readTime)}),ke.resolve();var i}}class eS{constructor(){this.ts=new Ii(Tr.es),this.ns=new Ii(Tr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const i=new Tr(e,t);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.os(new Tr(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new pt(new wn([])),i=new Tr(t,e),r=new Tr(t,e+1),a=[];return this.ns.forEachInRange([i,r],d=>{this.os(d),a.push(d.key)}),a}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new pt(new wn([])),i=new Tr(t,e),r=new Tr(t,e+1);let a=kn();return this.ns.forEachInRange([i,r],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new Tr(e,0),i=this.ts.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Tr{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return pt.comparator(e.key,t.key)||Xt(e.fs,t.fs)}static ss(e,t){return Xt(e.fs,t.fs)||pt.comparator(e.key,t.key)}}class aU{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Ii(Tr.es)}checkEmpty(e){return ke.resolve(0===this.An.length)}addMutationBatch(e,t,i,r){const a=this.ds;this.ds++;const d=new LT(a,t,i,r);this.An.push(d);for(const f of r)this.ws=this.ws.add(new Tr(f.key,a)),this.Jt.addToCollectionParentIndex(e,f.key.path.popLast());return ke.resolve(d)}lookupMutationBatch(e,t){return ke.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.gs(t+1),a=r<0?0:r;return ke.resolve(this.An.length>a?this.An[a]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return ke.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Tr(t,0),r=new Tr(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([i,r],d=>{const f=this._s(d.fs);a.push(f)}),ke.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ii(Xt);return t.forEach(r=>{const a=new Tr(r,0),d=new Tr(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([a,d],f=>{i=i.add(f.fs)})}),ke.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;pt.isDocumentKey(a)||(a=a.child(""));const d=new Tr(new pt(a),0);let f=new Ii(Xt);return this.ws.forEachWhile(y=>{const E=y.key.path;return!!i.isPrefixOf(E)&&(E.length===r&&(f=f.add(y.fs)),!0)},d),ke.resolve(this.ys(f))}ys(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ft(0===this.ps(t.batchId,"removed")),this.An.shift();let i=this.ws;return ke.forEach(t.mutations,r=>{const a=new Tr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=i})}ee(e){}containsKey(e,t){const i=new Tr(t,0),r=this.ws.firstAfterOrEqual(i);return ke.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ke.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class lU{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new hr(pt.comparator),this.size=0}addEntry(e,t,i){const r=t.key,a=this.docs.get(r),d=a?a.size:0,f=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f,readTime:i}),this.size+=f-d,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ke.resolve(i?i.document.mutableCopy():oi.newInvalidDocument(t))}getEntries(e,t){let i=ia();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():oi.newInvalidDocument(r))}),ke.resolve(i)}getDocumentsMatchingQuery(e,t,i){let r=ia();const a=new pt(t.path.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:y,readTime:E}}=d.getNext();if(!t.path.isPrefixOf(f.path))break;E.compareTo(i)<=0||Tv(t,y)&&(r=r.insert(y.key,y.mutableCopy()))}return ke.resolve(r)}Es(e,t){return ke.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new cU(this)}getSize(e){return ke.resolve(this.size)}}class cU extends UP{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(i))):this.De.removeEntry(i)}),ke.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class uU{constructor(e){this.persistence=e,this.Is=new sm(t=>Dv(t),Cx),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.As=0,this.Rs=new eS,this.targetCount=0,this.bs=df.ie()}forEachTarget(e,t){return this.Is.forEach((i,r)=>t(r)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.As&&(this.As=t),ke.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new df(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,ke.resolve()}updateTargetData(e,t){return this.ae(t),ke.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Is.forEach((d,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Is.delete(d),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ke.waitFor(a).next(()=>r)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,t){const i=this.Is.get(t)||null;return ke.resolve(i)}addMatchingKeys(e,t,i){return this.Rs.rs(t,i),ke.resolve()}removeMatchingKeys(e,t,i){this.Rs.cs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(d=>{a.push(r.markPotentiallyOrphaned(e,d))}),ke.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),ke.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Rs.ls(t);return ke.resolve(i)}containsKey(e,t){return ke.resolve(this.Rs.containsKey(t))}}class dU{constructor(e,t){this.Ps={},this.Be=new To(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new uU(this),this.Jt=new H2,this.Je=new lU(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new IP(t),this.Ye=new oU(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new aU(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,i){je("MemoryPersistence","Starting transaction:",e);const r=new hU(this.Be.next());return this.referenceDelegate.Vs(),i(r).next(a=>this.referenceDelegate.Ss(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ds(e,t){return ke.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class hU extends CP{constructor(e){super(),this.currentSequenceNumber=e}}class tS{constructor(e){this.persistence=e,this.Cs=new eS,this.Ns=null}static ks(e){return new tS(e)}get xs(){if(this.Ns)return this.Ns;throw Et()}addReference(e,t,i){return this.Cs.addReference(i,t),this.xs.delete(i.toString()),ke.resolve()}removeReference(e,t,i){return this.Cs.removeReference(i,t),this.xs.add(i.toString()),ke.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),ke.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.xs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.xs,i=>{const r=pt.fromPath(i);return this.$s(e,r).next(a=>{a||t.removeEntry(r)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return ke.or([()=>ke.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function QP(n,e){return`firestore_clients_${n}_${e}`}function JP(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function nS(n,e){return`firestore_targets_${n}_${e}`}class Hx{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Os(e,t,i){const r=JSON.parse(i);let a,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(a=new Fe(r.error.code,r.error.message))),d?new Hx(e,t,r.state,a):(qi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Os(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Fe(i.error.code,i.error.message))),a?new Uv(e,i.state,r):(qi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gx{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Ox();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=IF(i.activeTargetIds[d]),a=a.add(i.activeTargetIds[d]);return r?new Gx(e,a):(qi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class iS{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new iS(t.clientId,t.onlineState):(qi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rS{constructor(){this.activeTargetIds=Ox()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sS{constructor(e,t,i,r,a){this.window=e,this.Me=t,this.persistenceKey=i,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new hr(Xt),this.started=!1,this.js=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=QP(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new rS),this.Gs=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Tn();for(const r of t){if(r===e.Bs)continue;const a=e.getItem(QP(e.persistenceKey,r));if(a){const d=Gx.Os(r,a);d&&(e.Ks=e.Ks.insert(d.clientId,d))}}e.Xs();const i=e.storage.getItem(e.Js);if(i){const r=e.Zs(i);r&&e.ti(r)}for(const r of e.js)e.qs(r);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,i){this.ni(e,t,i),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(nS(this.persistenceKey,e));if(i){const r=Uv.Os(e,i);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nS(this.persistenceKey,e))}updateQueryState(e,t,i){this.ri(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.si(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==i.key)if(t.Gs.test(i.key)){if(null==i.newValue){const r=t.ai(i.key);return t.ui(r,null)}{const r=t.hi(i.key,i.newValue);if(r)return t.ui(r.clientId,r)}}else if(t.zs.test(i.key)){if(null!==i.newValue){const r=t.li(i.key,i.newValue);if(r)return t.fi(r)}}else if(t.Hs.test(i.key)){if(null!==i.newValue){const r=t.di(i.key,i.newValue);if(r)return t.wi(r)}}else if(i.key===t.Js){if(null!==i.newValue){const r=t.Zs(i.newValue);if(r)return t.ti(r)}}else if(i.key===t.Ws){const r=function(a){let d=To.I;if(null!=a)try{const f=JSON.parse(a);Ft("number"==typeof f),d=f}catch(f){qi("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(i.newValue);r!==To.I&&t.sequenceNumberHandler(r)}else if(i.key===t.Ys)return t.syncEngine._i()}else t.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,i){const r=new Hx(this.currentUser,e,t,i),a=JP(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Ms())}si(e){const t=JP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,i){const r=nS(this.persistenceKey,e),a=new Uv(e,t,i);this.setItem(r,a.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const i=this.ai(e);return Gx.Os(i,t)}li(e,t){const i=this.zs.exec(e),r=Number(i[1]);return Hx.Os(new Ur(void 0!==i[2]?i[2]:null),r,t)}di(e,t){const i=this.Hs.exec(e),r=Number(i[1]);return Uv.Os(r,t)}Zs(e){return iS.Os(e)}fi(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const i=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),a=this.ei(i),d=[],f=[];return a.forEach(y=>{r.has(y)||d.push(y)}),r.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.yi(d,f).then(()=>{this.Ks=i})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Ox();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class XP{constructor(){this.pi=new rS,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,i){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new rS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class fU{Ei(e){}shutdown(){}}class e1{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const pU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class gU{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class mU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,i,r,a){const d=this.Ui(e,t);je("RestConnection","Sending: ",d,i);const f={};return this.qi(f,r,a),this.Ki(e,d,f,i).then(y=>(je("RestConnection","Received: ",y),y),y=>{throw bv("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",i),y})}ji(e,t,i,r,a){return this.Bi(e,t,i,r,a)}qi(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ug,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}Ui(e,t){return`${this.Fi}/v1/${t}:${pU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,i,r){return new Promise((a,d)=>{const f=new NV;f.listenOnce(OV.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case vT.NO_ERROR:const E=f.getResponseJson();je("Connection","XHR received:",JSON.stringify(E)),a(E);break;case vT.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),d(new Fe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case vT.HTTP_ERROR:const A=f.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',A,"response text:",f.getResponseText()),A>0){const S=f.getResponseJson().error;if(S&&S.status&&S.message){const B=function(G){const Q=G.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Q)>=0?Q:ue.UNKNOWN}(S.status);d(new Fe(B,S.message))}else d(new Fe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Fe(ue.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(r);f.send(t,"POST",y,i,15)})}Qi(e,t,i){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=RV(),d=kV(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new PV({})),this.qi(f.initMessageHeaders,t,i),(0,jt.uI)()||(0,jt.b$)()||(0,jt.d)()||(0,jt.w1)()||(0,jt.Mn)()||(0,jt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const y=r.join("");je("Connection","Creating WebChannel: "+y,f);const E=a.createWebChannel(y,f);let A=!1,S=!1;const B=new gU({Vi:Q=>{S?je("Connection","Not sending because WebChannel is closed:",Q):(A||(je("Connection","Opening WebChannel transport."),E.open(),A=!0),je("Connection","WebChannel sending:",Q),E.send(Q))},Si:()=>E.close()}),G=(Q,he,Oe)=>{Q.listen(he,qe=>{try{Oe(qe)}catch(ht){setTimeout(()=>{throw ht},0)}})};return G(E,bx.EventType.OPEN,()=>{S||je("Connection","WebChannel transport opened.")}),G(E,bx.EventType.CLOSE,()=>{S||(S=!0,je("Connection","WebChannel transport closed"),B.Oi())}),G(E,bx.EventType.ERROR,Q=>{S||(S=!0,bv("Connection","WebChannel transport errored:",Q),B.Oi(new Fe(ue.UNAVAILABLE,"The operation could not be completed")))}),G(E,bx.EventType.MESSAGE,Q=>{var he;if(!S){const Oe=Q.data[0];Ft(!!Oe);const qe=Oe,ht=qe.error||(null===(he=qe[0])||void 0===he?void 0:he.error);if(ht){je("Connection","WebChannel received error:",ht);const Bt=ht.status;let vt=function(Mi){const Qi=Ki[Mi];if(void 0!==Qi)return eP(Qi)}(Bt),gn=ht.message;void 0===vt&&(vt=ue.INTERNAL,gn="Unknown error status: "+Bt+" with message "+ht.message),S=!0,B.Oi(new Fe(vt,gn)),E.close()}else je("Connection","WebChannel received:",Oe),B.Mi(Oe)}}),G(d,FV.STAT_EVENT,Q=>{Q.stat===_F.PROXY?je("Connection","Detected buffering proxy"):Q.stat===_F.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{B.$i()},0),B}}function t1(){return"undefined"!=typeof window?window:null}function $x(){return"undefined"!=typeof document?document:null}function jv(n){return new x2(n,!0)}class oS{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Me=e,this.timerId=t,this.Wi=i,this.Gi=r,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class n1{constructor(e,t,i,r,a,d,f,y){this.Me=e,this.nr=i,this.sr=r,this.ir=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new oS(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,be.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,be.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var i=this;return(0,be.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==e?i.ur.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):t&&t.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.rr===t&&this.Ir(i,r)},i=>{e(()=>{const r=new Fe(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(r)})})}Ir(e,t){const i=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{i(()=>this.Ar(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}dr(){var e=this;this.state=5,this.ur.Zi((0,be.Z)(function*(){e.state=0,e.start()}))}Ar(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yU extends n1{constructor(e,t,i,r,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,d),this.k=a}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function A2(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Et(),r=e.targetChange.targetIds||[],a=function(y,E){return y.C?(Ft(void 0===E||"string"==typeof E),dr.fromBase64String(E||"")):(Ft(void 0===E||E instanceof Uint8Array),dr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const E=void 0===y.code?ue.UNKNOWN:eP(y.code);return new Fe(E,y.message||"")}(d);t=new rP(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Rl(n,i.document.name),a=Ir(i.document.updateTime),d=new ts({mapValue:{fields:i.document.fields}}),f=oi.newFoundDocument(r,a,d);t=new Fx(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Rl(n,i.document),a=i.readTime?Ir(i.readTime):Ut.min(),d=oi.newNoDocument(r,a);t=new Fx([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const i=e.documentRemove,r=Rl(n,i.document);t=new Fx([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Et();{const i=e.filter,a=new p2(i.count||0);t=new iP(i.targetId,a)}}var y;return t}(this.k,e),i=function(r){if(!("targetChange"in r))return Ut.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ut.min():a.readTime?Ir(a.readTime):Ut.min()}(e);return this.listener.br(t,i)}Pr(e){const t={};t.database=Nv(this.k),t.addTarget=function(r,a){let d;const f=a.target;return d=Dx(f)?{documents:gP(r,f)}:{query:mP(r,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=lP(r,a.resumeToken):a.snapshotVersion.compareTo(Ut.min())>0&&(d.readTime=Fv(r,a.snapshotVersion.toTimestamp())),d}(this.k,e);const i=function T2(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Et()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.gr(t)}vr(e){const t={};t.database=Nv(this.k),t.removeTarget=e,this.gr(t)}}class _U extends n1{constructor(e,t,i,r,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,d),this.k=a,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function I2(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(i,r){let a=Ir(i.updateTime?i.updateTime:r);return a.isEqual(Ut.min())&&(a=Ir(r)),new d2(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ir(e.commitTime);return this.listener.Cr(i,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Nv(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Px(this.k,i))};this.gr(t)}}class vU extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=i,this.k=r,this.$r=!1}Or(){if(this.$r)throw new Fe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.ir.Bi(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Fe(ue.UNKNOWN,r.toString())})}ji(e,t,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.ir.ji(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Fe(ue.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class bU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(qi(t),this.Lr=!1):je("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class wU{constructor(e,t,i,r,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei(f=>{i.enqueueAndForget((0,be.Z)(function*(){var y;Ed(d)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,be.Z)(function*(E){const A=Ye(E);A.Gr.add(4),yield lm(A),A.Jr.set("Unknown"),A.Gr.delete(4),yield Hv(A)}),function(E){return y.apply(this,arguments)})(d))}))}),this.Jr=new bU(i,r)}}function Hv(n){return aS.apply(this,arguments)}function aS(){return aS=(0,be.Z)(function*(n){if(Ed(n))for(const e of n.zr)yield e(!0)}),aS.apply(this,arguments)}function lm(n){return lS.apply(this,arguments)}function lS(){return lS=(0,be.Z)(function*(n){for(const e of n.zr)yield e(!1)}),lS.apply(this,arguments)}function zx(n,e){const t=Ye(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),dS(t)?uS(t):um(t).lr()&&cS(t,e))}function Gv(n,e){const t=Ye(n),i=um(t);t.Wr.delete(e),i.lr()&&r1(t,e),0===t.Wr.size&&(i.lr()?i._r():Ed(t)&&t.Jr.set("Unknown"))}function cS(n,e){n.Yr.X(e.targetId),um(n).Pr(e)}function r1(n,e){n.Yr.X(e),um(n).vr(e)}function uS(n){n.Yr=new b2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),um(n).start(),n.Jr.Br()}function dS(n){return Ed(n)&&!um(n).hr()&&n.Wr.size>0}function Ed(n){return 0===Ye(n).Gr.size}function s1(n){n.Yr=void 0}function EU(n){return hS.apply(this,arguments)}function hS(){return hS=(0,be.Z)(function*(n){n.Wr.forEach((e,t)=>{cS(n,e)})}),hS.apply(this,arguments)}function xU(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,be.Z)(function*(n,e){s1(n),dS(n)?(n.Jr.Kr(e),uS(n)):n.Jr.set("Unknown")}),fS.apply(this,arguments)}function CU(n,e,t){return pS.apply(this,arguments)}function pS(){return pS=(0,be.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof rP&&2===e.state&&e.cause)try{yield(i=(0,be.Z)(function*(r,a){const d=a.cause;for(const f of a.targetIds)r.Wr.has(f)&&(yield r.remoteSyncer.rejectListen(f,d),r.Wr.delete(f),r.Yr.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield qx(n,i)}else if(e instanceof Fx?n.Yr.ot(e):e instanceof iP?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Ut.min()))try{const i=yield WP(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const d=r.Yr.gt(a);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const E=r.Wr.get(y);E&&r.Wr.set(y,E.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const y=r.Wr.get(f);if(!y)return;r.Wr.set(f,y.withResumeToken(dr.EMPTY_BYTE_STRING,y.snapshotVersion)),r1(r,f);const E=new _d(y.target,f,1,y.sequenceNumber);cS(r,E)}),r.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield qx(n,i)}var i}),pS.apply(this,arguments)}function qx(n,e,t){return gS.apply(this,arguments)}function gS(){return gS=(0,be.Z)(function*(n,e,t){if(!cf(e))throw e;n.Gr.add(1),yield lm(n),n.Jr.set("Offline"),t||(t=()=>WP(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Hv(n)}))}),gS.apply(this,arguments)}function o1(n,e){return e().catch(t=>qx(n,t,e))}function cm(n){return mS.apply(this,arguments)}function mS(){return mS=(0,be.Z)(function*(n){const e=Ye(n),t=xd(e);let i=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;DU(e);)try{const r=yield nU(e.localStore,i);if(null===r){0===e.Qr.length&&t._r();break}i=r.batchId,AU(e,r)}catch(r){yield qx(e,r)}a1(e)&&l1(e)}),mS.apply(this,arguments)}function DU(n){return Ed(n)&&n.Qr.length<10}function AU(n,e){n.Qr.push(e);const t=xd(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function a1(n){return Ed(n)&&!xd(n).hr()&&n.Qr.length>0}function l1(n){xd(n).start()}function IU(n){return yS.apply(this,arguments)}function yS(){return yS=(0,be.Z)(function*(n){xd(n).kr()}),yS.apply(this,arguments)}function TU(n){return _S.apply(this,arguments)}function _S(){return _S=(0,be.Z)(function*(n){const e=xd(n);for(const t of n.Qr)e.Dr(t.mutations)}),_S.apply(this,arguments)}function SU(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,be.Z)(function*(n,e,t){const i=n.Qr.shift(),r=BT.from(i,e,t);yield o1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield cm(n)}),vS.apply(this,arguments)}function MU(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,be.Z)(function*(n,e){var t;e&&xd(n).Sr&&(yield(t=(0,be.Z)(function*(i,r){if(XF(a=r.code)&&a!==ue.ABORTED){const d=i.Qr.shift();xd(i).wr(),yield o1(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield cm(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),a1(n)&&l1(n)}),bS.apply(this,arguments)}function c1(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,be.Z)(function*(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=Ed(t);t.Gr.add(3),yield lm(t),i&&t.Jr.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Gr.delete(3),yield Hv(t)}),wS.apply(this,arguments)}function ES(n,e){return xS.apply(this,arguments)}function xS(){return xS=(0,be.Z)(function*(n,e){const t=Ye(n);e?(t.Gr.delete(2),yield Hv(t)):e||(t.Gr.add(2),yield lm(t),t.Jr.set("Unknown"))}),xS.apply(this,arguments)}function um(n){return n.Xr||(n.Xr=function(e,t,i){const r=Ye(e);return r.Or(),new yU(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:EU.bind(null,n),Ni:xU.bind(null,n),br:CU.bind(null,n)}),n.zr.push(function(){var e=(0,be.Z)(function*(t){t?(n.Xr.wr(),dS(n)?uS(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),s1(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function xd(n){return n.Zr||(n.Zr=function(e,t,i){const r=Ye(e);return r.Or(),new _U(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:IU.bind(null,n),Ni:MU.bind(null,n),Nr:TU.bind(null,n),Cr:SU.bind(null,n)}),n.zr.push(function(){var e=(0,be.Z)(function*(t){t?(n.Zr.wr(),yield cm(n)):(yield n.Zr.stop(),n.Qr.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class CS{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,i,r,a){const d=Date.now()+i,f=new CS(e,t,d,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(n,e){if(qi("AsyncQueue",`${e}: ${n}`),cf(n))return new Fe(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class hm{constructor(e){this.comparator=e?(t,i)=>e(t,i)||pt.comparator(t.key,i.key):(t,i)=>pt.comparator(t.key,i.key),this.keyedMap=OT(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new hm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new hm;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class u1{constructor(){this.eo=new hr(pt.comparator)}track(e){const t=e.doc.key,i=this.eo.get(t);i?0!==e.type&&3===i.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==i.type?this.eo=this.eo.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.eo=this.eo.remove(t):1===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Et():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,i)=>{e.push(i)}),e}}class fm{constructor(e,t,i,r,a,d,f,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new fm(e,t,hm.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Iv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class RU{constructor(){this.so=void 0,this.listeners=[]}}class kU{constructor(){this.queries=new sm(e=>BF(e),Iv),this.onlineState="Unknown",this.io=new Set}}function DS(n,e){return AS.apply(this,arguments)}function AS(){return AS=(0,be.Z)(function*(n,e){const t=Ye(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new RU),r)try{a.so=yield t.onListen(i)}catch(d){const f=dm(d,`Initialization of query '${MT(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.ro(t.onlineState),a.so&&e.oo(a.so)&&SS(t)}),AS.apply(this,arguments)}function IS(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,be.Z)(function*(n,e){const t=Ye(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),TS.apply(this,arguments)}function OU(n,e){const t=Ye(n);let i=!1;for(const r of e){const d=t.queries.get(r.query);if(d){for(const f of d.listeners)f.oo(r)&&(i=!0);d.so=r}}i&&SS(t)}function FU(n,e,t){const i=Ye(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function SS(n){n.io.forEach(e=>{e.next()})}class MS{constructor(e,t,i){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new fm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=fm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class PU{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class d1{constructor(e){this.k=e}Hn(e){return Rl(this.k,e)}Jn(e){return e.metadata.exists?fP(this.k,e.document,!1):oi.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Ir(e)}}class NU{constructor(e,t,i){this.mo=e,this.localStore=t,this.k=i,this.queries=[],this.documents=[],this.progress=h1(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,i=new d1(this.k);for(const r of e)if(r.metadata.queries){const a=i.Hn(r.metadata.name);for(const d of r.metadata.queries){const f=(t.get(d)||kn()).add(a);t.set(d,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function rU(n,e,t,i){return JT.apply(this,arguments)}(e.localStore,new d1(e.k),e.documents,e.mo.id),i=e.po(e.documents);for(const r of e.queries)yield sU(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",new J2(Object.assign({},e.progress),t)})()}}function h1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class f1{constructor(e){this.key=e}}class p1{constructor(e){this.key=e}}class g1{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=kn(),this.mutatedKeys=kn(),this.Ao=VF(e),this.Ro=new hm(this.Ao)}get bo(){return this.To}Po(e,t){const i=t?t.vo:new u1,r=t?t.Ro:this.Ro;let a=t?t.mutatedKeys:this.mutatedKeys,d=r,f=!1;const y=Ix(this.query)&&r.size===this.query.limit?r.last():null,E=Tx(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((A,S)=>{const B=r.get(A),G=Tv(this.query,S)?S:null,Q=!!B&&this.mutatedKeys.has(B.key),he=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Oe=!1;B&&G?B.data.isEqual(G.data)?Q!==he&&(i.track({type:3,doc:G}),Oe=!0):this.Vo(B,G)||(i.track({type:2,doc:G}),Oe=!0,(y&&this.Ao(G,y)>0||E&&this.Ao(G,E)<0)&&(f=!0)):!B&&G?(i.track({type:0,doc:G}),Oe=!0):B&&!G&&(i.track({type:1,doc:B}),Oe=!0,(y||E)&&(f=!0)),Oe&&(G?(d=d.add(G),a=he?a.add(A):a.delete(A)):(d=d.delete(A),a=a.delete(A)))}),Ix(this.query)||Tx(this.query))for(;d.size>this.query.limit;){const A=Ix(this.query)?d.last():d.first();d=d.delete(A.key),a=a.delete(A.key),i.track({type:1,doc:A})}return{Ro:d,vo:i,Bn:f,mutatedKeys:a}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const a=e.vo.no();a.sort((E,A)=>function(S,B){const G=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return G(S)-G(B)}(E.type,A.type)||this.Ao(E.doc,A.doc)),this.So(i);const d=t?this.Do():[],f=0===this.Io.size&&this.current?1:0,y=f!==this.Eo;return this.Eo=f,0!==a.length||y?{snapshot:new fm(this.query,e.Ro,r,a,e.mutatedKeys,0===f,y,!1),Co:d}:{Co:d}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new u1,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=kn(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const t=[];return e.forEach(i=>{this.Io.has(i)||t.push(new p1(i))}),this.Io.forEach(i=>{e.has(i)||t.push(new f1(i))}),t}ko(e){this.To=e.zn,this.Io=kn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return fm.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class LU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class BU{constructor(e){this.key=e,this.$o=!1}}class VU{constructor(e,t,i,r,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.Oo={},this.Mo=new sm(f=>BF(f),Iv),this.Fo=new Map,this.Lo=new Set,this.Bo=new hr(pt.comparator),this.Uo=new Map,this.qo=new eS,this.Ko={},this.jo=new Map,this.Qo=df.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function UU(n,e){return RS.apply(this,arguments)}function RS(){return RS=(0,be.Z)(function*(n,e){const t=eM(n);let i,r;const a=t.Mo.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.xo();else{const d=yield om(t.localStore,na(e)),f=t.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield kS(t,e,i,"current"===f),t.isPrimaryClient&&zx(t.remoteStore,d)}return r}),RS.apply(this,arguments)}function kS(n,e,t,i){return OS.apply(this,arguments)}function OS(){return OS=(0,be.Z)(function*(n,e,t,i){n.Go=(A,S,B)=>{return(G=(0,be.Z)(function*(Q,he,Oe,qe){let ht=he.view.Po(Oe);ht.Bn&&(ht=yield jx(Q.localStore,he.query,!1).then(({documents:gn})=>he.view.Po(gn,ht)));const Bt=qe&&qe.targetChanges.get(he.targetId),vt=he.view.applyChanges(ht,Q.isPrimaryClient,Bt);return GS(Q,he.targetId,vt.Co),vt.snapshot}),function(Q,he,Oe,qe){return G.apply(this,arguments)})(n,A,S,B);var G};const r=yield jx(n.localStore,e,!0),a=new g1(e,r.zn),d=a.Po(r.documents),f=Ov.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),y=a.applyChanges(d,n.isPrimaryClient,f);GS(n,t,y.Co);const E=new LU(e,t,a);return n.Mo.set(e,E),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),y.snapshot}),OS.apply(this,arguments)}function jU(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,be.Z)(function*(n,e){const t=Ye(n),i=t.Mo.get(e),r=t.Fo.get(i.targetId);if(r.length>1)return t.Fo.set(i.targetId,r.filter(a=>!Iv(a,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield am(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Gv(t.remoteStore,i.targetId),pm(t,i.targetId)}).catch(hf))):(pm(t,i.targetId),yield am(t.localStore,i.targetId,!0))}),FS.apply(this,arguments)}function PS(){return PS=(0,be.Z)(function*(n,e,t){const i=tM(n);try{const r=yield function(a,d){const f=Ye(a),y=Ar.now(),E=d.reduce((S,B)=>S.add(B.key),kn());let A;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>f.Wn.vn(S,E).next(B=>{A=B;const G=[];for(const Q of d){const he=f2(Q,A.get(Q.key));null!=he&&G.push(new md(Q.key,he,RF(he.value.mapValue),Zi.exists(!0)))}return f.An.addMutationBatch(S,y,G,d)})).then(S=>(S.applyToLocalDocumentSet(A),{batchId:S.batchId,changes:A}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,d,f){let y=a.Ko[a.currentUser.toKey()];y||(y=new hr(Xt)),y=y.insert(d,f),a.Ko[a.currentUser.toKey()]=y}(i,r.batchId,t),yield jc(i,r.changes),yield cm(i.remoteStore)}catch(r){const a=dm(r,"Failed to persist write");t.reject(a)}}),PS.apply(this,arguments)}function m1(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,be.Z)(function*(n,e){const t=Ye(n);try{const i=yield tU(t.localStore,e);e.targetChanges.forEach((r,a)=>{const d=t.Uo.get(a);d&&(Ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.$o=!0:r.modifiedDocuments.size>0?Ft(d.$o):r.removedDocuments.size>0&&(Ft(d.$o),d.$o=!1))}),yield jc(t,i,e)}catch(i){yield hf(i)}}),NS.apply(this,arguments)}function y1(n,e,t){const i=Ye(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.Mo.forEach((a,d)=>{const f=d.view.ro(e);f.snapshot&&r.push(f.snapshot)}),function(a,d){const f=Ye(a);f.onlineState=d;let y=!1;f.queries.forEach((E,A)=>{for(const S of A.listeners)S.ro(d)&&(y=!0)}),y&&SS(f)}(i.eventManager,e),r.length&&i.Oo.br(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function GU(n,e,t){return LS.apply(this,arguments)}function LS(){return LS=(0,be.Z)(function*(n,e,t){const i=Ye(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Uo.get(e),a=r&&r.key;if(a){let d=new hr(pt.comparator);d=d.insert(a,oi.newNoDocument(a,Ut.min()));const f=kn().add(a),y=new kv(Ut.min(),new Map,new Ii(Xt),d,f);yield m1(i,y),i.Bo=i.Bo.remove(a),i.Uo.delete(e),$S(i)}else yield am(i.localStore,e,!1).then(()=>pm(i,e,t)).catch(hf)}),LS.apply(this,arguments)}function $U(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,be.Z)(function*(n,e){const t=Ye(n),i=e.batch.batchId;try{const r=yield eU(t.localStore,e);HS(t,i,null),jS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield jc(t,r)}catch(r){yield hf(r)}}),BS.apply(this,arguments)}function zU(n,e,t){return VS.apply(this,arguments)}function VS(){return VS=(0,be.Z)(function*(n,e,t){const i=Ye(n);try{const r=yield function(a,d){const f=Ye(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return f.An.lookupMutationBatch(y,d).next(A=>(Ft(null!==A),E=A.keys(),f.An.removeMutationBatch(y,A))).next(()=>f.An.performConsistencyCheck(y)).next(()=>f.Wn.vn(y,E))})}(i.localStore,e);HS(i,e,t),jS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield jc(i,r)}catch(r){yield hf(r)}}),VS.apply(this,arguments)}function US(){return US=(0,be.Z)(function*(n,e){const t=Ye(n);Ed(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const d=Ye(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.An.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.jo.get(i)||[];r.push(e),t.jo.set(i,r)}catch(i){const r=dm(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),US.apply(this,arguments)}function jS(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function HS(n,e,t){const i=Ye(n);let r=i.Ko[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Ko[i.currentUser.toKey()]=r}}function pm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Fo.get(e))n.Mo.delete(i),t&&n.Oo.zo(i,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(i=>{n.qo.containsKey(i)||_1(n,i)})}function _1(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Gv(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),$S(n))}function GS(n,e,t){for(const i of t)i instanceof f1?(n.qo.addReference(i.key,e),WU(n,i)):i instanceof p1?(je("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,e),n.qo.containsKey(i.key)||_1(n,i.key)):Et()}function WU(n,e){const t=e.key,i=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(i)||(je("SyncEngine","New document in limbo: "+t),n.Lo.add(i),$S(n))}function $S(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new pt(wn.fromString(e)),i=n.Qo.next();n.Uo.set(i,new BU(t)),n.Bo=n.Bo.insert(t,i),zx(n.remoteStore,new _d(na(qg(t.path)),i,2,To.I))}}function jc(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,be.Z)(function*(n,e,t){const i=Ye(n),r=[],a=[],d=[];var f;i.Mo.isEmpty()||(i.Mo.forEach((f,y)=>{d.push(i.Go(y,e,t).then(E=>{if(E){i.isPrimaryClient&&i.sharedClientState.updateQueryState(y.targetId,E.fromCache?"not-current":"current"),r.push(E);const A=ZT.$n(y.targetId,E);a.push(A)}}))}),yield Promise.all(d),i.Oo.br(r),yield(f=(0,be.Z)(function*(y,E){const A=Ye(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ke.forEach(E,B=>ke.forEach(B.kn,G=>A.persistence.referenceDelegate.addReference(S,B.targetId,G)).next(()=>ke.forEach(B.xn,G=>A.persistence.referenceDelegate.removeReference(S,B.targetId,G)))))}catch(S){if(!cf(S))throw S;je("LocalStore","Failed to update sequence numbers: "+S)}for(const S of E){const B=S.targetId;if(!S.fromCache){const G=A.qn.get(B),he=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);A.qn=A.qn.insert(B,he)}}}),function(y,E){return f.apply(this,arguments)})(i.localStore,a))}),zS.apply(this,arguments)}function ZU(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,be.Z)(function*(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const i=yield qP(t.localStore,e);t.currentUser=e,(r=t).jo.forEach(d=>{d.forEach(f=>{f.reject(new Fe(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield jc(t,i.Gn)}var r}),qS.apply(this,arguments)}function KU(n,e){const t=Ye(n),i=t.Uo.get(e);if(i&&i.$o)return kn().add(i.key);{let r=kn();const a=t.Fo.get(e);if(!a)return r;for(const d of a){const f=t.Mo.get(d);r=r.unionWith(f.view.bo)}return r}}function YU(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,be.Z)(function*(n,e){const t=Ye(n),i=yield jx(t.localStore,e.query,!0),r=e.view.ko(i);return t.isPrimaryClient&&GS(t,e.targetId,r.Co),r}),WS.apply(this,arguments)}function QU(n){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,be.Z)(function*(n){const e=Ye(n);return YP(e.localStore).then(t=>jc(e,t))}),ZS.apply(this,arguments)}function JU(n,e,t,i){return KS.apply(this,arguments)}function KS(){return KS=(0,be.Z)(function*(n,e,t,i){const r=Ye(n),a=yield function(d,f){const y=Ye(d),E=Ye(y.An);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>E.Zt(A,f).next(S=>S?y.Wn.vn(A,S):ke.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield cm(r.remoteStore):"acknowledged"===t||"rejected"===t?(HS(r,e,i||null),jS(r,e),f=e,Ye(Ye(r.localStore).An).ee(f)):Et(),yield jc(r,a)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),KS.apply(this,arguments)}function YS(){return YS=(0,be.Z)(function*(n,e){const t=Ye(n);if(eM(t),tM(t),!0===e&&!0!==t.Wo){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield v1(t,i.toArray());t.Wo=!0,yield ES(t.remoteStore,!0);for(const a of r)zx(t.remoteStore,a)}else if(!1===e&&!1!==t.Wo){const i=[];let r=Promise.resolve();t.Fo.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(pm(t,d),am(t.localStore,d,!0))),Gv(t.remoteStore,d)}),yield r,yield v1(t,i),function(a){const d=Ye(a);d.Uo.forEach((f,y)=>{Gv(d.remoteStore,y)}),d.qo.hs(),d.Uo=new Map,d.Bo=new hr(pt.comparator)}(t),t.Wo=!1,yield ES(t.remoteStore,!1)}}),YS.apply(this,arguments)}function v1(n,e,t){return QS.apply(this,arguments)}function QS(){return QS=(0,be.Z)(function*(n,e,t){const i=Ye(n),r=[],a=[];for(const d of e){let f;const y=i.Fo.get(d);if(y&&0!==y.length){f=yield om(i.localStore,na(y[0]));for(const E of y){const A=i.Mo.get(E),S=yield YU(i,A);S.snapshot&&a.push(S.snapshot)}}else{const E=yield KP(i.localStore,d);f=yield om(i.localStore,E),yield kS(i,b1(E),d,!1)}r.push(f)}return i.Oo.br(a),r}),QS.apply(this,arguments)}function b1(n){return NF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ej(n){const e=Ye(n);return Ye(Ye(e.localStore).persistence).Tn()}function tj(n,e,t,i){return JS.apply(this,arguments)}function JS(){return JS=(0,be.Z)(function*(n,e,t,i){const r=Ye(n);if(r.Wo)je("SyncEngine","Ignoring unexpected query state notification.");else if(r.Fo.has(e))switch(t){case"current":case"not-current":{const a=yield YP(r.localStore),d=kv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield jc(r,a,d);break}case"rejected":yield am(r.localStore,e,!0),pm(r,e,i);break;default:Et()}}),JS.apply(this,arguments)}function nj(n,e,t){return XS.apply(this,arguments)}function XS(){return XS=(0,be.Z)(function*(n,e,t){const i=eM(n);if(i.Wo){for(const r of e){if(i.Fo.has(r)){je("SyncEngine","Adding an already active target "+r);continue}const a=yield KP(i.localStore,r),d=yield om(i.localStore,a);yield kS(i,b1(a),d.targetId,!1),zx(i.remoteStore,d)}for(const r of t)i.Fo.has(r)&&(yield am(i.localStore,r,!1).then(()=>{Gv(i.remoteStore,r),pm(i,r)}).catch(hf))}}),XS.apply(this,arguments)}function eM(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GU.bind(null,e),e.Oo.br=OU.bind(null,e.eventManager),e.Oo.zo=FU.bind(null,e.eventManager),e}function tM(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$U.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zU.bind(null,e),e}class w1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.k=jv(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return zP(this.persistence,new $P,e.initialUser,this.k)}Yo(e){return new dU(tS.ks,this.k)}Jo(e){return new XP}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class E1 extends w1{constructor(e,t,i){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e),yield function iU(n){return QT.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,e),yield tM(i.tc.syncEngine),yield cm(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(e){return zP(this.persistence,new $P,e.initialUser,this.k)}Xo(e){return new q2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=WT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new qT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,t1(),$x(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new XP}}class rj extends E1{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e);const r=i.tc.syncEngine;i.sharedClientState instanceof sS&&(i.sharedClientState.syncEngine={mi:JU.bind(null,r),gi:tj.bind(null,r),yi:nj.bind(null,r),Tn:ej.bind(null,r),_i:QU.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var a=(0,be.Z)(function*(d){yield function XU(n,e){return YS.apply(this,arguments)}(i.tc.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):d||i.gcScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}Jo(e){const t=t1();if(!sS.Pt(t))throw new Fe(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=WT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class nM{initialize(e,t){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>y1(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ZU.bind(null,i.syncEngine),yield ES(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kU}createDatastore(e){const t=jv(e.databaseInfo.databaseId),i=new mU(e.databaseInfo);return new vU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>y1(this.syncEngine,f,0),d=e1.Pt()?new e1:new fU,new wU(t,i,r,a,d);var t,i,r,a,d}createSyncEngine(e,t){return function(i,r,a,d,f,y,E){const A=new VU(i,r,a,d,f,y);return E&&(A.Wo=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const i=Ye(t);je("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield lm(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function x1(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Wx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sj{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Dr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,be.Z)(function*(){const t=yield e.oc();if(null===t)return null;const i=e.ic.decode(t),r=Number(i);isNaN(r)&&e.cc(`length string (${i}) is not valid number`);const a=yield e.ac(r);return new PU(JSON.parse(a),t.length+r)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,be.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ac(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const i=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,be.Z)(function*(){const t=yield e.sc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class oj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(a,d){const f=Ye(a),y=Nv(f.k)+"/documents",E={documents:d.map(G=>Pv(f.k,G))},A=yield f.ji("BatchGetDocuments",y,E),S=new Map;A.forEach(G=>{const Q=function D2(n,e){return"found"in e?function(t,i){Ft(!!i.found);const r=Rl(t,i.found.name),a=Ir(i.found.updateTime),d=new ts({mapValue:{fields:i.found.fields}});return oi.newFoundDocument(r,a,d)}(n,e):"missing"in e?function(t,i){Ft(!!i.missing),Ft(!!i.readTime);const r=Rl(t,i.missing),a=Ir(i.readTime);return oi.newNoDocument(r,a)}(n,e):Et()}(f.k,G);S.set(Q.key.toString(),Q)});const B=[];return d.forEach(G=>{const Q=S.get(G.toString());Ft(!!Q),B.push(Q)}),B}),function(a,d){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=pt.fromPath(r);e.mutations.push(new kT(a,e.precondition(a)))}),yield(i=(0,be.Z)(function*(r,a){const d=Ye(r),f=Nv(d.k)+"/documents",y={writes:a.map(E=>Px(d.k,E))};yield d.Bi("Commit",f,y)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Et();t=Ut.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Fe(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zi.updateTime(t):Zi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ut.min()))throw new Fe(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zi.updateTime(t)}return Zi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class aj{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.lc=5,this.ur=new oS(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,be.Z)(function*(){const t=new oj(e.datastore),i=e.dc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.wc(a)}))}).catch(r=>{e.wc(r)})}))}dc(e){try{const t=this.updateFunction(e);return!nf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!XF(t)}return!1}}class lj{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ur.UNAUTHENTICATED,this.clientId=EF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,be.Z)(function*(f){je("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(je("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=dm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function C1(n,e){return iM.apply(this,arguments)}function iM(){return iM=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(a){i.isEqual(a)||(yield qP(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),iM.apply(this,arguments)}function D1(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sM(n);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>c1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>c1(e.remoteStore,a)),n.onlineComponents=e}),rM.apply(this,arguments)}function sM(n){return oM.apply(this,arguments)}function oM(){return oM=(0,be.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield C1(n,new w1)),n.offlineComponents}),oM.apply(this,arguments)}function Zx(n){return aM.apply(this,arguments)}function aM(){return aM=(0,be.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield D1(n,new nM)),n.onlineComponents}),aM.apply(this,arguments)}function A1(n){return sM(n).then(e=>e.persistence)}function lM(n){return sM(n).then(e=>e.localStore)}function I1(n){return Zx(n).then(e=>e.remoteStore)}function cM(n){return Zx(n).then(e=>e.syncEngine)}function gm(n){return uM.apply(this,arguments)}function uM(){return uM=(0,be.Z)(function*(n){const e=yield Zx(n),t=e.eventManager;return t.onListen=UU.bind(null,e.syncEngine),t.onUnlisten=jU.bind(null,e.syncEngine),t}),uM.apply(this,arguments)}function T1(n,e,t={}){const i=new Dr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,d,f,y){const E=new Wx({next:S=>{a.enqueueAndForget(()=>IS(r,A));const B=S.docs.has(d);!B&&S.fromCache?y.reject(new Fe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&S.fromCache&&f&&"server"===f.source?y.reject(new Fe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new MS(qg(d.path),E,{includeMetadataChanges:!0,wo:!0});return DS(r,A)}(yield gm(n),n.asyncQueue,e,t,i)})),i.promise}function S1(n,e,t={}){const i=new Dr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,d,f,y){const E=new Wx({next:S=>{a.enqueueAndForget(()=>IS(r,A)),S.fromCache&&"server"===f.source?y.reject(new Fe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new MS(d,E,{includeMetadataChanges:!0,wo:!0});return DS(r,A)}(yield gm(n),n.asyncQueue,e,t,i)})),i.promise}class yj{constructor(e,t,i,r,a,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class mm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mm&&e.projectId===this.projectId&&e.database===this.database}}const M1=new Map;function dM(n,e,t){if(!t)throw new Fe(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function R1(n,e,t,i){if(!0===e&&!0===i)throw new Fe(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function k1(n){if(!pt.isDocumentKey(n))throw new Fe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function O1(n){if(pt.isDocumentKey(n))throw new Fe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Et()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kx(n);throw new Fe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function F1(n,e){if(e<=0)throw new Fe(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class P1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,R1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $v{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P1({}),this._settingsFrozen=!1,e instanceof mm?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Fe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mm(r.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VV;switch(t.type){case"gapi":const i=t.client;return Ft(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new GV(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=M1.get(e);t&&(je("ComponentProvider","Removing Datastore"),M1.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class is{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Ol extends is{constructor(e,t,i){super(e,t,qg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new pt(e))}withConverter(e){return new Ol(this.firestore,e,this._path)}}function N1(n,e,...t){if(n=(0,jt.m9)(n),dM("collection","path",e),n instanceof $v){const i=wn.fromString(e,...t);return O1(i),new Ol(n,null,i)}{if(!(n instanceof Jn||n instanceof Ol))throw new Fe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(e,...t));return O1(i),new Ol(n.firestore,null,i)}}function Yx(n,e,...t){if(n=(0,jt.m9)(n),1===arguments.length&&(e=EF.A()),dM("doc","path",e),n instanceof $v){const i=wn.fromString(e,...t);return k1(i),new Jn(n,null,new pt(i))}{if(!(n instanceof Jn||n instanceof Ol))throw new Fe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(e,...t));return k1(i),new Jn(n.firestore,n instanceof Ol?n.converter:null,new pt(i))}}function L1(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),(n instanceof Jn||n instanceof Ol)&&(e instanceof Jn||e instanceof Ol)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function B1(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),n instanceof is&&e instanceof is&&n.firestore===e.firestore&&Iv(n._query,e._query)&&n.converter===e.converter}class bj{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new oS(this,"async_queue_retry"),this.bc=()=>{const t=$x();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=$x();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=$x();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Dr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,be.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!cf(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(i=>{throw this.Ec=i,this.Ic=!1,qi("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=t,t}enqueueAfterDelay(e,t,i){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const r=CS.createAndSchedule(this,e,t,i,a=>this.Sc(a));return this.Tc.push(r),r}Pc(){this.Ec&&Et()}verifyOperationInProgress(){}Dc(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function hM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class wj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ai extends $v{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new bj,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||V1(this),this._firestoreClient.terminate()}}function Yi(n){return n._firestoreClient||V1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function V1(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new yj(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new lj(n._authCredentials,n._appCheckCredentials,n._queue,i)}function U1(n,e,t){const i=new Dr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield C1(n,t),yield D1(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(a=r).name?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var a})).then(()=>i.promise)}function j1(n){if(n._initialized||n._terminated)throw new Fe(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fl(dr.fromBase64String(e))}catch(t){throw new Fe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fl(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ff{constructor(e){this._methodName=e}}class Qx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}const Rj=/^__.*__$/;class kj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new md(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mv(e,this.data,t,this.fieldTransforms)}}class H1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new md(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function G1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Jx{constructor(e,t,i,r,a,d){this.settings=e,this.databaseId=t,this.k=i,this.ignoreUndefinedProperties=r,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Jx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:i,Fc:!1});return r.Lc(e),r}Bc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:i,Fc:!1});return r.xc(),r}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return tC(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(G1(this.$c)&&Rj.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class Oj{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=i||jv(e)}Qc(e,t,i,r=!1){return new Jx({$c:e,methodName:t,jc:i,path:jr.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function pf(n){const e=n._freezeSettings(),t=jv(n._databaseId);return new Oj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Xx(n,e,t,i,r,a={}){const d=n.Qc(a.merge||a.mergeFields?2:0,e,t,r);mM("Data must be an object, but it was:",d,i);const f=q1(i,d);let y,E;if(a.merge)y=new Hg(d.fieldMask),E=d.fieldTransforms;else if(a.mergeFields){const A=[];for(const S of a.mergeFields){const B=yM(e,S,t);if(!d.contains(B))throw new Fe(ue.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);Z1(A,B)||A.push(B)}y=new Hg(A),E=d.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,E=d.fieldTransforms;return new kj(new ts(f),y,E)}class zv extends ff{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zv}}function $1(n,e,t){return new Jx({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class fM extends ff{_toFieldTransform(e){return new Sv(e.path,new Zg)}isEqual(e){return e instanceof fM}}class Fj extends ff{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=$1(this,e,!0),i=this.Wc.map(a=>gf(a,t)),r=new sf(i);return new Sv(e.path,r)}isEqual(e){return this===e}}class Pj extends ff{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=$1(this,e,!0),i=this.Wc.map(a=>gf(a,t)),r=new af(i);return new Sv(e.path,r)}isEqual(e){return this===e}}class Nj extends ff{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new Kg(e.k,HF(e.k,this.Gc));return new Sv(e.path,t)}isEqual(e){return this===e}}function pM(n,e,t,i){const r=n.Qc(1,e,t);mM("Data must be an object, but it was:",r,i);const a=[],d=ts.empty();tf(i,(y,E)=>{const A=eC(e,y,t);E=(0,jt.m9)(E);const S=r.Bc(A);if(E instanceof zv)a.push(A);else{const B=gf(E,S);null!=B&&(a.push(A),d.set(A,B))}});const f=new Hg(a);return new H1(d,f,r.fieldTransforms)}function gM(n,e,t,i,r,a){const d=n.Qc(1,e,t),f=[yM(e,i,t)],y=[r];if(a.length%2!=0)throw new Fe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<a.length;B+=2)f.push(yM(e,a[B])),y.push(a[B+1]);const E=[],A=ts.empty();for(let B=f.length-1;B>=0;--B)if(!Z1(E,f[B])){const G=f[B];let Q=y[B];Q=(0,jt.m9)(Q);const he=d.Bc(G);if(Q instanceof zv)E.push(G);else{const Oe=gf(Q,he);null!=Oe&&(E.push(G),A.set(G,Oe))}}const S=new Hg(E);return new H1(A,S,d.fieldTransforms)}function z1(n,e,t,i=!1){return gf(t,n.Qc(i?4:3,e))}function gf(n,e){if(W1(n=(0,jt.m9)(n)))return mM("Unsupported field value:",e,n),q1(n,e);if(n instanceof ff)return function(t,i){if(!G1(i.$c))throw i.qc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const d of t){let f=gf(d,i.Uc(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return HF(i.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Ar.fromDate(t);return{timestampValue:Fv(i.k,r)}}if(t instanceof Ar){const r=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fv(i.k,r)}}if(t instanceof Qx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fl)return{bytesValue:lP(i.k,t._byteString)};if(t instanceof Jn){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.qc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:FT(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.qc(`Unsupported field value: ${Kx(t)}`)}(n,e)}function q1(n,e){const t={};return DF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tf(n,(i,r)=>{const a=gf(r,e.Mc(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function W1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof Qx||n instanceof Fl||n instanceof Jn||n instanceof ff)}function mM(n,e,t){if(!W1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Kx(t);throw e.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function yM(n,e,t){if((e=(0,jt.m9)(e))instanceof Hc)return e._internalPath;if("string"==typeof e)return eC(n,e);throw tC("Field path arguments must be of type string or ",n,!1,void 0,t)}const Lj=new RegExp("[~\\*/\\[\\]]");function eC(n,e,t){if(e.search(Lj)>=0)throw tC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hc(...e.split("."))._internalPath}catch(i){throw tC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tC(n,e,t,i,r){const a=i&&!i.isEmpty(),d=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||d)&&(y+=" (found",a&&(y+=` in field ${i}`),d&&(y+=` in document ${r}`),y+=")"),new Fe(ue.INVALID_ARGUMENT,f+n+y)}function Z1(n,e){return n.some(t=>t.isEqual(e))}class qv{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bj extends qv{data(){return super.data()}}function nC(n,e){return"string"==typeof e?eC(n,e):e instanceof Hc?e._internalPath:e._delegate._internalPath}class mf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gc extends qv{constructor(e,t,i,r,a,d){super(e,t,i,r,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(nC("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Wv extends Gc{data(e={}){return super.data(e)}}class Cd{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Wv(this._firestore,this._userDataWriter,i.key,i,new mf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new Wv(i._firestore,i._userDataWriter,d.doc.key,d.doc,new mf(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const f=new Wv(i._firestore,i._userDataWriter,d.doc.key,d.doc,new mf(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,E=-1;return 0!==d.type&&(y=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),E=a.indexOf(d.doc.key)),{type:Vj(d.type),doc:f,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function K1(n,e){return n instanceof Gc&&e instanceof Gc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Cd&&e instanceof Cd&&n._firestore===e._firestore&&B1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Y1(n){if(Tx(n)&&0===n.explicitOrderBy.length)throw new Fe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zv{}function Dd(n,...e){for(const t of e)n=t._apply(n);return n}class Uj extends Zv{constructor(e,t,i){super(),this.zc=e,this.Hc=t,this.Jc=i,this.type="where"}_apply(e){const t=pf(e.firestore),i=function(r,a,d,f,y,E,A){let S;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Fe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){nN(A,E);const G=[];for(const Q of A)G.push(tN(f,r,Q));S={arrayValue:{values:G}}}else S=tN(f,r,A)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||nN(A,E),S=z1(d,"where",A,"in"===E||"not-in"===E);const B=_s.create(y,E,S);return function(G,Q){if(Q.V()){const Oe=TT(G);if(null!==Oe&&!Oe.isEqual(Q.field))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Oe.toString()}' and '${Q.field.toString()}'`);const qe=IT(G);null!==qe&&iN(0,Q.field,qe)}const he=function(Oe,qe){for(const ht of Oe.filters)if(qe.indexOf(ht.op)>=0)return ht.op;return null}(G,function(Oe){switch(Oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==he)throw new Fe(ue.INVALID_ARGUMENT,he===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${he.toString()}' filters.`)}(r,B),B}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new is(e.firestore,e.converter,function(r,a){const d=r.filters.concat([a]);return new Bc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),d,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class Hj extends Zv{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Fe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Fe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new zg(r,a);return function(f,y){if(null===IT(f)){const E=TT(f);null!==E&&iN(0,E,y.field)}}(i,d),d}(e._query,this.zc,this.Yc);return new is(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Bc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Q1 extends Zv{constructor(e,t,i){super(),this.type=e,this.Xc=t,this.Zc=i}_apply(e){return new is(e.firestore,e.converter,LF(e._query,this.Xc,this.Zc))}}class J1 extends Zv{constructor(e,t,i){super(),this.type=e,this.ta=t,this.ea=i}_apply(e){const t=eN(e,this.type,this.ta,this.ea);return new is(e.firestore,e.converter,(r=t,new Bc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class X1 extends Zv{constructor(e,t,i){super(),this.type=e,this.ta=t,this.ea=i}_apply(e){const t=eN(e,this.type,this.ta,this.ea);return new is(e.firestore,e.converter,(r=t,new Bc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function eN(n,e,t,i){if(t[0]=(0,jt.m9)(t[0]),t[0]instanceof qv)return function(r,a,d,f,y){if(!f)throw new Fe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const A of Wg(r))if(A.field.isKeyField())E.push(Ex(a,f.key));else{const S=f.data.field(A.field);if(ET(S))throw new Fe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const B=A.field.canonicalString();throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}E.push(S)}return new Av(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=pf(n.firestore);return function(a,d,f,y,E,A){const S=a.explicitOrderBy;if(E.length>S.length)throw new Fe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let G=0;G<E.length;G++){const Q=E[G];if(S[G].field.isKeyField()){if("string"!=typeof Q)throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Q}`);if(!ST(a)&&-1!==Q.indexOf("/"))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Q}' contains a slash.`);const he=a.path.child(wn.fromString(Q));if(!pt.isDocumentKey(he))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${he}' is not because it contains an odd number of segments.`);const Oe=new pt(he);B.push(Ex(d,Oe))}else{const he=z1(f,y,Q);B.push(he)}}return new Av(B,A)}(n._query,n.firestore._databaseId,r,e,t,i)}}function tN(n,e,t){if("string"==typeof(t=(0,jt.m9)(t))){if(""===t)throw new Fe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(e)&&-1!==t.indexOf("/"))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(wn.fromString(t));if(!pt.isDocumentKey(i))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ex(n,new pt(i))}if(t instanceof Jn)return Ex(n,t._key);throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kx(t)}.`)}function nN(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function iN(n,e,t){if(!t.isEqual(e))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _M{convertValue(e,t="none"){switch(rf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Et()}}convertObject(e,t){const i={};return tf(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new Qx(Wi(e.latitude),Wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=AF(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ev(e));default:return null}}convertTimestamp(e){const t=gd(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=wn.fromString(e);Ft(wP(i));const r=new mm(i.get(1),i.get(3)),a=new pt(i.popFirst(5));return r.isEqual(t)||qi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function iC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Yj extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}class rN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pf(e)}set(e,t,i){this._verifyNotCommitted();const r=Ad(e,this._firestore),a=iC(r.converter,t,i),d=Xx(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,Zi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Ad(e,this._firestore);let d;return d="string"==typeof(t=(0,jt.m9)(t))||t instanceof Hc?gM(this._dataReader,"WriteBatch.update",a._key,t,i,r):pM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Zi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ad(e,this._firestore);return this._mutations=this._mutations.concat(new Rv(t._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ad(n,e){if((n=(0,jt.m9)(n)).firestore!==e)throw new Fe(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yf extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function sN(n,e,t){n=rn(n,Jn);const i=rn(n.firestore,ai),r=iC(n.converter,e,t);return ym(i,[Xx(pf(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Zi.none())])}function oN(n,e,t,...i){n=rn(n,Jn);const r=rn(n.firestore,ai),a=pf(r);let d;return d="string"==typeof(e=(0,jt.m9)(e))||e instanceof Hc?gM(a,"updateDoc",n._key,e,t,i):pM(a,"updateDoc",n._key,e),ym(r,[d.toMutation(n._key,Zi.exists(!0))])}function aN(n,...e){var t,i,r;n=(0,jt.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||hM(e[d])||(a=e[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(hM(e[d])){const S=e[d];e[d]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[d+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[d+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let y,E,A;if(n instanceof Jn)E=rn(n.firestore,ai),A=qg(n._key.path),y={next:S=>{e[d]&&e[d](vM(E,n,S))},error:e[d+1],complete:e[d+2]};else{const S=rn(n,is);E=rn(S.firestore,ai),A=S._query;const B=new yf(E);y={next:G=>{e[d]&&e[d](new Cd(E,B,S,G))},error:e[d+1],complete:e[d+2]},Y1(n._query)}return function(S,B,G,Q){const he=new Wx(Q),Oe=new MS(B,he,G);return S.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return DS(yield gm(S),Oe)})),()=>{he.nc(),S.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return IS(yield gm(S),Oe)}))}}(Yi(E),A,f,y)}function ym(n,e){return function(t,i){const r=new Dr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function HU(n,e,t){return PS.apply(this,arguments)}(yield cM(t),i,r)})),r.promise}(Yi(n),e)}function vM(n,e,t){const i=t.docs.get(e._key),r=new yf(n);return new Gc(n,r,e._key,i,new mf(t.hasPendingWrites,t.fromCache),e.converter)}class oH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pf(e)}get(e){const t=Ad(e,this._firestore),i=new Yj(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Et();const a=r[0];if(a.isFoundDocument())return new qv(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new qv(this._firestore,i,t._key,null,t.converter);throw Et()})}set(e,t,i){const r=Ad(e,this._firestore),a=iC(r.converter,t,i),d=Xx(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(e,t,i,...r){const a=Ad(e,this._firestore);let d;return d="string"==typeof(t=(0,jt.m9)(t))||t instanceof Hc?gM(this._dataReader,"Transaction.update",a._key,t,i,r):pM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=Ad(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ad(e,this._firestore),i=new yf(this._firestore);return super.get(e).then(r=>new Gc(this._firestore,i,t._key,r._document,new mf(!1,!1),t.converter))}}function wM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function cN(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function uN(){if(!function WV(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ug=Oc.SDK_VERSION,(0,Oc._registerComponent)(new br.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),a=new ai(r,new jV(t.getProvider("auth-internal")),new $V(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC")),(0,Oc.registerVersion)(vF,"3.4.4",n),(0,Oc.registerVersion)(vF,"3.4.4","esm2017")}();class Kv{constructor(e){this._delegate=e}static fromBase64String(e){return uN(),new Kv(Fl.fromBase64String(e))}static fromUint8Array(e){return cN(),new Kv(Fl.fromUint8Array(e))}toBase64(){return uN(),this._delegate.toBase64()}toUint8Array(){return cN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function EM(n){return function gH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class mH{enableIndexedDbPersistence(e,t){return function xj(n,e){j1(n=rn(n,ai));const t=Yi(n),i=n._freezeSettings(),r=new nM;return U1(t,r,new E1(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Cj(n){j1(n=rn(n,ai));const e=Yi(n),t=n._freezeSettings(),i=new nM;return U1(e,i,new rj(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Dj(n){if(n._initialized&&!n._terminated)throw new Fe(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Dr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(i){if(!qa.Pt())return Promise.resolve();const r=i+"main";yield qa.delete(r)}),function(i){return t.apply(this,arguments)})(WT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class dN{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof mm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&bv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function _j(n,e,t,i={}){var r;const a=(n=rn(n,$v))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&bv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let d,f;if("string"==typeof i.mockUserToken)d=i.mockUserToken,f=Ur.MOCK_USER;else{d=(0,jt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Fe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ur(y)}n._authCredentials=new UV(new bF(d,f))}}(this._delegate,e,t,i)}enableNetwork(){return function Ij(n){return function cj(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield A1(n),t=yield I1(n);return e.setNetworkEnabled(!0),function(i){const r=Ye(i);return r.Gr.delete(0),Hv(r)}(t)}))}(Yi(n=rn(n,ai)))}(this._delegate)}disableNetwork(){return function Tj(n){return function uj(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield A1(n),t=yield I1(n);return e.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const a=Ye(r);a.Gr.add(0),yield lm(a),a.Jr.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Yi(n=rn(n,ai)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,R1("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Aj(n){return function(e){const t=new Dr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function qU(n,e){return US.apply(this,arguments)}(yield cM(e),t)})),t.promise}(Yi(n=rn(n,ai)))}(this._delegate)}onSnapshotsInSync(e){return function sH(n,e){return function fj(n,e){const t=new Wx(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield gm(n),r=t,Ye(i).io.add(r),void r.next();var i,r})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield gm(n),r=t,void Ye(i).io.delete(r);var i,r}))}}(Yi(n=rn(n,ai)),hM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _m(this,N1(this._delegate,e))}catch(t){throw vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ra(this,Yx(this._delegate,e))}catch(t){throw vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bs(this,function vj(n,e){if(n=rn(n,$v),dM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new is(n,null,(t=e,new Bc(wn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function aH(n,e){return function pj(n,e){const t=new Dr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const i=yield(r=n,Zx(r).then(a=>a.datastore));var r;new aj(n.asyncQueue,i,e,t).run()})),t.promise}(Yi(n=rn(n,ai)),t=>e(new oH(n,t)))}(this._delegate,t=>e(new hN(this,t)))}batch(){return Yi(this._delegate),new fN(new rN(this._delegate,e=>ym(this._delegate,e)))}loadBundle(e){return function Sj(n,e){const t=Yi(n=rn(n,ai)),i=new wj;return function gj(n,e,t,i){const r=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,E){if(y instanceof Uint8Array)return x1(y,E);if(y instanceof ArrayBuffer)return x1(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new sj(y,d);var y}(t,jv(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function ij(n,e,t){const i=Ye(n);var r;(r=(0,be.Z)(function*(a,d,f){try{const y=yield d.getMetadata();if(yield function(B,G){const Q=Ye(B),he=Ir(G.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",Oe=>Q.Ye.getBundleMetadata(Oe,G.id)).then(Oe=>!!Oe&&Oe.createTime.compareTo(he)>=0)}(a.localStore,y))return yield d.close(),void f._completeWith((B=y,{taskState:"Success",documentsLoaded:B.totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}));f._updateProgress(h1(y));const E=new NU(y,a.localStore,d.k);let A=yield d.Ho();for(;A;){const B=yield E.yo(A);B&&f._updateProgress(B),A=yield d.Ho()}const S=yield E.complete();yield jc(a,S.In,void 0),yield function(B,G){const Q=Ye(B);return Q.persistence.runTransaction("Save bundle","readwrite",he=>Q.Ye.saveBundleMetadata(he,G))}(a.localStore,y),f._completeWith(S.progress)}catch(y){bv("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y)}var B}),function(a,d,f){return r.apply(this,arguments)})(i,e,t).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield cM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Mj(n,e){return function mj(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,i){const r=Ye(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ye.getNamedQuery(a,i))}(yield lM(n),e)}))}(Yi(n=rn(n,ai)),e).then(t=>t?new is(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bs(this,t):null)}}class rC extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kv(new Fl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ra.forKey(t,this.firestore,null)}}class hN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rC(e)}get(e){const t=vf(e);return this._delegate.get(t).then(i=>new Yv(this._firestore,new Gc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=vf(e);return i?(wM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=vf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=vf(e);return this._delegate.delete(t),this}}class fN{constructor(e){this._delegate=e}set(e,t,i){const r=vf(e);return i?(wM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=vf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=vf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _f{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Wv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qv(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=_f.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new _f(e,new rC(e),t),r.set(t,a)),a}}_f.INSTANCES=new WeakMap;class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rC(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ra(t,new Jn(t._delegate,i,new pt(e)))}static forKey(e,t,i){return new ra(t,new Jn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new _m(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _m(this.firestore,N1(this._delegate,e))}catch(t){throw vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,jt.m9)(e))instanceof Jn&&L1(this._delegate,e)}set(e,t){t=wM("DocumentReference.set",t);try{return t?sN(this._delegate,e,t):sN(this._delegate,e)}catch(i){throw vs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?oN(this._delegate,e):oN(this._delegate,e,t,...i)}catch(r){throw vs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function iH(n){return ym(rn(n.firestore,ai),[new Rv(n._key,Zi.none())])}(this._delegate)}onSnapshot(...e){const t=pN(e),i=gN(e,r=>new Yv(this.firestore,new Gc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return aN(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Jj(n){n=rn(n,Jn);const e=rn(n.firestore,ai),t=Yi(e),i=new yf(e);return function dj(n,e){const t=new Dr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,d){try{const f=yield function(y,E){const A=Ye(y);return A.persistence.runTransaction("read document","readonly",S=>A.Wn.Rn(S,E))}(r,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Fe(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=dm(f,`Failed to get document '${a} from cache`);d.reject(y)}}),function(r,a,d){return i.apply(this,arguments)})(yield lM(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Gc(e,i,n._key,r,new mf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Xj(n){n=rn(n,Jn);const e=rn(n.firestore,ai);return T1(Yi(e),n._key,{source:"server"}).then(t=>vM(e,n,t))}(this._delegate):function Qj(n){n=rn(n,Jn);const e=rn(n.firestore,ai);return T1(Yi(e),n._key).then(t=>vM(e,n,t))}(this._delegate),t.then(i=>new Yv(this.firestore,new Gc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?_f.getInstance(this.firestore,e):null))}}function vs(n,e,t){return n.message=n.message.replace(e,t),n}function pN(n){for(const e of n)if("object"==typeof e&&!EM(e))return e;return{}}function gN(n,e){var t,i;let r;return r=EM(n[0])?n[0]:EM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Yv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return K1(this._delegate,e._delegate)}}class Qv extends Yv{data(e){const t=this._delegate.data(e);return function BV(n,e){n||Et()}(void 0!==t),t}}class bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rC(e)}where(e,t,i){try{return new bs(this.firestore,Dd(this._delegate,function jj(n,e,t){const i=e,r=nC("where",n);return new Uj(r,i,t)}(e,t,i)))}catch(r){throw vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bs(this.firestore,Dd(this._delegate,function Gj(n,e="asc"){const t=e,i=nC("orderBy",n);return new Hj(i,t)}(e,t)))}catch(i){throw vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bs(this.firestore,Dd(this._delegate,function $j(n){return F1("limit",n),new Q1("limit",n,"F")}(e)))}catch(t){throw vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bs(this.firestore,Dd(this._delegate,function zj(n){return F1("limitToLast",n),new Q1("limitToLast",n,"L")}(e)))}catch(t){throw vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bs(this.firestore,Dd(this._delegate,function qj(...n){return new J1("startAt",n,!0)}(...e)))}catch(t){throw vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bs(this.firestore,Dd(this._delegate,function Wj(...n){return new J1("startAfter",n,!1)}(...e)))}catch(t){throw vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bs(this.firestore,Dd(this._delegate,function Zj(...n){return new X1("endBefore",n,!0)}(...e)))}catch(t){throw vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bs(this.firestore,Dd(this._delegate,function Kj(...n){return new X1("endAt",n,!1)}(...e)))}catch(t){throw vs(t,"endAt()","Query.endAt()")}}isEqual(e){return B1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tH(n){n=rn(n,is);const e=rn(n.firestore,ai),t=Yi(e),i=new yf(e);return function hj(n,e){const t=new Dr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,d){try{const f=yield jx(r,a,!0),y=new g1(a,f.zn),E=y.Po(f.documents),A=y.applyChanges(E,!1);d.resolve(A.snapshot)}catch(f){const y=dm(f,`Failed to execute query '${a} against cache`);d.reject(y)}}),function(r,a,d){return i.apply(this,arguments)})(yield lM(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Cd(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function nH(n){n=rn(n,is);const e=rn(n.firestore,ai),t=Yi(e),i=new yf(e);return S1(t,n._query,{source:"server"}).then(r=>new Cd(e,i,n,r))}(this._delegate):function eH(n){n=rn(n,is);const e=rn(n.firestore,ai),t=Yi(e),i=new yf(e);return Y1(n._query),S1(t,n._query).then(r=>new Cd(e,i,n,r))}(this._delegate),t.then(i=>new xM(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=pN(e),i=gN(e,r=>new xM(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return aN(this._delegate,t,i)}withConverter(e){return new bs(this.firestore,this._delegate.withConverter(e?_f.getInstance(this.firestore,e):null))}}class _H{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new _H(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Qv(this._firestore,i))})}isEqual(e){return K1(this._delegate,e._delegate)}}class _m extends bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ra(this.firestore,e):null}doc(e){try{return new ra(this.firestore,void 0===e?Yx(this._delegate):Yx(this._delegate,e))}catch(t){throw vs(t,"doc()","CollectionReference.doc()")}}add(e){return function rH(n,e){const t=rn(n.firestore,ai),i=Yx(n),r=iC(n.converter,e);return ym(t,[Xx(pf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Zi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ra(this.firestore,t))}isEqual(e){return L1(this._delegate,e._delegate)}withConverter(e){return new _m(this.firestore,this._delegate.withConverter(e?_f.getInstance(this.firestore,e):null))}}function vf(n){return rn(n,Jn)}class CM{constructor(...e){this._delegate=new Hc(...e)}static documentId(){return new CM(jr.keyField().canonicalString())}isEqual(e){return(e=(0,jt.m9)(e))instanceof Hc&&this._delegate._internalPath.isEqual(e._internalPath)}}class bf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function cH(){return new fM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bf(e)}static delete(){const e=function lH(){return new zv("deleteField")}();return e._methodName="FieldValue.delete",new bf(e)}static arrayUnion(...e){const t=function uH(...n){return new Fj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new bf(t)}static arrayRemove(...e){const t=function dH(...n){return new Pj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new bf(t)}static increment(e){const t=function hH(n){return new Nj("increment",n)}(e);return t._methodName="FieldValue.increment",new bf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const vH={Firestore:dN,GeoPoint:Qx,Timestamp:Ar,Blob:Kv,Transaction:hN,WriteBatch:fN,DocumentReference:ra,DocumentSnapshot:Yv,Query:bs,QueryDocumentSnapshot:Qv,QuerySnapshot:xM,CollectionReference:_m,FieldPath:CM,FieldValue:bf,setLogLevel:function yH(n){!function LV(n){pd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function wH(n){(function bH(n,e){n.INTERNAL.registerComponent(new br.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},vH)))})(n,(e,t)=>new dN(e,t,new mH)),n.registerVersion("@firebase/firestore-compat","0.1.13")}(jI.Z);var sC=F(5363);function ws(n,e){return(0,Di.e)((t,i)=>{let r=null,a=0,d=!1;const f=()=>d&&!r&&i.complete();t.subscribe(new jn.Q(i,y=>{null==r||r.unsubscribe();let E=0;const A=a++;(0,pl.Xf)(n(y,A)).subscribe(r=new jn.Q(i,S=>i.next(e?e(y,S,A,E++):S),()=>{r=null,f()}))},()=>{d=!0,f()}))})}var EH=F(6063);class xH extends zt.x{constructor(e=1/0,t=1/0,i=EH.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:d}=this;t||(i.push(e),!r&&i.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let d=0;d<a.length&&!e.closed;d+=i?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const d=t.now();let f=0;for(let y=1;y<i.length&&i[y]<=d;y+=2)f=y;f&&i.splice(0,f+1)}}}function mN(n,e,t){var i,r;let a,d=!1;return n&&"object"==typeof n?(a=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,e=null!==(r=n.windowTime)&&void 0!==r?r:1/0,d=!!n.refCount,t=n.scheduler):a=null!=n?n:1/0,(0,Ny.B)({connector:()=>new xH(a,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}const oC=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function yN(n){return(0,Di.e)((e,t)=>{let i=!1;e.subscribe(new jn.Q(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function _N(n=DH){return(0,Di.e)((e,t)=>{let i=!1;e.subscribe(new jn.Q(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function DH(){return new oC}function wf(n,e){const t=arguments.length>=2;return i=>i.pipe(n?on((r,a)=>n(r,a,i)):fl.y,(0,Ma.q)(1),t?yN(e):_N(()=>new oC))}function vN(n,e){return(0,_r.m)(e)?ws(()=>n,e):ws(()=>n)}var DM=F(9468);F(5867);const wN=new Map,MH={activated:!1,tokenObservers:[]},RH={initialized:!1,enabled:!1};function Sr(n){return wN.get(n)||MH}function Wa(n,e){wN.set(n,e)}function lC(){return RH}class NH{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new jt.BH,yield function LH(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Es=new jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xN(n){if(!Sr(n).activated)throw Es.create("use-before-activation",{appName:n.name})}function SM(n,e){return MM.apply(this,arguments)}function MM(){return MM=(0,be.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const a={method:"POST",body:JSON.stringify(e),headers:i};let d,f;try{d=yield fetch(n,a)}catch(S){throw Es.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==d.status)throw Es.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(S){throw Es.create("fetch-parse-error",{originalErrorMessage:S.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const E=1e3*Number(y[1]),A=Date.now();return{token:f.attestationToken,expireTimeMillis:A+E,issuedAtTimeMillis:A}}),MM.apply(this,arguments)}function HH(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Jv="firebase-app-check-store";let dC=null;function DN(){return dC||(dC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Es.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Jv,{keyPath:"compositeKey"})}}catch(t){e(Es.create("storage-open",{originalErrorMessage:t.message}))}}),dC)}function RM(){return RM=(0,be.Z)(function*(n,e){const i=(yield DN()).transaction(Jv,"readwrite"),a=i.objectStore(Jv).put({compositeKey:n,value:e});return new Promise((d,f)=>{a.onsuccess=y=>{d()},i.onerror=y=>{var E;f(Es.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})}),RM.apply(this,arguments)}const Xv=new Il.Yd("@firebase/app-check");function SN(n,e){return(0,jt.hl)()?function qH(n,e){return function AN(n,e){return RM.apply(this,arguments)}(function TN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function MN(){return lC().enabled}function RN(){return PM.apply(this,arguments)}function PM(){return PM=(0,be.Z)(function*(){const n=lC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),PM.apply(this,arguments)}const JH={error:"UNKNOWN_ERROR"};function XH(n){return jt.US.encodeString(JSON.stringify(n),!1)}function hC(n){return NM.apply(this,arguments)}function NM(){return NM=(0,be.Z)(function*(n,e=!1){const t=n.app;xN(t);const i=Sr(t);let a,r=i.token;if(!r){const y=yield i.cachedTokenPromise;y&&fC(y)&&(r=y)}if(!e&&r&&fC(r))return{token:r.token};let f,d=!1;if(MN()){i.exchangeTokenPromise||(i.exchangeTokenPromise=SM(HH(t,yield RN()),n.platformLoggerProvider).then(E=>(i.exchangeTokenPromise=void 0,E)),d=!0);const y=yield i.exchangeTokenPromise;return yield SN(t,y),Wa(t,Object.assign(Object.assign({},i),{token:y})),{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(y=>(i.exchangeTokenPromise=void 0,y)),d=!0),r=yield i.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Xv.warn(y.message):Xv.error(y),a=y}return r?(f={token:r.token},Wa(t,Object.assign(Object.assign({},i),{token:r})),yield SN(t,r)):f=tG(a),d&&ON(t,f),f}),NM.apply(this,arguments)}function BM(n,e){const t=Sr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Wa(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function kN(n){const{app:e}=n,t=Sr(e);let i=t.tokenRefresher;i||(i=function eG(n){const{app:e}=n;return new NH((0,be.Z)(function*(){let i;if(i=Sr(e).token?yield hC(n,!0):yield hC(n),i.error)throw i.error}),()=>!0,()=>{const t=Sr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Wa(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ON(n,e){const t=Sr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function fC(n){return n.expireTimeMillis-Date.now()>0}function tG(n){return{token:XH(JH),error:n}}class nG{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Sr(this.app);for(const t of e)BM(this.app,t.next);return Promise.resolve()}}const jN="app-check-internal";!function mG(){(0,Oc._registerComponent)(new br.wA("app-check",n=>function iG(n,e){return new nG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(jN).initialize()})),(0,Oc._registerComponent)(new br.wA(jN,n=>function rG(n){return{getToken:e=>hC(n,e),addTokenListener:e=>function LM(n,e,t,i){const{app:r}=n,a=Sr(r),d={next:t,error:i,type:e};if(Wa(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&fC(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),kN(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>kN(n))}(n,"INTERNAL",e),removeTokenListener:e=>BM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oc.registerVersion)("@firebase/app-check","0.5.3")}();class HM{constructor(){return(0,vr.vb)("app-check")}}"undefined"!=typeof window&&window;var Ef=F(127);const GN=new c.OlP("angularfire2.auth.use-emulator"),$N=new c.OlP("angularfire2.auth.settings"),zN=new c.OlP("angularfire2.auth.tenant-id"),qN=new c.OlP("angularfire2.auth.langugage-code"),WN=new c.OlP("angularfire2.auth.use-device-language"),ZN=new c.OlP("angularfire.auth.persistence"),KN=(n,e,t,i,r,a,d,f)=>(0,ta.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),i&&(y.tenantId=i),y.languageCode=r,a&&y.useDeviceLanguage(),d)for(const[E,A]of Object.entries(d))y.settings[E]=A;return f&&y.setPersistence(f),y},[t,i,r,a,d,f]);let gC=(()=>{class n{constructor(t,i,r,a,d,f,y,E,A,S,B,G){const Q=new zt.x,he=He(void 0).pipe((0,sC.Q)(d.outsideAngular),ws(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,yt.U)(()=>(0,ta.on)(t,a,i)),(0,yt.U)(Oe=>KN(Oe,a,f,E,A,S,y,B)),mN({bufferSize:1,refCount:!1}));if(qr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=He(null);else{he.pipe(wf()).subscribe();const qe=he.pipe(ws(vt=>vt.getRedirectResult().then(gn=>gn,()=>null)),vr.iC,mN({bufferSize:1,refCount:!1})),ht=he.pipe(ws(vt=>new ii.y(gn=>({unsubscribe:a.runOutsideAngular(()=>vt.onAuthStateChanged(Mi=>gn.next(Mi),Mi=>gn.error(Mi),()=>gn.complete()))})))),Bt=he.pipe(ws(vt=>new ii.y(gn=>({unsubscribe:a.runOutsideAngular(()=>vt.onIdTokenChanged(Mi=>gn.next(Mi),Mi=>gn.error(Mi),()=>gn.complete()))}))));this.authState=qe.pipe(vN(ht),(0,DM.R)(d.outsideAngular),(0,sC.Q)(d.insideAngular)),this.user=qe.pipe(vN(Bt),(0,DM.R)(d.outsideAngular),(0,sC.Q)(d.insideAngular)),this.idToken=this.user.pipe(ws(vt=>vt?(0,Mn.D)(vt.getIdToken()):He(null))),this.idTokenResult=this.user.pipe(ws(vt=>vt?(0,Mn.D)(vt.getIdTokenResult()):He(null))),this.credential=(0,$h.T)(qe,Q,this.authState.pipe(on(vt=>!vt))).pipe((0,yt.U)(vt=>(null==vt?void 0:vt.user)?vt:null),(0,DM.R)(d.outsideAngular),(0,sC.Q)(d.insideAngular))}return(0,ta.pX)(this,he,a,{spy:{apply:(Oe,qe,ht)=>{(Oe.startsWith("signIn")||Oe.startsWith("createUser"))&&ht.then(Bt=>Q.next(Bt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ta.Dh),c.LFG(ta.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(vr.HU),c.LFG(GN,8),c.LFG($N,8),c.LFG(zN,8),c.LFG(qN,8),c.LFG(WN,8),c.LFG(ZN,8),c.LFG(HM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function YN(n,e){return function EG(n,e=Jd.z){return new ii.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function $M(n,e){return YN(n,e).pipe((0,yt.U)(t=>({payload:t,type:"query"})))}function mC(n,e){return $M(n,e).pipe(vo(void 0),L_(),(0,yt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,f)=>{const y=r.find(A=>A.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function QN(n,e,t){return mC(n,t).pipe(qh((i,r)=>function CG(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function DG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),lp(),(0,yt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function zM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function JN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class XN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=mC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(vo(void 0),L_(),on(([i,r])=>r.length>0||!i),(0,yt.U)(([i,r])=>r),vr.iC)}auditTrail(e){return this.stateChanges(e).pipe(qh((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=JN(e);return QN(this.query,t,this.afs.schedulers.outsideAngular).pipe(vr.iC)}valueChanges(e={}){return $M(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),vr.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(vr.iC)}add(e){return this.ref.add(e)}doc(e){return new eL(this.ref.doc(e),this.afs)}}class eL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=iL(i,t);return new XN(r,a,this.afs)}snapshotChanges(){return function xG(n,e){return YN(n,e).pipe(vo(void 0),L_(),(0,yt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(vr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,yt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Mn.D)(this.ref.get(e)).pipe(vr.iC)}}class AG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mC(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),on(t=>t.length>0),vr.iC):mC(this.query,this.afs.schedulers.outsideAngular).pipe(vr.iC)}auditTrail(e){return this.stateChanges(e).pipe(qh((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=JN(e);return QN(this.query,t,this.afs.schedulers.outsideAngular).pipe(vr.iC)}valueChanges(e={}){return $M(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),vr.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(vr.iC)}}const tL=new c.OlP("angularfire2.enableFirestorePersistence"),nL=new c.OlP("angularfire2.firestore.persistenceSettings"),IG=new c.OlP("angularfire2.firestore.settings"),TG=new c.OlP("angularfire2.firestore.use-emulator");function iL(n,e=(t=>t)){return{query:e(n),ref:n}}let SG=(()=>{class n{constructor(t,i,r,a,d,f,y,E,A,S,B,G,Q,he,Oe,qe,ht){this.schedulers=y;const Bt=(0,ta.on)(t,f,i),vt=A;S&&KN(Bt,f,B,Q,he,Oe,G,qe),[this.firestore,this.persistenceEnabled$]=(0,ta.cc)(`${Bt.name}.firestore`,"AngularFirestore",Bt.name,()=>{const gn=f.runOutsideAngular(()=>Bt.firestore());if(a&&gn.settings(a),vt&&gn.useEmulator(...vt),r&&!qr(d)){const Mi=()=>{try{return(0,Mn.D)(gn.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Qi){return"undefined"!=typeof console&&console.warn(Qi),He(!1)}};return[gn,f.runOutsideAngular(Mi)]}return[gn,He(!1)]},[a,vt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=iL(r,i),f=this.schedulers.ngZone.run(()=>a);return new XN(f,d,this)}collectionGroup(t,i){const r=i||(d=>d),a=this.firestore.collectionGroup(t);return new AG(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new eL(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ta.Dh),c.LFG(ta.xv,8),c.LFG(tL,8),c.LFG(IG,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(vr.HU),c.LFG(nL,8),c.LFG(TG,8),c.LFG(gC,8),c.LFG(GN,8),c.LFG($N,8),c.LFG(zN,8),c.LFG(qN,8),c.LFG(WN,8),c.LFG(ZN,8),c.LFG(HM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MG=(()=>{class n{constructor(){Ef.Z.registerVersion("angularfire",vr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:tL,useValue:!0},{provide:nL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[SG]}),n})();function rL(n){for(let e in n){let t=n[e]||"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":t=t||"row",n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}const qM="inline",yC=["row","column","row-reverse","column-reverse"];function sL(n){let[e,t,i]=oL(n);return function kG(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,i)}function oL(n){n=n?n.toLowerCase():"";let[e,t,i]=n.split(" ");return yC.find(r=>r===e)||(e=yC[0]),t===qM&&(t=i!==qM?i:"",i=qM),[e,RG(t),!!i]}function eb(n){let[e]=oL(n);return e.indexOf("row")>-1}function RG(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function $c(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}const FG={provide:c.tb,useFactory:function OG(n,e){return()=>{if(Cn(e)){const t=Array.from(n.querySelectorAll(`[class*=${aL}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${aL}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[te,c.Lbi],multi:!0},aL="flex-layout-";let WM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[FG]}),n})();class xf{constructor(e=!1,t="all",i="",r="",a=0){this.matches=e,this.mediaQuery=t,this.mqAlias=i,this.suffix=r,this.priority=a,this.property=""}clone(){return new xf(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let PG=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,r){const a=this.stylesheet.get(t);a?a.set(i,r):this.stylesheet.set(t,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const r=this.stylesheet.get(t);let a="";if(r){const d=r.get(i);("number"==typeof d||"string"==typeof d)&&(a=d+"")}return a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZM={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Id=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>ZM}),vm=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),KM=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function lL(n,e){return n=n?n.clone():new xf,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}class Si{constructor(){this.shouldCache=!0}sideEffect(e,t,i){}}let Xn=(()=>{class n{constructor(t,i,r,a){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=a}applyStyleToElement(t,i,r=null){let a={};"string"==typeof i&&(a[i]=r,i=a),a=this.layoutConfig.disableVendorPrefixes?i:rL(i),this._applyMultiValueStyleToElement(a,t)}applyStyleToElements(t,i=[]){const r=this.layoutConfig.disableVendorPrefixes?t:rL(t);i.forEach(a=>{this._applyMultiValueStyleToElement(r,a)})}getFlowDirection(t){const i="flex-direction";let r=this.lookupStyle(t,i);return[r||"row",this.lookupInlineStyle(t,i)||qr(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){return t.getAttribute(i)||""}lookupInlineStyle(t,i){return Cn(this._platformId)?t.style.getPropertyValue(i):this._getServerStyle(t,i)}lookupStyle(t,i,r=!1){let a="";return t&&((a=this.lookupInlineStyle(t,i))||(Cn(this._platformId)?r||(a=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(a=this._serverStylesheet.getStyleForElement(t,i)))),a?a.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(r=>{const a=t[r],d=Array.isArray(a)?a:[a];d.sort();for(let f of d)f=f?f+"":"",Cn(this._platformId)||!this._serverModuleLoaded?Cn(this._platformId)?i.style.setProperty(r,f):this._setServerStyle(i,r,f):this._serverStylesheet.addStyleToElement(i,r,f)})}_setServerStyle(t,i,r){i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const a=this._readStyleAttribute(t);a[i]=r||"",this._writeStyleAttribute(t,a)}_getServerStyle(t,i){return this._readStyleAttribute(t)[i]||""}_readStyleAttribute(t){const i={},r=t.getAttribute("style");if(r){const a=r.split(/;+/g);for(let d=0;d<a.length;d++){const f=a[d].trim();if(f.length>0){const y=f.indexOf(":");if(-1===y)throw new Error(`Invalid CSS style: ${f}`);i[f.substr(0,y).trim()]=f.substr(y+1).trim()}}}return i}_writeStyleAttribute(t,i){let r="";for(const a in i)i[a]&&(r+=a+":"+i[a]+";");t.setAttribute("style",r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(PG),c.LFG(vm),c.LFG(c.Lbi),c.LFG(Id))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tb(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function NG(n,e){return(n.priority||0)-(e.priority||0)}let YM=(()=>{class n{constructor(t,i,r){this._zone=t,this._platformId=i,this._document=r,this.source=new Fi(new xf(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,r)=>{i.matches&&t.push(r)}),t}isActive(t){const i=this.registry.get(t);return i?i.matches:this.registerQuery(t).some(r=>r.matches)}observe(t,i=!1){if(t&&t.length){const r=this._observable$.pipe(on(d=>!i||t.indexOf(d.mediaQuery)>-1)),a=new ii.y(d=>{const f=this.registerQuery(t);if(f.length){const y=f.pop();f.forEach(E=>{d.next(E)}),this.source.next(y)}d.complete()});return(0,$h.T)(a,r)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],r=[];return function LG(n,e){const t=n.filter(i=>!cL[i]);if(t.length>0){const i=t.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),e.head.appendChild(r),t.forEach(a=>cL[a]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(a=>{const d=y=>{this._zone.run(()=>this.source.next(new xf(y.matches,a)))};let f=this.registry.get(a);f||(f=this.buildMQL(a),f.addListener(d),this.pendingRemoveListenerFns.push(()=>f.removeListener(d)),this.registry.set(a,f)),f.matches&&r.push(new xf(!0,a))}),r}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function BG(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,Cn(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(c.Lbi),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cL={},VG=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],uL="(orientation: portrait) and (max-width: 599.98px)",dL="(orientation: landscape) and (max-width: 959.98px)",hL="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",fL="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",pL="(orientation: portrait) and (min-width: 840px)",gL="(orientation: landscape) and (min-width: 1280px)",zc={HANDSET:`${uL}, ${dL}`,TABLET:`${hL} , ${fL}`,WEB:`${pL}, ${gL} `,HANDSET_PORTRAIT:`${uL}`,TABLET_PORTRAIT:`${hL} `,WEB_PORTRAIT:`${pL}`,HANDSET_LANDSCAPE:`${dL}`,TABLET_LANDSCAPE:`${fL}`,WEB_LANDSCAPE:`${gL}`},UG=[{alias:"handset",priority:2e3,mediaQuery:zc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:zc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:zc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:zc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:zc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:zc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:zc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:zc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:zc.WEB_PORTRAIT,overlapping:!0}],jG=/(\.|-|_)/g;function HG(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}const qG=new c.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,c.f3M)(KM),e=(0,c.f3M)(Id),t=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function zG(n,e=[]){const t={};return n.forEach(i=>{t[i.alias]=i}),e.forEach(i=>{t[i.alias]?$c(t[i.alias],i):t[i.alias]=i}),function $G(n){return n.forEach(e=>{e.suffix||(e.suffix=function GG(n){return n.replace(jG,"|").split("|").map(HG).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(i=>t[i]))}((e.disableDefaultBps?[]:VG).concat(e.addOrientationBps?UG:[]),t)}});let QM=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(NG)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias==t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,i){let r=this.findByMap.get(t);return r||(r=this.items.find(i)||null,this.findByMap.set(t,r)),r||null}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bm="print",WG={alias:bm,mediaQuery:bm,priority:1e3};let ZG=(()=>{class n{constructor(t,i,r){this.breakpoints=t,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new KG,this.deactivations=[]}withPrintQuery(t){return[...t,bm]}isPrintEvent(t){return t.mediaQuery.startsWith(bm)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(tb)}updateEvent(t){let i=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(i=this.getEventBreakpoints(t)[0],t.mediaQuery=i?i.mediaQuery:""),lL(t,i)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new xf(!0,bm))),t.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const i=this.breakpoints.findByQuery(t.mediaQuery);i&&(this.deactivations.push(i),this.deactivations.sort(tb))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(QM),c.LFG(Id),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KG{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(WG),e.sort(tb),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function YG(n){return!!n&&n.mediaQuery.startsWith(bm)}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let li=(()=>{class n{constructor(t,i,r){this.matchMedia=t,this.breakpoints=i,this.hook=r,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new zt.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);i&&((t=lL(t,i)).matches&&-1===this.activatedBreakpoints.indexOf(i)?(this.activatedBreakpoints.push(i),this.activatedBreakpoints.sort(tb),this.updateStyles()):!t.matches&&-1!==this.activatedBreakpoints.indexOf(i)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(i),1),this.activatedBreakpoints.sort(tb),this.updateStyles()))}init(t,i,r,a,d=[]){mL(this.updateMap,t,i,r),mL(this.clearMap,t,i,a),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,d)}getValue(t,i,r){const a=this.elementMap.get(t);if(a){const d=void 0!==r?a.get(r):this.getActivatedValues(a,i);if(d)return d.get(i)}}hasValue(t,i){const r=this.elementMap.get(t);if(r){const a=this.getActivatedValues(r,i);if(a)return void 0!==a.get(i)||!1}return!1}setValue(t,i,r,a){let d=this.elementMap.get(t);if(d){const y=(d.get(a)||new Map).set(i,r);d.set(a,y),this.elementMap.set(t,d)}else d=(new Map).set(a,(new Map).set(i,r)),this.elementMap.set(t,d);const f=this.getValue(t,i);void 0!==f&&this.updateElement(t,i,f)}trackValue(t,i){return this.subject.asObservable().pipe(on(r=>r.element===t&&r.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const r=new Set(this.elementKeyMap.get(i));let a=this.getActivatedValues(t);a&&a.forEach((d,f)=>{this.updateElement(i,f,d),r.delete(f)}),r.forEach(d=>{if(a=this.getActivatedValues(t,d),a){const f=a.get(d);this.updateElement(i,d,f)}else this.clearElement(i,d)})})}clearElement(t,i){const r=this.clearMap.get(t);if(r){const a=r.get(i);a&&(a(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,r){const a=this.updateMap.get(t);if(a){const d=a.get(i);d&&(d(r),this.subject.next({element:t,key:i,value:r}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(a=>a.unsubscribe()),this.watcherMap.delete(t));const r=this.elementMap.get(t);r&&(r.forEach((a,d)=>r.delete(d)),this.elementMap.delete(t))}triggerUpdate(t,i){const r=this.elementMap.get(t);if(r){const a=this.getActivatedValues(r,i);a&&(i?this.updateElement(t,i,a.get(i)):a.forEach((d,f)=>this.updateElement(t,f,d)))}}buildElementKeyMap(t,i){let r=this.elementKeyMap.get(t);r||(r=new Set,this.elementKeyMap.set(t,r)),r.add(i)}watchExtraTriggers(t,i,r){if(r&&r.length){let a=this.watcherMap.get(t);if(a||(a=new Map,this.watcherMap.set(t,a)),!a.get(i)){const f=(0,$h.T)(...r).subscribe(()=>{const y=this.getValue(t,i);this.updateElement(t,i,y)});a.set(i,f)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let a=0;a<this.activatedBreakpoints.length;a++){const f=t.get(this.activatedBreakpoints[a].alias);if(f&&(void 0===i||f.has(i)&&null!=f.get(i)))return f}const r=t.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const i=this.breakpoints.items.map(r=>r.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe((0,Ci.b)(this.hook.interceptEvents(this)),on(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(YM),c.LFG(QM),c.LFG(ZG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mL(n,e,t,i){if(void 0!==i){let r=n.get(e);r||(r=new Map,n.set(e,r)),r.set(t,i)}}let _i=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.styleBuilder=i,this.styler=r,this.marshal=a,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new zt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const r=this.styleBuilder,a=r.shouldCache;let d=this.styleCache.get(t);(!d||!a)&&(d=r.buildStyles(t,i),a&&this.styleCache.set(t,d)),this.mru=Object.assign({},d),this.applyStyleToElement(d),r.sideEffect(t,d,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[r,a]=this.styler.getFlowDirection(t);if(!a&&i){const d=sL(r);this.styler.applyStyleToElements(d,[t])}return r.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,r=this.nativeElement){this.styler.applyStyleToElement(r,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Si),c.Y36(Xn),c.Y36(li))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();function yL(n,e="1",t="1"){let i=[e,t,n],r=n.indexOf("calc");if(r>0){i[2]=_L(n.substring(r).trim());let a=n.substr(0,r).trim().split(" ");2==a.length&&(i[0]=a[0],i[1]=a[1])}else if(0==r)i[2]=_L(n.trim());else{let a=n.split(" ");i=3===a.length?a:[e,t,n]}return i}function _L(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let a$=(()=>{class n extends Si{buildStyles(t,i){return{display:"true"===t?i.display||(i.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l$=(()=>{class n extends _i{constructor(t,i,r,a,d,f,y){super(t,i,r,a),this.layoutConfig=d,this.platformId=f,this.serverModuleLoaded=y,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const t=Array.from(this.nativeElement.children);for(let r=0;r<t.length;r++)if(this.marshal.hasValue(t[r],"flex")){this.hasFlexChild=!0;break}JM.has(this.nativeElement)?this.display=JM.get(this.nativeElement):(this.display=this.getDisplayStyle(),JM.set(this.nativeElement,this.display)),this.init();const i=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===i||""===i?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split("."),a=r.slice(1).join("."),d=t[i].currentValue;let f=""===d||0!==d&&An(d);"fxHide"===r[0]&&(f=!f),this.setValue(f,a)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(t=>{this.marshal.trackValue(this.nativeElement,t).pipe(Hn(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(t=!0){if(""===t)return;const i=qr(this.platformId);this.addStyles(t?"true":"false",{display:this.display,isServer:i}),i&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(a$),c.Y36(Xn),c.Y36(li),c.Y36(Id),c.Y36(c.Lbi),c.Y36(vm))},n.\u0275dir=c.lG2({type:n,features:[c.qOj,c.TTD]}),n})();const JM=new WeakMap,c$=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let vL=(()=>{class n extends l${constructor(){super(...arguments),this.inputs=c$}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[c.qOj]}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[WM]]}),n})(),m$=(()=>{class n extends Si{buildStyles(t){return sL(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y$=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let _$=(()=>{class n extends _i{constructor(t,i,r,a){super(t,r,i,a),this.DIRECTIVE_KEY="layout",this.styleCache=v$,this.init()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Xn),c.Y36(m$),c.Y36(li))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),XM=(()=>{class n extends _${constructor(){super(...arguments),this.inputs=y$}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[c.qOj]}),n})();const v$=new Map;let R$=(()=>{class n extends Si{constructor(t){super(),this.layoutConfig=t}buildStyles(t,i){let[r,a,...d]=t.split(" "),f=d.join(" ");const y=i.direction.indexOf("column")>-1?"column":"row",E=eb(y)?"max-width":"max-height",A=eb(y)?"min-width":"min-height",S=String(f).indexOf("calc")>-1,B=S||"auto"===f,G=String(f).indexOf("%")>-1&&!S,Q=String(f).indexOf("px")>-1||String(f).indexOf("rem")>-1||String(f).indexOf("em")>-1||String(f).indexOf("vw")>-1||String(f).indexOf("vh")>-1;let he=S||Q;r="0"==r?0:r,a="0"==a?0:a;const Oe=!r&&!a;let qe={};const ht={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(f||""){case"":const Bt=!1!==this.layoutConfig.useColumnBasisZero;f="row"===y?"0%":Bt?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,f="auto";break;case"grow":f="100%";break;case"noshrink":a=0,f="auto";break;case"auto":break;case"none":r=0,a=0,f="auto";break;default:!he&&!G&&!isNaN(f)&&(f+="%"),"0%"===f&&(he=!0),"0px"===f&&(f="0%"),qe=$c(ht,S?{"flex-grow":r,"flex-shrink":a,"flex-basis":he?f:"100%"}:{flex:`${r} ${a} ${he?f:"100%"}`})}return qe.flex||qe["flex-grow"]||(qe=$c(ht,S?{"flex-grow":r,"flex-shrink":a,"flex-basis":f}:{flex:`${r} ${a} ${f}`})),"0%"!==f&&"0px"!==f&&"0.000000001px"!==f&&"auto"!==f&&(qe[A]=Oe||he&&r?f:null,qe[E]=Oe||!B&&a?f:null),qe[A]||qe[E]?i.hasWrap&&(qe[S?"flex-basis":"flex"]=qe[E]?S?qe[E]:`${r} ${a} ${qe[E]}`:S?qe[A]:`${r} ${a} ${qe[A]}`):qe=$c(ht,S?{"flex-grow":r,"flex-shrink":a,"flex-basis":f}:{flex:`${r} ${a} ${f}`}),$c(qe,{"box-sizing":"border-box"})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Id))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k$=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let O$=(()=>{class n extends _i{constructor(t,i,r,a,d){super(t,a,i,d),this.layoutConfig=r,this.marshal=d,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Hn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Hn(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const r=t.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,a=r.startsWith("row"),d=this.wrap;a&&d?this.styleCache=N$:a&&!d?this.styleCache=F$:!a&&d?this.styleCache=L$:!a&&!d&&(this.styleCache=P$);const y=yL(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(y.join(" "),{direction:r,hasWrap:d})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const i=yL(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Xn),c.Y36(Id),c.Y36(R$),c.Y36(li))},n.\u0275dir=c.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[c.qOj]}),n})(),eR=(()=>{class n extends O${constructor(){super(...arguments),this.inputs=k$}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[c.qOj]}),n})();const F$=new Map,P$=new Map,N$=new Map,L$=new Map;let a3=(()=>{class n extends Si{buildStyles(t,i){const r={},[a,d]=t.split(" ");switch(a){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(d){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return $c(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===d?eb(i.layout)?null:"100%":null,"max-height":"stretch"===d&&eb(i.layout)?"100%":null})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l3=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let c3=(()=>{class n extends _i{constructor(t,i,r,a){super(t,r,i,a),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Hn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=p3:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=m3:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=g3:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=y3:"column-reverse"===i&&!r&&(this.styleCache=f3):this.styleCache=d3:this.styleCache=h3:this.styleCache=u3,this.addStyles(t,{layout:i,inline:r})}onLayoutChange(t){const i=t.value.split(" ");this.layout=i[0],this.inline=t.value.includes("inline"),yC.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Xn),c.Y36(a3),c.Y36(li))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),tR=(()=>{class n extends c3{constructor(){super(...arguments),this.inputs=l3}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[c.qOj]}),n})();const u3=new Map,d3=new Map,h3=new Map,f3=new Map,p3=new Map,g3=new Map,m3=new Map,y3=new Map;let TL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[WM,ic]]}),n})(),NL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[WM]]}),n})(),Vz=(()=>{class n{constructor(t,i){qr(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:Id,useValue:Object.assign(Object.assign({},ZM),t)},{provide:KM,useValue:i,multi:!0},{provide:vm,useValue:!0}]:[{provide:Id,useValue:Object.assign(Object.assign({},ZM),t)},{provide:KM,useValue:i,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vm),c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[TL,DL,NL],TL,DL,NL]}),n})(),Uz=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-video"]],decls:2,vars:0,template:function(t,i){1&t&&(c.TgZ(0,"p"),c._uU(1,"video works!"),c.qZA())},styles:[""]}),n})();F(4786);var jz=F(9672);function LL(n,e,t){n?(0,jz.f)(t,n,e):e()}function BL(n){return new ii.y(e=>{(0,pl.Xf)(n()).subscribe(e)})}var wm=F(515);function VL(){return(0,Di.e)((n,e)=>{let t=null;n._refCount++;const i=new jn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class $z extends ii.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Di.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new or.w0;const t=this.getSubject();e.add(this.source.subscribe(new jn.Q(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=or.w0.EMPTY)}return e}refCount(){return VL()(this)}}function nR(n){return n<=0?()=>wm.E:(0,Di.e)((e,t)=>{let i=[];e.subscribe(new jn.Q(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}class qc{constructor(e,t){this.id=e,this.url=t}}class iR extends qc{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nb extends qc{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class UL extends qc{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qz extends qc{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wz extends qc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zz extends qc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kz extends qc{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yz extends qc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qz extends qc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HL{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jz{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xz{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eq{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tq{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GL{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kt="primary";class nq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Em(n){return new nq(n)}const $L="ngNavigationCancelingError";function rR(n){const e=Error("NavigationCancelingError: "+n);return e[$L]=!0,e}function rq(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const d=i[a],f=n[a];if(d.startsWith(":"))r[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Pl(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!zL(n[r],e[r]))return!1;return!0}function zL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function qL(n){return Array.prototype.concat.apply([],n)}function WL(n){return n.length>0?n[n.length-1]:null}function $r(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Nl(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Mn.D)(Promise.resolve(n)):He(n)}const aq={exact:function YL(n,e,t){if(!Df(n.segments,e.segments)||!vC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!YL(n.children[i],e.children[i],t))return!1;return!0},subset:QL},ZL={exact:function lq(n,e){return Pl(n,e)},subset:function cq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zL(n[t],e[t]))},ignored:()=>!0};function KL(n,e,t){return aq[t.paths](n.root,e.root,t.matrixParams)&&ZL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function QL(n,e,t){return JL(n,e,e.segments,t)}function JL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Df(r,t)||e.hasChildren()||!vC(r,t,i))}if(n.segments.length===t.length){if(!Df(n.segments,t)||!vC(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!QL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Df(n.segments,r)&&vC(n.segments,r,i)&&n.children[Kt])&&JL(n.children[Kt],e,a,i)}}function vC(n,e,t){return e.every((i,r)=>ZL[t](n[r].parameters,i.parameters))}class Cf{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Em(this.queryParams)),this._queryParamMap}toString(){return hq.serialize(this)}}class en{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$r(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bC(this)}}class ib{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Em(this.parameters)),this._parameterMap}toString(){return iB(this)}}function Df(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class XL{}class eB{parse(e){const t=new wq(e);return new Cf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${rb(e.root,!0)}`,i=function gq(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${wC(t)}=${wC(r)}`).join("&"):`${wC(t)}=${wC(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function fq(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const hq=new eB;function bC(n){return n.segments.map(e=>iB(e)).join("/")}function rb(n,e){if(!n.hasChildren())return bC(n);if(e){const t=n.children[Kt]?rb(n.children[Kt],!1):"",i=[];return $r(n.children,(r,a)=>{a!==Kt&&i.push(`${a}:${rb(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function dq(n,e){let t=[];return $r(n.children,(i,r)=>{r===Kt&&(t=t.concat(e(i,r)))}),$r(n.children,(i,r)=>{r!==Kt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Kt?[rb(n.children[Kt],!1)]:[`${r}:${rb(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${bC(n)}/${t[0]}`:`${bC(n)}/(${t.join("//")})`}}function tB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wC(n){return tB(n).replace(/%3B/gi,";")}function sR(n){return tB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function EC(n){return decodeURIComponent(n)}function nB(n){return EC(n.replace(/\+/g,"%20"))}function iB(n){return`${sR(n.path)}${function pq(n){return Object.keys(n).map(e=>`;${sR(e)}=${sR(n[e])}`).join("")}(n.parameters)}`}const mq=/^[^\/()?;=#]+/;function xC(n){const e=n.match(mq);return e?e[0]:""}const yq=/^[^=?&#]+/,vq=/^[^&#]+/;class wq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Kt]=new en(e,t)),i}parseSegment(){const e=xC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ib(EC(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=xC(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=xC(this.remaining);r&&(i=r,this.capture(i))}e[EC(t)]=EC(i)}parseQueryParam(e){const t=function _q(n){const e=n.match(yq);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const d=function bq(n){const e=n.match(vq);return e?e[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=nB(t),a=nB(i);if(e.hasOwnProperty(r)){let d=e[r];Array.isArray(d)||(d=[d],e[r]=d),d.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=xC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Kt);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[Kt]:new en([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class rB{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=oR(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=oR(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=aR(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return aR(e,this._root).map(t=>t.value)}}function oR(n,e){if(n===e.value)return e;for(const t of e.children){const i=oR(n,t);if(i)return i}return null}function aR(n,e){if(n===e.value)return[e];for(const t of e.children){const i=aR(n,t);if(i.length)return i.unshift(e),i}return[]}class Wc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sB extends rB{constructor(e,t){super(e),this.snapshot=t,lR(this,e)}toString(){return this.snapshot.toString()}}function oB(n,e){const t=function Eq(n,e){const d=new CC([],{},{},"",{},Kt,e,null,n.root,-1,{});return new lB("",new Wc(d,[]))}(n,e),i=new Fi([new ib("",{})]),r=new Fi({}),a=new Fi({}),d=new Fi({}),f=new Fi(""),y=new Cm(i,r,d,f,a,Kt,e,t.root);return y.snapshot=t.root,new sB(new Wc(y,[]),t)}class Cm{constructor(e,t,i,r,a,d,f,y){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=d,this.component=f,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(e=>Em(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(e=>Em(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aB(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function xq(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class CC{constructor(e,t,i,r,a,d,f,y,E,A,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=d,this.component=f,this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=A,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Em(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Em(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lB extends rB{constructor(e,t){super(t),this.url=e,lR(this,t)}toString(){return cB(this._root)}}function lR(n,e){e.value._routerState=n,e.children.forEach(t=>lR(n,t))}function cB(n){const e=n.children.length>0?` { ${n.children.map(cB).join(", ")} } `:"";return`${n.value}${e}`}function cR(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pl(e.params,t.params)||n.params.next(t.params),function sq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function uR(n,e){const t=Pl(n.params,e.params)&&function uq(n,e){return Df(n,e)&&n.every((t,i)=>Pl(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||uR(n.parent,e.parent))}function sb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Dq(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return sb(n,i,r);return sb(n,i)})}(n,e,t);return new Wc(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>sb(n,f)),d}}const i=function Aq(n){return new Cm(new Fi(n.url),new Fi(n.params),new Fi(n.queryParams),new Fi(n.fragment),new Fi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>sb(n,a));return new Wc(i,r)}}function DC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ob(n){return"object"==typeof n&&null!=n&&n.outlets}function dR(n,e,t,i,r){let a={};return i&&$r(i,(d,f)=>{a[f]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),new Cf(t.root===n?e:uB(t.root,n,e),a,r)}function uB(n,e,t){const i={};return $r(n.children,(r,a)=>{i[a]=r===e?t:uB(r,e,t)}),new en(n.segments,i)}class dB{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&DC(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(ob);if(r&&r!==WL(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hR{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function hB(n,e,t){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return AC(n,e,t);const i=function kq(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const d=n.segments[r],f=t[i];if(ob(f))break;const y=`${f}`,E=i<t.length-1?t[i+1]:null;if(r>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!pB(y,E,d))return a;i+=2}else{if(!pB(y,{},d))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new en(n.segments.slice(0,i.pathIndex),{});return a.children[Kt]=new en(n.segments.slice(i.pathIndex),n.children),AC(a,0,r)}return i.match&&0===r.length?new en(n.segments,{}):i.match&&!n.hasChildren()?fR(n,e,t):i.match?AC(n,0,r):fR(n,e,t)}function AC(n,e,t){if(0===t.length)return new en(n.segments,{});{const i=function Rq(n){return ob(n[0])?n[0].outlets:{[Kt]:n}}(t),r={};return $r(i,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[d]=hB(n.children[d],e,a))}),$r(n.children,(a,d)=>{void 0===i[d]&&(r[d]=a)}),new en(n.segments,r)}}function fR(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(ob(a)){const y=Oq(a.outlets);return new en(i,y)}if(0===r&&DC(t[0])){i.push(new ib(n.segments[e].path,fB(t[0]))),r++;continue}const d=ob(a)?a.outlets[Kt]:`${a}`,f=r<t.length-1?t[r+1]:null;d&&f&&DC(f)?(i.push(new ib(d,fB(f))),r+=2):(i.push(new ib(d,{})),r++)}return new en(i,{})}function Oq(n){const e={};return $r(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=fR(new en([],{}),0,t))}),e}function fB(n){const e={};return $r(n,(t,i)=>e[i]=`${t}`),e}function pB(n,e,t){return n==t.path&&Pl(e,t.parameters)}class Pq{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),cR(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=xm(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,r[d],i),delete r[d]}),$r(r,(a,d)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=xm(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],r);if(i&&i.outlet){const d=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=xm(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=xm(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new tq(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Xz(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(cR(r),r===a)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),cR(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function Nq(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),y=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=r,d.resolver=y,d.outlet&&d.outlet.activateWith(r,y),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,i)}}class pR{constructor(e,t){this.routes=e,this.module=t}}function Td(n){return"function"==typeof n}function Af(n){return n instanceof Cf}const ab=Symbol("INITIAL_VALUE");function lb(){return ws(n=>function Hz(...n){const e=(0,Zr.yG)(n),t=(0,Zr.jO)(n),{args:i,keys:r}=Dc(n);if(0===i.length)return(0,Mn.D)([],e);const a=new ii.y(function Gz(n,e,t=fl.y){return i=>{LL(e,()=>{const{length:r}=n,a=new Array(r);let d=r,f=r;for(let y=0;y<r;y++)LL(e,()=>{const E=(0,Mn.D)(n[y],e);let A=!1;E.subscribe(new jn.Q(i,S=>{a[y]=S,A||(A=!0,f--),f||i.next(t(a.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,e,r?d=>Ac(r,d):fl.y));return t?a.pipe(wl(t)):a}(n.map(e=>e.pipe((0,Ma.q)(1),vo(ab)))).pipe(qh((e,t)=>{let i=!1;return t.reduce((r,a,d)=>r!==ab?r:(a===ab&&(i=!0),i||!1!==a&&d!==t.length-1&&!Af(a)?r:a),e)},ab),on(e=>e!==ab),(0,yt.U)(e=>Af(e)?e:!0===e),(0,Ma.q)(1)))}class Hq{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cb,this.attachRef=null}}class cb{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Hq,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let gR=(()=>{class n{constructor(t,i,r,a,d){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||Kt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,y=new Gq(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cb),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Gq{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Cm?this.route:e===cb?this.childContexts:this.parent.get(e,t)}}let gB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},directives:[gR],encapsulation:2}),n})();function mB(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];$q(i,zq(e,i))}}function $q(n,e){n.children&&mB(n.children,e)}function zq(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function mR(n){const e=n.children&&n.children.map(mR),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kt&&(t.component=gB),t}function sa(n){return n.outlet||Kt}function yB(n,e){const t=n.filter(i=>sa(i)===e);return t.push(...n.filter(i=>sa(i)!==e)),t}const _B={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function IC(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},_B):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||rq)(t,n,e);if(!a)return Object.assign({},_B);const d={};$r(a.posParams,(y,E)=>{d[E]=y.path});const f=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function TC(n,e,t,i,r="corrected"){if(t.length>0&&function Zq(n,e,t){return t.some(i=>SC(n,e,i)&&sa(i)!==Kt)}(n,t,i)){const d=new en(e,function Wq(n,e,t,i){const r={};r[Kt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&sa(a)!==Kt){const d=new en([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,r[sa(a)]=d}return r}(n,e,i,new en(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Kq(n,e,t){return t.some(i=>SC(n,e,i))}(n,t,i)){const d=new en(n.segments,function qq(n,e,t,i,r,a){const d={};for(const f of i)if(SC(n,t,f)&&!r[sa(f)]){const y=new en([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[sa(f)]=y}return Object.assign(Object.assign({},r),d)}(n,e,t,i,n.children,r));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new en(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function SC(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vB(n,e,t,i){return!!(sa(n)===i||i!==Kt&&SC(e,t,n))&&("**"===n.path||IC(e,n,t).matched)}function bB(n,e,t){return 0===e.length&&!n.children[t]}class ub{constructor(e){this.segmentGroup=e||null}}class wB{constructor(e){this.urlTree=e}}function MC(n){return new ii.y(e=>e.error(new ub(n)))}function EB(n){return new ii.y(e=>e.error(new wB(n)))}function Yq(n){return new ii.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Xq{constructor(e,t,i,r,a){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=TC(this.urlTree.root,[],[],this.config).segmentGroup,t=new en(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Kt).pipe((0,yt.U)(a=>this.createUrlTree(yR(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ea(a=>{if(a instanceof wB)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ub?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Kt).pipe((0,yt.U)(r=>this.createUrlTree(yR(r),e.queryParams,e.fragment))).pipe(ea(r=>{throw r instanceof ub?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new en([],{[Kt]:e}):e;return new Cf(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,yt.U)(a=>new en([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Mn.D)(r).pipe(Tc(a=>{const d=i.children[a],f=yB(t,a);return this.expandSegmentGroup(e,f,d,a).pipe((0,yt.U)(y=>({segment:y,outlet:a})))}),qh((a,d)=>(a[d.outlet]=d.segment,a),{}),function zz(n,e){const t=arguments.length>=2;return i=>i.pipe(n?on((r,a)=>n(r,a,i)):fl.y,nR(1),t?yN(e):_N(()=>new oC))}())}expandSegment(e,t,i,r,a,d){return(0,Mn.D)(i).pipe(Tc(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,d).pipe(ea(E=>{if(E instanceof ub)return He(null);throw E}))),wf(f=>!!f),ea((f,y)=>{if(f instanceof oC||"EmptyError"===f.name){if(bB(t,r,a))return He(new en([],{}));throw new ub(t)}throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,d,f){return vB(r,t,a,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,d):MC(t):MC(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?EB(a):this.lineralizeSegments(i,a).pipe((0,Gi.z)(d=>{const f=new en(d,{});return this.expandSegment(e,f,t,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,d){const{matched:f,consumedSegments:y,lastChild:E,positionalParamSegments:A}=IC(t,r,a);if(!f)return MC(t);const S=this.applyRedirectCommands(y,r.redirectTo,A);return r.redirectTo.startsWith("/")?EB(S):this.lineralizeSegments(r,S).pipe((0,Gi.z)(B=>this.expandSegment(e,t,i,B.concat(a.slice(E)),d,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?He(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,yt.U)(B=>(i._loadedConfig=B,new en(r,{})))):He(new en(r,{}));const{matched:d,consumedSegments:f,lastChild:y}=IC(t,i,r);if(!d)return MC(t);const E=r.slice(y);return this.getChildConfig(e,i,r).pipe((0,Gi.z)(S=>{const B=S.module,G=S.routes,{segmentGroup:Q,slicedSegments:he}=TC(t,f,E,G),Oe=new en(Q.segments,Q.children);if(0===he.length&&Oe.hasChildren())return this.expandChildren(B,G,Oe).pipe((0,yt.U)(vt=>new en(f,vt)));if(0===G.length&&0===he.length)return He(new en(f,{}));const qe=sa(i)===a;return this.expandSegment(B,Oe,G,he,qe?Kt:a,!0).pipe((0,yt.U)(Bt=>new en(f.concat(Bt.segments),Bt.children)))}))}getChildConfig(e,t,i){return t.children?He(new pR(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?He(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Gi.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,yt.U)(a=>(t._loadedConfig=a,a))):function Qq(n){return new ii.y(e=>e.error(rR(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):He(new pR([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;if(!r||0===r.length)return He(!0);const a=r.map(d=>{const f=e.get(d);let y;if(function Bq(n){return n&&Td(n.canLoad)}(f))y=f.canLoad(t,i);else{if(!Td(f))throw new Error("Invalid CanLoad guard");y=f(t,i)}return Nl(y)});return He(a).pipe(lb(),(0,Ci.b)(d=>{if(!Af(d))return;const f=rR(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,yt.U)(d=>!0===d))}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return He(i);if(r.numberOfChildren>1||!r.children[Kt])return Yq(e.redirectTo);r=r.children[Kt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Cf(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return $r(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let d={};return $r(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,i,r)}),new en(a,d)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function yR(n){const e={};for(const i of Object.keys(n.children)){const a=yR(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function e6(n){if(1===n.numberOfChildren&&n.children[Kt]){const e=n.children[Kt];return new en(n.segments.concat(e.segments),e.children)}return n}(new en(n.segments,e))}class xB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class RC{constructor(e,t){this.component=e,this.route=t}}function n6(n,e,t){const i=n._root;return db(i,e?e._root:null,t,[i.value])}function kC(n,e,t){const i=function r6(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function db(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=xm(e);return n.children.forEach(d=>{(function s6(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const y=function o6(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Df(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Df(n.url,e.url)||!Pl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uR(n,e)||!Pl(n.queryParams,e.queryParams);default:return!uR(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);y?r.canActivateChecks.push(new xB(i)):(a.data=d.data,a._resolvedData=d._resolvedData),db(n,e,a.component?f?f.children:null:t,i,r),y&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new RC(f.outlet.component,d))}else d&&hb(e,f,r),r.canActivateChecks.push(new xB(i)),db(n,null,a.component?f?f.children:null:t,i,r)})(d,a[d.value.outlet],t,i.concat([d.value]),r),delete a[d.value.outlet]}),$r(a,(d,f)=>hb(d,t.getContext(f),r)),r}function hb(n,e,t){const i=xm(n),r=n.value;$r(i,(a,d)=>{hb(a,r.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new RC(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class g6{}function CB(n){return new ii.y(e=>e.error(n))}class y6{constructor(e,t,i,r,a,d){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const e=TC(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Kt);if(null===t)return null;const i=new CC([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Wc(i,t),a=new lB(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,i=aB(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const a of Object.keys(t.children)){const d=t.children[a],f=yB(e,a),y=this.processSegmentGroup(f,d,a);if(null===y)return null;i.push(...y)}const r=DB(i);return function _6(n){n.sort((e,t)=>e.value.outlet===Kt?-1:t.value.outlet===Kt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const a of e){const d=this.processSegmentAgainstRoute(a,t,i,r);if(null!==d)return d}return bB(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!vB(e,t,i,r))return null;let a,d=[],f=[];if("**"===e.path){const G=i.length>0?WL(i).parameters:{};a=new CC(i,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,TB(e),sa(e),e.component,e,AB(t),IB(t)+i.length,SB(e))}else{const G=IC(t,e,i);if(!G.matched)return null;d=G.consumedSegments,f=i.slice(G.lastChild),a=new CC(d,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,TB(e),sa(e),e.component,e,AB(t),IB(t)+d.length,SB(e))}const y=function v6(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:E,slicedSegments:A}=TC(t,d,f,y.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);if(0===A.length&&E.hasChildren()){const G=this.processChildren(y,E);return null===G?null:[new Wc(a,G)]}if(0===y.length&&0===A.length)return[new Wc(a,[])];const S=sa(e)===r,B=this.processSegment(y,E,A,S?Kt:r);return null===B?null:[new Wc(a,B)]}}function b6(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function DB(n){const e=[],t=new Set;for(const i of n){if(!b6(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=DB(i.children);e.push(new Wc(i.value,r))}return e.filter(i=>!t.has(i))}function AB(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function IB(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function TB(n){return n.data||{}}function SB(n){return n.resolve||{}}function _R(n){return ws(e=>{const t=n(e);return t?(0,Mn.D)(t).pipe((0,yt.U)(()=>e)):He(e)})}class T6 extends class I6{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const vR=new c.OlP("ROUTES");class MB{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,yt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=a.create(e);return new pR(qL(d.injector.get(vR,void 0,c.XFs.Self|c.XFs.Optional)).map(mR),d)}),ea(a=>{throw t._loader$=void 0,a}));return t._loader$=new $z(r,()=>new zt.x).pipe(VL()),t._loader$}loadModuleFactory(e){return Nl(e()).pipe((0,Gi.z)(t=>t instanceof c.YKP?He(t):(0,Mn.D)(this.compiler.compileModuleAsync(t))))}}class M6{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function R6(n){throw n}function k6(n,e,t){return e.parse("/")}function RB(n,e){return He(null)}const O6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xs=(()=>{class n{constructor(t,i,r,a,d,f,y){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zt.x,this.errorHandler=R6,this.malformedUriErrorHandler=k6,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:RB,afterPreactivation:RB},this.urlHandlingStrategy=new M6,this.routeReuseStrategy=new T6,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const S=d.get(c.R0b);this.isNgZoneEnabled=S instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function oq(){return new Cf(new en([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new MB(d,f,B=>this.triggerEvent(new jL(B)),B=>this.triggerEvent(new HL(B))),this.routerState=oB(this.currentUrlTree,this.rootComponentType),this.transitions=new Fi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(on(r=>0!==r.id),(0,yt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ws(r=>{let a=!1,d=!1;return He(r).pipe((0,Ci.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ws(f=>{const y=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return OC(f.source)&&(this.browserUrlTree=f.extractedUrl),He(f).pipe(ws(S=>{const B=this.transitions.getValue();return i.next(new iR(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),B!==this.transitions.getValue()?wm.E:Promise.resolve(S)}),function t6(n,e,t,i){return ws(r=>function Jq(n,e,t,i,r){return new Xq(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,yt.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ci.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function w6(n,e,t,i,r){return(0,Gi.z)(a=>function m6(n,e,t,i,r="emptyOnly",a="legacy"){try{const d=new y6(n,e,t,i,r,a).recognize();return null===d?CB(new g6):He(d)}catch(d){return CB(d)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),i,r).pipe((0,yt.U)(d=>Object.assign(Object.assign({},a),{targetSnapshot:d}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ci.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(G,S)}this.browserUrlTree=S.urlAfterRedirects}const B=new Wz(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(B)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:G,source:Q,restoredState:he,extras:Oe}=f,qe=new iR(B,this.serializeUrl(G),Q,he);i.next(qe);const ht=oB(G,this.rootComponentType).snapshot;return He(Object.assign(Object.assign({},f),{targetSnapshot:ht,urlAfterRedirects:G,extras:Object.assign(Object.assign({},Oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),wm.E}),_R(f=>{const{targetSnapshot:y,id:E,extractedUrl:A,rawUrl:S,extras:{skipLocationChange:B,replaceUrl:G}}=f;return this.hooks.beforePreactivation(y,{navigationId:E,appliedUrlTree:A,rawUrlTree:S,skipLocationChange:!!B,replaceUrl:!!G})}),(0,Ci.b)(f=>{const y=new Zz(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,yt.U)(f=>Object.assign(Object.assign({},f),{guards:n6(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function a6(n,e){return(0,Gi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?He(Object.assign(Object.assign({},t),{guardsResult:!0})):function l6(n,e,t,i){return(0,Mn.D)(n).pipe((0,Gi.z)(r=>function p6(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?He(a.map(f=>{const y=kC(f,e,r);let E;if(function jq(n){return n&&Td(n.canDeactivate)}(y))E=Nl(y.canDeactivate(n,e,t,i));else{if(!Td(y))throw new Error("Invalid CanDeactivate guard");E=Nl(y(n,e,t,i))}return E.pipe(wf())})).pipe(lb()):He(!0)}(r.component,r.route,t,e,i)),wf(r=>!0!==r,!0))}(d,i,r,n).pipe((0,Gi.z)(f=>f&&function Lq(n){return"boolean"==typeof n}(f)?function c6(n,e,t,i){return(0,Mn.D)(e).pipe(Tc(r=>pp(function d6(n,e){return null!==n&&e&&e(new Jz(n)),He(!0)}(r.route.parent,i),function u6(n,e){return null!==n&&e&&e(new eq(n)),He(!0)}(r.route,i),function f6(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function i6(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>BL(()=>He(d.guards.map(y=>{const E=kC(y,d.node,t);let A;if(function Uq(n){return n&&Td(n.canActivateChild)}(E))A=Nl(E.canActivateChild(i,n));else{if(!Td(E))throw new Error("Invalid CanActivateChild guard");A=Nl(E(i,n))}return A.pipe(wf())})).pipe(lb())));return He(a).pipe(lb())}(n,r.path,t),function h6(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return He(!0);const r=i.map(a=>BL(()=>{const d=kC(a,e,t);let f;if(function Vq(n){return n&&Td(n.canActivate)}(d))f=Nl(d.canActivate(e,n));else{if(!Td(d))throw new Error("Invalid CanActivate guard");f=Nl(d(e,n))}return f.pipe(wf())}));return He(r).pipe(lb())}(n,r.route,t))),wf(r=>!0!==r,!0))}(i,a,n,e):He(f)),(0,yt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Ci.b)(f=>{if(Af(f.guardsResult)){const E=rR(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw E.url=f.guardsResult,E}const y=new Kz(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),on(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),_R(f=>{if(f.guards.canActivateChecks.length)return He(f).pipe((0,Ci.b)(y=>{const E=new Yz(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),ws(y=>{let E=!1;return He(y).pipe(function E6(n,e){return(0,Gi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return He(t);let a=0;return(0,Mn.D)(r).pipe(Tc(d=>function x6(n,e,t,i){return function C6(n,e,t,i){const r=Object.keys(n);if(0===r.length)return He({});const a={};return(0,Mn.D)(r).pipe((0,Gi.z)(d=>function D6(n,e,t,i){const r=kC(n,e,i);return Nl(r.resolve?r.resolve(e,t):r(e,t))}(n[d],e,t,i).pipe((0,Ci.b)(f=>{a[d]=f}))),nR(1),(0,Gi.z)(()=>Object.keys(a).length===r.length?He(a):wm.E))}(n._resolve,n,e,i).pipe((0,yt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),aB(n,t).resolve),null)))}(d.route,i,n,e)),(0,Ci.b)(()=>a++),nR(1),(0,Gi.z)(d=>a===r.length?He(t):wm.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ci.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,Ci.b)(y=>{const E=new Qz(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}))}),_R(f=>{const{targetSnapshot:y,id:E,extractedUrl:A,rawUrl:S,extras:{skipLocationChange:B,replaceUrl:G}}=f;return this.hooks.afterPreactivation(y,{navigationId:E,appliedUrlTree:A,rawUrlTree:S,skipLocationChange:!!B,replaceUrl:!!G})}),(0,yt.U)(f=>{const y=function Cq(n,e,t){const i=sb(n,e._root,t?t._root:void 0);return new sB(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:y})}),(0,Ci.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,yt.U)(i=>(new Pq(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Ci.b)({next(){a=!0},complete(){a=!0}}),Py(()=>{var f;a||d||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),ea(f=>{if(d=!0,function iq(n){return n&&n[$L]}(f)){const y=Af(f.url);y||(this.navigated=!0,this.restoreHistory(r,!0));const E=new UL(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(E),y?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OC(r.source)};this.scheduleNavigation(A,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const y=new qz(r.id,this.serializeUrl(r.extractedUrl),f);i.next(y);try{r.resolve(this.errorHandler(f))}catch(E){r.reject(E)}}return wm.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},d=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(d){const y=Object.assign({},d);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,i,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){mB(t),this.config=t.map(mR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:y}=i,E=r||this.routerState.root,A=y?this.currentUrlTree.fragment:d;let S=null;switch(f){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),function Iq(n,e,t,i,r){if(0===t.length)return dR(e.root,e.root,e,i,r);const a=function Tq(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dB(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return $r(a.outlets,(y,E)=>{f[E]="string"==typeof y?y.split("/"):y}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===d?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new dB(t,e,i)}(t);if(a.toRoot())return dR(e.root,new en([],{}),e,i,r);const d=function Sq(n,e,t){if(n.isAbsolute)return new hR(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new hR(a,a===e.root,0)}const i=DC(n.commands[0])?0:1;return function Mq(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new hR(i,!1,r-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,e,n),f=d.processChildren?AC(d.segmentGroup,d.index,a.commands):hB(d.segmentGroup,d.index,a.commands);return dR(d.segmentGroup,f,e,i,r)}(E,this.currentUrlTree,t,S,null!=A?A:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Af(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function P6(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},O6):!1===i?Object.assign({},F6):i,Af(t))return KL(this.currentUrlTree,t,r);const a=this.parseUrl(t);return KL(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new nb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,d){var f,y,E;if(this.disposed)return Promise.resolve(!1);const A=this.transitions.value,S=OC(i)&&A&&!OC(A.source),B=A.rawUrl.toString()===t.toString(),G=A.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(S&&B&&G)return Promise.resolve(!0);let he,Oe,qe;d?(he=d.resolve,Oe=d.reject,qe=d.promise):qe=new Promise((vt,gn)=>{he=vt,Oe=gn});const ht=++this.navigationId;let Bt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),Bt=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):Bt=0,this.setTransition({id:ht,targetPageId:Bt,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:he,reject:Oe,promise:qe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qe.catch(vt=>Promise.reject(vt))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new UL(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function OC(n){return"imperative"!==n}class kB{}class OB{preload(e,t){return He(null)}}let FB=(()=>{class n{constructor(t,i,r,a){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=new MB(r,i,y=>t.triggerEvent(new jL(y)),y=>t.triggerEvent(new HL(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(on(t=>t instanceof nb),Tc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const d=a._loadedConfig;r.push(this.processRoutes(d.module,d.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children));return(0,Mn.D)(r).pipe((0,Cu.J)(),(0,yt.U)(a=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?He(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Gi.z)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xs),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(kB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ER=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof iR?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof GL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new GL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const If=new c.OlP("ROUTER_CONFIGURATION"),PB=new c.OlP("ROUTER_FORROOT_GUARD"),V6=[Ge,{provide:XL,useClass:eB},{provide:xs,useFactory:function $6(n,e,t,i,r,a,d={},f,y){const E=new xs(null,n,e,t,i,r,qL(a));return f&&(E.urlHandlingStrategy=f),y&&(E.routeReuseStrategy=y),function z6(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,E),d.enableTracing&&E.events.subscribe(A=>{var S,B;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(B=console.groupEnd)||void 0===B||B.call(console)}),E},deps:[XL,cb,Ge,c.zs3,c.Sil,vR,If,[class S6{},new c.FiY],[class A6{},new c.FiY]]},cb,{provide:Cm,useFactory:function q6(n){return n.routerState.root},deps:[xs]},FB,OB,class B6{preload(e,t){return t().pipe(ea(()=>He(null)))}},{provide:If,useValue:{enableTracing:!1}}];function U6(){return new c.PXZ("Router",xs)}let NB=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[V6,LB(t),{provide:PB,useFactory:G6,deps:[[xs,new c.FiY,new c.tp0]]},{provide:If,useValue:i||{}},{provide:Y,useFactory:H6,deps:[ae,[new c.tBr(pe),new c.FiY],If]},{provide:ER,useFactory:j6,deps:[xs,da,If]},{provide:kB,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:OB},{provide:c.PXZ,multi:!0,useFactory:U6},[xR,{provide:c.ip1,multi:!0,useFactory:W6,deps:[xR]},{provide:BB,useFactory:Z6,deps:[xR]},{provide:c.tb,multi:!0,useExisting:BB}]]}}static forChild(t){return{ngModule:n,providers:[LB(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(PB,8),c.LFG(xs,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function j6(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new ER(n,e,t)}function H6(n,e,t={}){return t.useHash?new we(n,e):new Ce(n,e)}function G6(n){return"guarded"}function LB(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:vR,multi:!0,useValue:n}]}let xR=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new zt.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(xs),d=this.injector.get(If);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?He(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(If),r=this.injector.get(FB),a=this.injector.get(ER),d=this.injector.get(xs),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&d.initialNavigation(),r.setUpPreloading(),a.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function W6(n){return n.appInitializer.bind(n)}function Z6(n){return n.bootstrapListener.bind(n)}const BB=new c.OlP("Router Initializer");var Y6={apiKey:"AIzaSyAIrk7d9ItwDfdfHpKQa8ws5AmU1qfOu7Y",authDomain:"basheer-fa573.firebaseapp.com",projectId:"basheer-fa573",storageBucket:"basheer-fa573.appspot.com",messagingSenderId:"972779189740",appId:"1:972779189740:web:f681146633f9f1bea4bcc9"};let fb=(()=>{class n{constructor(t,i,r){this.router=t,this.afAuth=i,this.ngZone=r,this.verify=JSON.parse(localStorage.getItem("verificationId")||"{}"),this.isLoggedIn=!1,this.showLoginValue=!1,null!=this.verify&&"{}"!=this.verify&&(this.isLoggedIn=!0),console.log("contructor of the sevice intialted",this.isLoggedIn),Ef.Z.initializeApp(Y6),console.log("the verification id from the service is ",this.verify)}getIsLoggedIn(){return this.isLoggedIn}setLogIn(t){this.isLoggedIn=t}setShowLogin(t){this.showLoginValue=t}getOTP(t){this.phoneNumber=t,this.reCapthaVerifier=new Ef.Z.auth.RecaptchaVerifier("sign-in-button",{size:"invisble"}),Ef.Z.auth().signInWithPhoneNumber(this.phoneNumber,this.reCapthaVerifier).then(i=>{console.log(i),localStorage.setItem("verificationId",JSON.stringify(i.verificationId)),this.verify=i.verificationId}).catch(i=>{alert(i.message),setTimeout(()=>{window.location.reload()},5e3)})}login(t){this.otp=t;var i=Ef.Z.auth.PhoneAuthProvider.credential(this.verify,this.otp);Ef.Z.auth().signInWithCredential(i).then(r=>{console.log(r),console.log("logged in successfully"),localStorage.setItem("user_data",JSON.stringify(r)),this.isLoggedIn=!0,this.showLoginValue=!1,this.router.navigate(["video"])}).catch(r=>{alert(r.message),console.log("error msg is ",r.meassage)})}logout(){return this.afAuth.signOut().then(()=>{this.ngZone.run(()=>{localStorage.setItem("verificationId",JSON.stringify(null)),localStorage.setItem("user_data",JSON.stringify(null)),this.isLoggedIn=!1})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xs),c.LFG(gC),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Q6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"input",11),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw().otp=r}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("ngModel",t.otp)}}function J6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",12),c.NdJ("click",function(){return c.CHM(t),c.oxw().getOTP()}),c._uU(1,"Get OTP"),c.qZA()}}function X6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",12),c.NdJ("click",function(){return c.CHM(t),c.oxw().logIn()}),c._uU(1,"Log in"),c.qZA()}}var eW={apiKey:"AIzaSyAIrk7d9ItwDfdfHpKQa8ws5AmU1qfOu7Y",authDomain:"basheer-fa573.firebaseapp.com",projectId:"basheer-fa573",storageBucket:"basheer-fa573.appspot.com",messagingSenderId:"972779189740",appId:"1:972779189740:web:f681146633f9f1bea4bcc9"};let VB=(()=>{class n{constructor(t){this.loginService=t,this.isOTPVisible=!1,this.loggedin=!1,this.userData="",this.LoginEvent=new c.vpe}ngOnInit(){this.verify=JSON.parse(localStorage.getItem("verificationId")||"{}"),(null!=this.verify||""!=this.verify)&&(this.loggedin=!0),Ef.Z.initializeApp(eW),console.log("the verification id from the login component is ",this.verify)}getOTP(){console.log("the phone length is ",this.phoneNumber.length),this.phoneNumber.length>9&&this.phoneNumber.length<16&&(this.isOTPVisible=!0,this.loginService.getOTP(this.phoneNumber))}logIn(){console.log("the otp is :",this.otp),this.loginService.login(this.otp)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],outputs:{LoginEvent:"LoginEvent"},decls:20,vars:4,consts:[[1,"login-container"],["id","container",1,"container"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-right"],[1,"form-container","sign-in-container"],["action","#"],["type","text","placeholder","Enter Phone Number","name","input1","min","10","max","15",3,"ngModel","ngModelChange"],["type","text","name","input2","placeholder","One time password(OTP)",3,"ngModel","ngModelChange",4,"ngIf"],[3,"click",4,"ngIf"],["id","sign-in-button"],["type","text","name","input2","placeholder","One time password(OTP)",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"h1"),c._uU(6,"Welcome to Basheer"),c.qZA(),c.TgZ(7,"p"),c._uU(8,"Enter your phone number and start journey with us"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",5),c.TgZ(10,"form",6),c.TgZ(11,"h1"),c._uU(12,"Login"),c.qZA(),c.TgZ(13,"span"),c._uU(14,"Please enter your Phone number"),c.qZA(),c.TgZ(15,"input",7),c.NdJ("ngModelChange",function(a){return i.phoneNumber=a}),c.qZA(),c.YNc(16,Q6,1,1,"input",8),c.YNc(17,J6,2,0,"button",9),c.YNc(18,X6,2,0,"button",9),c._UZ(19,"div",10),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(15),c.Q6J("ngModel",i.phoneNumber),c.xp6(1),c.Q6J("ngIf",i.isOTPVisible),c.xp6(1),c.Q6J("ngIf",!i.isOTPVisible),c.xp6(1),c.Q6J("ngIf",i.isOTPVisible))},directives:[Sw,r_,Fh,Th,fw,Rc,ti],styles:["button[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #004e92;background-color:#004e92;color:#fff;font-size:12px;font-weight:700;padding:12px 45px;letter-spacing:1px;margin-top:10px;text-transform:uppercase;transition:transform 80ms ease-in}button[_ngcontent-%COMP%]:active{transform:scale(.95)}button[_ngcontent-%COMP%]:focus{outline:none}button.ghost[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center}input[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:12px 15px;margin:8px 0;width:100%}.container[_ngcontent-%COMP%]{background-color:#024;border-radius:10px;position:fixed;overflow:hidden;width:768px;max-width:100%;min-height:480px;z-index:100;margin-left:18%;box-shadow:0 .7px 1.7px #0000003f,0 1.7px 4.3px #0000005b,0 3.5px 8.9px #00000071,0 7.3px 18.3px #0000008d,0 20px 50px #000c}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in-container[_ngcontent-%COMP%]{left:50%;width:50%;z-index:2}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out;z-index:100}.overlay[_ngcontent-%COMP%]{background:#002244;background:linear-gradient(to right,#004e92,#002244);background-repeat:no-repeat;background-size:cover;background-position:0 0;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(20%)}.social-container[_ngcontent-%COMP%]{margin:20px 0}.social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #DDDDDD;border-radius:50%;display:inline-flex;justify-content:center;align-items:center;margin:0 5px;height:40px;width:40px}.login-container[_ngcontent-%COMP%]{align-items:center}"]}),n})();const tW=["slickModal"],nW=["slickModal1"];function iW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-login",11),c.NdJ("LoginEvent",function(r){return c.CHM(t),c.oxw().receiveLogin(r)}),c.qZA()}}function rW(n,e){if(1&n&&(c.TgZ(0,"div",12),c._UZ(1,"img",13),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.s9C("src",t.img,c.LSH)}}function sW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",14),c.TgZ(1,"img",15),c.NdJ("click",function(){return c.CHM(t),c.oxw().playVideo()}),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(1),c.s9C("src",t.img,c.LSH)}}function oW(n,e){if(1&n&&(c.TgZ(0,"div",14),c._UZ(1,"img",16),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.s9C("src",t.img,c.LSH)}}function aW(n,e){if(1&n&&(c.TgZ(0,"div",14),c._UZ(1,"img",16),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.s9C("src",t.img,c.LSH)}}const lW=[{path:"",component:(()=>{class n{constructor(t,i){this.router=t,this.loginService=i,this.showLogin=!1,this.slides=[{img:"https://dummyimage.com/350x150/423b42/fff"},{img:"https://dummyimage.com/350x150/2a2b7a/fff"},{img:"https://dummyimage.com/350x150/1a2b7a/fff"},{img:"https://dummyimage.com/350x150/7a2b7a/fff"},{img:"https://dummyimage.com/350x150/9a2b7a/fff"},{img:"https://dummyimage.com/350x150/5a2b7a/fff"},{img:"https://dummyimage.com/350x150/4a2b7a/fff"}],this.slideConfig={slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,centerMode:!0,autoplay:!0,autoplaySpeed:2500}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,centerMode:!0,autoplay:!0,autoplaySpeed:2e3}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,dots:!1,prevArrow:!1,nextArrow:!1}}]},this.slideConfig1={slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,arrows:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,dots:!1}}],nextArrow:'<button class="btn-next" (click)="next()">next</button>n',prevArrow:'<button class="btn-prev" (click)="prev()">prev</button>n'}}ngOnInit(){}playVideo(){this.loginService.getIsLoggedIn()?this.router.navigate(["video"]):this.loginService.showLoginValue=!0}receiveLogin(t){this.playVideo()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xs),c.Y36(fb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&(c.Gf(tW,7),c.Gf(nW,7)),2&t){let r;c.iGM(r=c.CRH())&&(i.slickModal=r.first),c.iGM(r=c.CRH())&&(i.slickModal1=r.first)}},decls:26,vars:9,consts:[[3,"LoginEvent",4,"ngIf"],[1,"cover-carousel"],[1,"carousel1",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide",4,"ngFor","ngForOf"],[1,"latest"],[1,"tray-title"],["href","#",1,"tray-link"],[1,"carousel",3,"config"],["slickModal1","slick-carousel"],["ngxSlickItem","","class","trayslide",4,"ngFor","ngForOf"],[3,"LoginEvent"],["ngxSlickItem","",1,"slide"],["alt","","width","100%",1,"cover-image",3,"src"],["ngxSlickItem","",1,"trayslide"],["alt","","height","100%","width","100%",3,"src","click"],["alt","","height","100% ","width","100%",3,"src"]],template:function(t,i){1&t&&(c.YNc(0,iW,1,0,"app-login",0),c.TgZ(1,"div",1),c.TgZ(2,"ngx-slick-carousel",2,3),c.YNc(4,rW,2,1,"div",4),c.qZA(),c.qZA(),c.TgZ(5,"div",5),c.TgZ(6,"h2",6),c.TgZ(7,"a",7),c._uU(8,"Latest & Trending"),c.qZA(),c.qZA(),c.TgZ(9,"ngx-slick-carousel",8,9),c.YNc(11,sW,2,1,"div",10),c.qZA(),c.qZA(),c.TgZ(12,"div",5),c.TgZ(13,"h2",6),c.TgZ(14,"a",7),c._uU(15,"Popular Shows"),c.qZA(),c.qZA(),c.TgZ(16,"ngx-slick-carousel",8,9),c.YNc(18,oW,2,1,"div",10),c.qZA(),c.qZA(),c.TgZ(19,"div",5),c.TgZ(20,"h2",6),c.TgZ(21,"a",7),c._uU(22,"Movies Recommended For You"),c.qZA(),c.qZA(),c.TgZ(23,"ngx-slick-carousel",8,9),c.YNc(25,aW,2,1,"div",10),c.qZA(),c.qZA()),2&t&&(c.Q6J("ngIf",i.loginService.showLoginValue),c.xp6(2),c.Q6J("config",i.slideConfig),c.xp6(2),c.Q6J("ngForOf",i.slides),c.xp6(5),c.Q6J("config",i.slideConfig1),c.xp6(2),c.Q6J("ngForOf",i.slides),c.xp6(5),c.Q6J("config",i.slideConfig1),c.xp6(2),c.Q6J("ngForOf",i.slides),c.xp6(5),c.Q6J("config",i.slideConfig1),c.xp6(2),c.Q6J("ngForOf",i.slides))},directives:[ti,VB,N_,Wn,xg],styles:[".slick-slider[_ngcontent-%COMP%]{width:95%;margin:auto}.slick-slide[_ngcontent-%COMP%]   .cover-image[_ngcontent-%COMP%]{display:flex;height:300px}body[_ngcontent-%COMP%]   .slick-prev[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .slick-next[_ngcontent-%COMP%]{height:45px;width:40px;background:grey!important;z-index:100}.carousel1[_ngcontent-%COMP%]{margin-top:80px;padding:10px}.tray-link[_ngcontent-%COMP%]{text-decoration:none;color:#f0f8ff;padding-left:20px}.tray-title[_ngcontent-%COMP%]{margin-top:10px}@media only screen and (min-width: 1024px){.tray-link[_ngcontent-%COMP%]{padding-left:73px}}.latest[_ngcontent-%COMP%]{margin-top:10px}.cover-carousel[_ngcontent-%COMP%]{margin-bottom:20px}.trayslide[_ngcontent-%COMP%]{transition:transform .5s;padding:10px;height:200px}.trayslide[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.25);box-shadow:0 0 30px}.carousel[_ngcontent-%COMP%]{height:200px}"]}),n})()},{path:"login",component:VB},{path:"video",component:Uz}];let cW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[NB.forRoot(lW)],NB]}),n})();function uW(n,e){if(1&n&&(c.TgZ(0,"a",16),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.hij(" ",t," ")}}function dW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",17),c.NdJ("click",function(){return c.CHM(t),c.oxw().login()}),c._uU(1,"login"),c.qZA()}}function hW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",17),c.NdJ("click",function(){return c.CHM(t),c.oxw().logout()}),c._uU(1,"logout"),c.qZA()}}function fW(n,e){if(1&n&&(c.TgZ(0,"a",18),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.hij("",t," ")}}let pW=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.ngZone=i,this.loginService=r,this.isLoggedIn=!1,this.links=["Live Channels","Videos","Series","Audio","Kids "]}ngOnInit(){this.user_data=JSON.parse(localStorage.getItem("user_data")||"null"),null!=this.user_data&&(this.isLoggedIn=!0)}logout(){this.loginService.logout()}login(){this.loginService.setShowLogin(!0)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gC),c.Y36(c.R0b),c.Y36(fb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:20,vars:4,consts:[["mat-tab-nav-bar","","fxLayoutAlign","space-evenly center",1,"navbar"],["fxShow","true","fxHide.gt-sm","true"],["href","#",3,"click"],[1,"hamburger"],["fxFlex","60"],["src","../../assets/images/logo.svg","alt","",1,"brand-logo"],["mat-tab-link","","class","tab-links","fxShow","true","fxHide.lt-md","true",4,"ngFor","ngForOf"],["fxFlex","40","fxLayoutAlign","end center","fxShow","true","fxHide.lt-md","true",1,"right-container"],["type","text","placeholder","search",1,"search-box"],[1,"sub-btn"],["class","login-link",3,"click",4,"ngIf"],["fxLayout","column",1,"sidenav"],["sidenav",""],["fxLayout","column"],["href","#","mat-button","",3,"click"],["href","#","mat-button","",4,"ngFor","ngForOf"],["mat-tab-link","","fxShow","true","fxHide.lt-md","true",1,"tab-links"],[1,"login-link",3,"click"],["href","#","mat-button",""]],template:function(t,i){if(1&t){const r=c.EpF();c.TgZ(0,"nav",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c.NdJ("click",function(){return c.CHM(r),c.MAs(15).toggle()}),c.TgZ(3,"mat-icon",3),c._uU(4,"menu"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(5,"div",4),c._UZ(6,"img",5),c.YNc(7,uW,2,1,"a",6),c.qZA(),c.TgZ(8,"div",7),c._UZ(9,"input",8),c.TgZ(10,"button",9),c._uU(11,"subscribe"),c.qZA(),c.YNc(12,dW,2,0,"a",10),c.YNc(13,hW,2,0,"a",10),c.qZA(),c.qZA(),c.TgZ(14,"mat-sidenav",11,12),c.TgZ(16,"div",13),c.TgZ(17,"a",14),c.NdJ("click",function(){return c.CHM(r),c.MAs(15).toggle()}),c._uU(18,"Close"),c.qZA(),c.YNc(19,fW,2,1,"a",15),c.qZA(),c.qZA()}2&t&&(c.xp6(7),c.Q6J("ngForOf",i.links),c.xp6(5),c.Q6J("ngIf",!i.loginService.getIsLoggedIn()),c.xp6(1),c.Q6J("ngIf",i.loginService.getIsLoggedIn()),c.xp6(6),c.Q6J("ngForOf",i.links))},directives:[FE,tR,vL,nw,eR,Wn,P_,ti,mO,XM,CE],styles:[".hamburger[_ngcontent-%COMP%]{color:#fff;margin-top:10px;margin-right:20px}.navbar[_ngcontent-%COMP%]{width:100%;height:80px;position:fixed;top:0;left:0;padding:0 4%;background-color:#024;z-index:9;display:flex;align-items:center}.search-box[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #aaa;background:transparent;outline:none;height:30px;color:#fff;width:250px;text-transform:capitalize;font-size:16px;font-weight:500;transition:.5s}.search-box[_ngcontent-%COMP%]:focus{width:350px;border-color:#1f80e0}.sub-btn[_ngcontent-%COMP%]{background-color:#1f80e0;height:30px;padding:0 20px;color:#fff;border-radius:5px;outline:none;text-transform:uppercase;font-weight:700;font-size:12px;margin:0 10px}[_nghost-%COMP%]     .mat-tab-link{min-width:60px}.login-link[_ngcontent-%COMP%]{color:#fff;opacity:.9;text-transform:uppercase;font-size:15px;font-weight:700;text-decoration:none}.right-container[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:10px}.tab-links[_ngcontent-%COMP%]{color:#fff;opacity:.7}.tab-links[_ngcontent-%COMP%]:active{opacity:.9}.sidenav[_ngcontent-%COMP%]{background-color:#024;color:#fff;position:fixed;z-index:9;width:100%}[_nghost-%COMP%]     .mat-tab-nav-bar, .mat-tab-header[_ngcontent-%COMP%]{border-bottom:0px!important}"]}),n})(),gW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-marketing"]],decls:21,vars:0,consts:[[1,"we-are-block"],["id","about-us-section"],[1,"about-us-image"],["src","https://digitalupgrade.com/images/lobbyimage_1.jpg","width","808","height","458","alt","Lobby Image"],[1,"about-us-info"],["href","#","title","About Us Button"],["id","history-section"],[1,"history-image"],["src","https://digitalupgrade.com/images/building_pic.jpg","width","951","height","471","alt","Building Pic"],[1,"history-info"],["href","#","title","History Button"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"div",4),c.TgZ(5,"h2"),c._uU(6,"We are Basheer"),c.qZA(),c.TgZ(7,"p"),c._uU(8,"Basheer, located in Evansville, IN, makes it easy for businesses to create and manage their digital presence and logistics, meaning we can make your business more efficient and profitable! We believe in our community and want to help our local business economy grow and expand. We believe in our clients, and want to assist in their digital success. The D-UP team grades ourselves on outcomes, not on sales."),c.qZA(),c.TgZ(9,"a",5),c._uU(10,"ABOUT US"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"div",6),c.TgZ(12,"div",7),c._UZ(13,"img",8),c.qZA(),c.TgZ(14,"div",9),c.TgZ(15,"h2"),c._uU(16,"Preserving Local History"),c.qZA(),c.TgZ(17,"p"),c._uU(18,"In 2018, technology companies, Desktop Doctors & Digital Upgrade found a new place to call home, at 816 N. 9th Ave. Since the takeover of the 118-year-old building (formally Stippler Tool & Supply and Crown Chair Company), there have been many renovations completed to preserve this local piece of Evansville, IN history."),c.qZA(),c.TgZ(19,"a",10),c._uU(20,"HISTORY"),c.qZA(),c.qZA(),c.qZA(),c.qZA())},styles:["a[_ngcontent-%COMP%]{text-decoration:none;transition:all .5s ease-in-out}a[_ngcontent-%COMP%]:hover{transition:all .5s ease-in-out}.we-are-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-wrap:nowrap;width:100%;height:900px;margin-top:20px}@media screen and (max-width: 860px){.we-are-block[_ngcontent-%COMP%]{height:2200px}}@media screen and (max-width: 500px){.we-are-block[_ngcontent-%COMP%]{height:2300px}}#about-us-section[_ngcontent-%COMP%]{background:#002244;width:100%;height:50%;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:center;position:relative}@media screen and (max-width: 860px){#about-us-section[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-between}}.about-us-image[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:100%;overflow:hidden}@media screen and (max-width: 860px){.about-us-image[_ngcontent-%COMP%]{position:relative;width:100%;height:45%}}@media screen and (max-width: 747px){.about-us-image[_ngcontent-%COMP%]{height:35%}}@media screen and (max-width: 644px){.about-us-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-220px}}.about-us-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;justify-content:space-evenly;width:40%;height:80%;margin-right:850px;margin-left:12px;z-index:2}@media screen and (max-width: 1353px){.about-us-info[_ngcontent-%COMP%]{margin-right:400px;width:60%;background:#002244;padding:0 25px 0 0}}@media screen and (max-width: 1238px){.about-us-info[_ngcontent-%COMP%]{margin-right:340px;width:100%}}@media screen and (max-width: 1111px){.about-us-info[_ngcontent-%COMP%]{margin-right:270px}}@media screen and (max-width: 910px){.about-us-info[_ngcontent-%COMP%]{margin-right:150px}}@media screen and (max-width: 860px){.about-us-info[_ngcontent-%COMP%]{margin:0!important;padding:0 20px!important;width:100%;height:55%;align-items:center}}@media screen and (max-width: 747px){.about-us-info[_ngcontent-%COMP%]{height:65%}.about-us-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25pt}}.about-us-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:40pt;text-align:right}@media screen and (max-width: 860px){.about-us-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25pt}}.about-us-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14pt;text-align:right}@media screen and (max-width: 860px){.about-us-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}}.about-us-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#fff;color:#024;width:180px;text-align:center;padding:15px 0;font-size:14pt;box-shadow:#26394d 0 20px 30px -10px}.about-us-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#404140;color:#fff;box-shadow:#0000008f 0 22px 70px 4px;transform:translateY(10px)}#history-section[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:center;position:relative}@media screen and (max-width: 860px){#history-section[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-between}}.history-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;max-width:820px;height:100%;overflow:hidden}@media screen and (max-width: 860px){.history-image[_ngcontent-%COMP%]{position:relative;width:100%;height:40%}}@media screen and (max-width: 747px){.history-image[_ngcontent-%COMP%]{height:35%}}@media screen and (max-width: 644px){.history-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:-220px}}.history-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-evenly;width:40%;height:80%;margin-left:850px;margin-right:12px;z-index:2}@media screen and (max-width: 1353px){.history-info[_ngcontent-%COMP%]{margin-left:400px;width:60%;background:#ffffff99;padding:0 0 0 25px}}@media screen and (max-width: 1238px){.history-info[_ngcontent-%COMP%]{margin-left:340px;width:100%}}@media screen and (max-width: 1111px){.history-info[_ngcontent-%COMP%]{margin-left:270px}}@media screen and (max-width: 910px){.history-info[_ngcontent-%COMP%]{margin-left:150px}}@media screen and (max-width: 860px){.history-info[_ngcontent-%COMP%]{margin:0!important;padding:0 40px!important;width:100%;height:60%;align-items:center}}@media screen and (max-width: 747px){.history-info[_ngcontent-%COMP%]{height:65%}}.history-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#024;font-size:40pt;text-align:left}@media screen and (max-width: 860px){.history-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25pt}}.history-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#024;font-size:14pt;text-align:left}@media screen and (max-width: 860px){.history-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}}.history-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#024;color:#fff;width:180px;text-align:center;padding:15px 0;font-size:14pt;box-shadow:#26394d 0 20px 30px -10px}.history-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#404140;color:#fff;box-shadow:#0000008f 0 22px 70px 4px;transform:translateY(10px)}"]}),n})(),mW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:45,vars:0,consts:[["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-around center",1,"footer"],["fxFlex.lg","48%","fxFlex.md","40","fxFlex.xs","100%",1,"footer-content"],["fxFlex.lg","15%","fxFlex.md","20","fxFlex.xs","50%",1,"footer-content"],[1,"footer-menu-name"],["href","#"],["fxFlex.lg","10%","fxFlex.md","20","fxFlex.xs","50%",1,"footer-content"],["fxFlex.lg","25%","fxFlex.md","20","fxFlex.gt-xs","100%",1,"footer-content"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h1"),c._uU(3,"Basheer"),c.qZA(),c.TgZ(4,"span"),c._uU(5," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Similique vitae nemo earum, quo deleniti nihil est saepe sequi sunt, cum ipsam harum ratione sapiente iusto, iure doloremque possimus. Ducimus minus voluptates odio tenetur porro temporibus non! Quam tenetur eius ea modi suscipit voluptates quidem quae atque tempora illum cum, iste blanditiis recusandae consequuntur! "),c.qZA(),c.qZA(),c.TgZ(6,"div",2),c.TgZ(7,"h2",3),c._uU(8,"Product"),c.qZA(),c.TgZ(9,"ul"),c.TgZ(10,"li"),c.TgZ(11,"a",4),c._uU(12,"Videos"),c.qZA(),c.qZA(),c.TgZ(13,"li"),c.TgZ(14,"a",4),c._uU(15,"Audios"),c.qZA(),c.qZA(),c.TgZ(16,"li"),c.TgZ(17,"a",4),c._uU(18,"Books"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(19,"div",5),c.TgZ(20,"h2",3),c._uU(21,"Links"),c.qZA(),c.TgZ(22,"ul"),c.TgZ(23,"li"),c.TgZ(24,"a",4),c._uU(25,"Pricing"),c.qZA(),c.qZA(),c.TgZ(26,"li"),c.TgZ(27,"a",4),c._uU(28,"Blog"),c.qZA(),c.qZA(),c.TgZ(29,"li"),c.TgZ(30,"a",4),c._uU(31,"Carrier"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(32,"div",6),c.TgZ(33,"h2",3),c._uU(34,"Address"),c.qZA(),c.TgZ(35,"ul"),c.TgZ(36,"li"),c.TgZ(37,"a",4),c._uU(38,"123,Xyz Street"),c.qZA(),c.qZA(),c.TgZ(39,"li"),c.TgZ(40,"a",4),c._uU(41,"BGF Luton"),c.qZA(),c.qZA(),c.TgZ(42,"li"),c.TgZ(43,"a",4),c._uU(44,"India"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[XM,tR,eR],styles:[".footer[_ngcontent-%COMP%]{font-weight:500;color:#fff;margin-top:20px;padding-left:15px;padding-right:15px;padding-bottom:40px}.footer-content[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;margin-top:20px}.footer-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin-top:10px}.footer-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.footer-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:5px}.footer-menu-name[_ngcontent-%COMP%]{color:#fffff2;font-size:15px;font-weight:900;letter-spacing:.1em;line-height:18px;text-transform:uppercase}"]}),n})();function yW(n,e){1&n&&c._UZ(0,"app-marketing")}let _W=(()=>{class n{constructor(t){this.loginService=t,this.title="basheer-site",this.isLoggedIn=!1,this.user_data=""}ngOnInit(){this.user_data=JSON.parse(localStorage.getItem("user_data")||"null"),null!=this.user_data&&(this.isLoggedIn=!0)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[4,"ngIf"]],template:function(t,i){1&t&&(c._UZ(0,"app-navbar"),c._UZ(1,"router-outlet"),c.YNc(2,yW,1,0,"app-marketing",0),c._UZ(3,"app-footer")),2&t&&(c.xp6(2),c.Q6J("ngIf",!i.loginService.getIsLoggedIn()))},directives:[pW,gR,ti,gW,mW],styles:[".blur[_ngcontent-%COMP%]{-moz-filter:blur(1.5px);-o-filter:blur(1.5px);-ms-filter:blur(1.5px);filter:blur(1.5px);position:absolute;width:100%;height:100%}"]}),n})(),vW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[_W]}),n.\u0275inj=c.cJS({providers:[fb],imports:[[lu,cW,ta.hO.initializeApp(UI_firebase),MG,BA,Zy,Lh,QA,x_,A_,NE,Vz,LE,I0]]}),n})();(0,c.G48)(),Zl().bootstrapModule(vW).catch(n=>console.error(n))},5867:(lt,De,F)=>{"use strict";F.d(De,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=F(9681);(0,c.registerVersion)("firebase","9.6.5","app")},127:(lt,De,F)=>{"use strict";F.d(De,{Z:()=>c.Z});var c=F(3942);c.Z.registerVersion("firebase","9.6.5","app-compat")},5881:(lt,De,F)=>{"use strict";F.r(De);var c=F(5861),L=F(3942),O=F(4786),re=F(2090),te=(F(9681),F(1877),F(4859));function ae(){return window}function U(){return(U=(0,c.Z)(function*(se,q,z){var xe;const{BuildInfo:ze}=ae();(0,O.ap)(q.sessionId,"AuthEvent did not contain a session ID");const et=yield ie(q.sessionId),Tt={};return(0,O.aq)()?Tt.ibi=ze.packageName:(0,O.ar)()?Tt.apn=ze.packageName:(0,O.as)(se,"operation-not-supported-in-this-environment"),ze.displayName&&(Tt.appDisplayName=ze.displayName),Tt.sessionId=et,(0,O.at)(se,z,q.type,void 0,null!==(xe=q.eventId)&&void 0!==xe?xe:void 0,Tt)})).apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(se){const{BuildInfo:q}=ae(),z={};(0,O.aq)()?z.iosBundleId=q.packageName:(0,O.ar)()?z.androidPackageName=q.packageName:(0,O.as)(se,"operation-not-supported-in-this-environment"),yield(0,O.au)(se,z)})).apply(this,arguments)}function Be(){return(Be=(0,c.Z)(function*(se,q,z){const{cordova:xe}=ae();let ze=()=>{};try{yield new Promise((et,Tt)=>{let Ht=null;function $t(){var Nt;et();const ji=null===(Nt=xe.plugins.browsertab)||void 0===Nt?void 0:Nt.close;"function"==typeof ji&&ji(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function Fn(){Ht||(Ht=window.setTimeout(()=>{Tt((0,O.av)(se,"redirect-cancelled-by-user"))},2e3))}function di(){"visible"===(null==document?void 0:document.visibilityState)&&Fn()}q.addPassiveListener($t),document.addEventListener("resume",Fn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",di,!1),ze=()=>{q.removePassiveListener($t),document.removeEventListener("resume",Fn,!1),document.removeEventListener("visibilitychange",di,!1),Ht&&window.clearTimeout(Ht)}})}finally{ze()}})).apply(this,arguments)}function ie(se){return pe.apply(this,arguments)}function pe(){return(pe=(0,c.Z)(function*(se){const q=Ce(se),z=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(z)).map(ze=>ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ce(se){if((0,O.ap)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(se);const q=new ArrayBuffer(se.length),z=new Uint8Array(q);for(let xe=0;xe<se.length;xe++)z[xe]=se.charCodeAt(xe);return z}class Ge extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(q)),super.onEvent(q)}initialized(){var q=this;return(0,c.Z)(function*(){yield q.initPromise})()}}function Ze(se){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(se){const q=yield ye()._get(Ee(se));return q&&(yield ye()._remove(Ee(se))),q})).apply(this,arguments)}function ge(){const se=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const xe=Math.floor(Math.random()*q.length);se.push(q.charAt(xe))}return se.join("")}function ye(){return(0,O.ax)(O.b)}function Ee(se){return(0,O.ay)("authEvent",se.config.apiKey,se.name)}function At(se){if(!(null==se?void 0:se.includes("?")))return{};const[q,...z]=se.split("?");return(0,re.zd)(z.join("?"))}function dt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function Ui(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function mn(se=(0,re.z$)()){return!("file:"!==Ui()&&"ionic:"!==Ui()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function er(){try{const se=self.localStorage,q=O.aG();if(se)return se.setItem(q,"1"),se.removeItem(q),!function Xi(se=(0,re.z$)()){return function Qt(){return(0,re.w1)()&&11===(null==document?void 0:document.documentMode)}()||function rs(se=(0,re.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,re.hl)()}catch(se){return Pe()&&(0,re.hl)()}return!1}function Pe(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return(function Ji(){return"http:"===Ui()||"https:"===Ui()}()||(0,re.ru)()||mn())&&!function In(){return(0,re.b$)()||(0,re.UG)()}()&&er()&&!Pe()}function $n(){return mn()&&"undefined"!=typeof document}function En(){return(En=(0,c.Z)(function*(){return!!$n()&&new Promise(se=>{const q=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),se(!0)})})})).apply(this,arguments)}const Zt={LOCAL:"local",NONE:"none",SESSION:"session"},ui=O.aw,bt="persistence";function Mt(se){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(se){yield se._initializationPromise;const q=Pt(),z=O.ay(bt,se.config.apiKey,se.name);q&&q.setItem(z,se._getPersistence())})).apply(this,arguments)}function Pt(){var se;try{return(null===(se=function Ln(){return"undefined"!=typeof window?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch(q){return null}}const st=O.aw;class it{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class Gn{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(q){var z=this;return(0,c.Z)(function*(){const xe=q._key();let ze=z.eventManagers.get(xe);return ze||(ze=new Ge(q),z.eventManagers.set(xe,ze),z.attachCallbackListeners(q,ze)),ze})()}_openPopup(q){(0,O.as)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,z,xe,ze){var et=this;return(0,c.Z)(function*(){!function Y(se){var q,z,xe,ze,et,Tt,Ht,$t,Fn,di;const Nt=ae();(0,O.aw)("function"==typeof(null===(q=null==Nt?void 0:Nt.universalLinks)||void 0===q?void 0:q.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(z=null==Nt?void 0:Nt.BuildInfo)||void 0===z?void 0:z.packageName),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(et=null===(ze=null===(xe=null==Nt?void 0:Nt.cordova)||void 0===xe?void 0:xe.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===et?void 0:et.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===($t=null===(Ht=null===(Tt=null==Nt?void 0:Nt.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===Ht?void 0:Ht.browsertab)||void 0===$t?void 0:$t.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(di=null===(Fn=null==Nt?void 0:Nt.cordova)||void 0===Fn?void 0:Fn.InAppBrowser)||void 0===di?void 0:di.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const Tt=yield et._initialize(q);yield Tt.initialized(),Tt.resetRedirect(),(0,O.aB)(),yield et._originValidation(q);const Ht=function Ae(se,q,z=null){return{type:q,eventId:z,urlResponse:null,sessionId:ge(),postBody:null,tenantId:se.tenantId,error:(0,O.av)(se,"no-auth-event")}}(q,xe,ze);yield function rt(se,q){return ye()._set(Ee(se),q)}(q,Ht);const $t=yield function j(se,q,z){return U.apply(this,arguments)}(q,Ht,z),Fn=yield function Te(se){const{cordova:q}=ae();return new Promise(z=>{q.plugins.browsertab.isAvailable(xe=>{let ze=null;xe?q.plugins.browsertab.openUrl(se):ze=q.InAppBrowser.open(se,(0,O.ao)()?"_blank":"_system","location=yes"),z(ze)})})}($t);return function Me(se,q,z){return Be.apply(this,arguments)}(q,Tt,Fn)})()}_isIframeWebStorageSupported(q,z){throw new Error("Method not implemented.")}_originValidation(q){const z=q._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function ne(se){return Ve.apply(this,arguments)}(q)),this.originValidationPromises[z]}attachCallbackListeners(q,z){const{universalLinks:xe,handleOpenURL:ze,BuildInfo:et}=ae(),Tt=setTimeout((0,c.Z)(function*(){yield Ze(q),z.onEvent(dt())}),500),Ht=function(){var di=(0,c.Z)(function*(Nt){clearTimeout(Tt);const ji=yield Ze(q);let fr=null;ji&&(null==Nt?void 0:Nt.url)&&(fr=function X(se,q){var z,xe;const ze=function de(se){const q=At(se),z=q.link?decodeURIComponent(q.link):void 0,xe=At(z).link,ze=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return At(ze).link||ze||xe||z||se}(q);if(ze.includes("/__/auth/callback")){const et=At(ze),Tt=et.firebaseError?function Ne(se){try{return JSON.parse(se)}catch(q){return null}}(decodeURIComponent(et.firebaseError)):null,Ht=null===(xe=null===(z=null==Tt?void 0:Tt.code)||void 0===z?void 0:z.split("auth/"))||void 0===xe?void 0:xe[1],$t=Ht?(0,O.av)(Ht):null;return $t?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:$t,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:ze,postBody:null}}return null}(ji,Nt.url)),z.onEvent(fr||dt())});return function(ji){return di.apply(this,arguments)}}();void 0!==xe&&"function"==typeof xe.subscribe&&xe.subscribe(null,Ht);const $t=ze,Fn=`${et.packageName.toLowerCase()}://`;ae().handleOpenURL=function(){var di=(0,c.Z)(function*(Nt){if(Nt.toLowerCase().startsWith(Fn)&&Ht({url:Nt}),"function"==typeof $t)try{$t(Nt)}catch(ji){console.error(ji)}});return function(Nt){return di.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(q){var z=this;return(0,c.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,z,xe,ze){var et=this;return(0,c.Z)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openPopup(q,z,xe,ze)})()}_openRedirect(q,z,xe,ze){var et=this;return(0,c.Z)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openRedirect(q,z,xe,ze)})()}_isIframeWebStorageSupported(q,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,z)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return $n()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return st(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,c.Z)(function*(){if(q.underlyingResolver)return;const z=yield function gt(){return En.apply(this,arguments)}();q.underlyingResolver=z?q.cordovaResolver:q.browserResolver})()}}function ko(se){return se.unwrap()}function wt(se){return wi(se)}function wi(se){const{_tokenResponse:q}=se instanceof re.ZR?se.customData:se;if(!q)return null;if(!(se instanceof re.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return O.P.credentialFromResult(se);const z=q.providerId;if(!z||z===O.o.PASSWORD)return null;let xe;switch(z){case O.o.GOOGLE:xe=O.N;break;case O.o.FACEBOOK:xe=O.M;break;case O.o.GITHUB:xe=O.Q;break;case O.o.TWITTER:xe=O.V;break;default:const{oauthIdToken:ze,oauthAccessToken:et,oauthTokenSecret:Tt,pendingToken:Ht,nonce:$t}=q;return et||Tt||ze||Ht?Ht?z.startsWith("saml.")?O.aJ._create(z,Ht):O.I._fromParams({providerId:z,signInMethod:z,pendingToken:Ht,idToken:ze,accessToken:et}):new O.T(z).credential({idToken:ze,accessToken:et,rawNonce:$t}):null}return se instanceof re.ZR?xe.credentialFromError(se):xe.credentialFromResult(se)}function _n(se,q){return q.catch(z=>{throw z instanceof re.ZR&&function ss(se,q){var z;const xe=null===(z=q.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===q.code)q.resolver=new W(se,O.am(se,q));else if(xe){const ze=wi(q),et=q;ze&&(et.credential=ze,et.tenantId=xe.tenantId||void 0,et.email=xe.email||void 0,et.phoneNumber=xe.phoneNumber||void 0)}}(se,z),z}).then(z=>{const ze=z.user;return{operationType:z.operationType,credential:wt(z),additionalUserInfo:O.ak(z),user:_e.getOrCreate(ze)}})}function V(se,q){return $.apply(this,arguments)}function $(){return($=(0,c.Z)(function*(se,q){const z=yield q;return{verificationId:z.verificationId,confirm:xe=>_n(se,z.confirm(xe))}})).apply(this,arguments)}class W{constructor(q,z){this.resolver=z,this.auth=function cn(se){return se.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return _n(ko(this.auth),this.resolver.resolveSignIn(q))}}class _e{constructor(q){this._delegate=q,this.multiFactor=O.an(q)}static getOrCreate(q){return _e.USER_MAP.has(q)||_e.USER_MAP.set(q,new _e(q)),_e.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var z=this;return(0,c.Z)(function*(){return _n(z.auth,O.Y(z._delegate,q))})()}linkWithPhoneNumber(q,z){var xe=this;return(0,c.Z)(function*(){return V(xe.auth,O.l(xe._delegate,q,z))})()}linkWithPopup(q){var z=this;return(0,c.Z)(function*(){return _n(z.auth,O.d(z._delegate,q,it))})()}linkWithRedirect(q){var z=this;return(0,c.Z)(function*(){return yield Mt(O.aC(z.auth)),O.g(z._delegate,q,it)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var z=this;return(0,c.Z)(function*(){return _n(z.auth,O.Z(z._delegate,q))})()}reauthenticateWithPhoneNumber(q,z){return V(this.auth,O.r(this._delegate,q,z))}reauthenticateWithPopup(q){return _n(this.auth,O.e(this._delegate,q,it))}reauthenticateWithRedirect(q){var z=this;return(0,c.Z)(function*(){return yield Mt(O.aC(z.auth)),O.h(z._delegate,q,it)})()}sendEmailVerification(q){return O.aa(this._delegate,q)}unlink(q){var z=this;return(0,c.Z)(function*(){return yield O.aj(z._delegate,q),z})()}updateEmail(q){return O.af(this._delegate,q)}updatePassword(q){return O.ag(this._delegate,q)}updatePhoneNumber(q){return O.u(this._delegate,q)}updateProfile(q){return O.ae(this._delegate,q)}verifyBeforeUpdateEmail(q,z){return O.ab(this._delegate,q,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_e.USER_MAP=new WeakMap;const ee=O.aw;let Ke=(()=>{class se{constructor(z,xe){if(this.app=z,xe.isInitialized())return this._delegate=xe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=z.options;ee(ze,"invalid-api-key",{appName:z.name}),ee(ze,"invalid-api-key",{appName:z.name});const et="undefined"!=typeof window?it:void 0;this._delegate=xe.initialize({options:{persistence:vn(ze,z.name),popupRedirectResolver:et}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_e.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,xe){O.E(this._delegate,z,xe)}applyActionCode(z){return O.a1(this._delegate,z)}checkActionCode(z){return O.a2(this._delegate,z)}confirmPasswordReset(z,xe){return O.a0(this._delegate,z,xe)}createUserWithEmailAndPassword(z,xe){var ze=this;return(0,c.Z)(function*(){return _n(ze._delegate,O.a4(ze._delegate,z,xe))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return O.a9(this._delegate,z)}isSignInWithEmailLink(z){return O.a7(this._delegate,z)}getRedirectResult(){var z=this;return(0,c.Z)(function*(){ee(yn(),z._delegate,"operation-not-supported-in-this-environment");const xe=yield O.j(z._delegate,it);return xe?_n(z._delegate,Promise.resolve(xe)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function ci(se,q){(0,O.aC)(se)._logFramework(q)}(this._delegate,z)}onAuthStateChanged(z,xe,ze){const{next:et,error:Tt,complete:Ht}=mt(z,xe,ze);return this._delegate.onAuthStateChanged(et,Tt,Ht)}onIdTokenChanged(z,xe,ze){const{next:et,error:Tt,complete:Ht}=mt(z,xe,ze);return this._delegate.onIdTokenChanged(et,Tt,Ht)}sendSignInLinkToEmail(z,xe){return O.a6(this._delegate,z,xe)}sendPasswordResetEmail(z,xe){return O.$(this._delegate,z,xe||void 0)}setPersistence(z){var xe=this;return(0,c.Z)(function*(){let ze;switch(function ot(se,q){ui(Object.values(Zt).includes(q),se,"invalid-persistence-type"),(0,re.b$)()?ui(q!==Zt.SESSION,se,"unsupported-persistence-type"):(0,re.UG)()?ui(q===Zt.NONE,se,"unsupported-persistence-type"):Pe()?ui(q===Zt.NONE||q===Zt.LOCAL&&(0,re.hl)(),se,"unsupported-persistence-type"):ui(q===Zt.NONE||er(),se,"unsupported-persistence-type")}(xe._delegate,z),z){case Zt.SESSION:ze=O.a;break;case Zt.LOCAL:ze=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Zt.NONE:ze=O.K;break;default:return O.as("argument-error",{appName:xe._delegate.name})}return xe._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return _n(this._delegate,O.W(this._delegate))}signInWithCredential(z){return _n(this._delegate,O.X(this._delegate,z))}signInWithCustomToken(z){return _n(this._delegate,O._(this._delegate,z))}signInWithEmailAndPassword(z,xe){return _n(this._delegate,O.a5(this._delegate,z,xe))}signInWithEmailLink(z,xe){return _n(this._delegate,O.a8(this._delegate,z,xe))}signInWithPhoneNumber(z,xe){return V(this._delegate,O.s(this._delegate,z,xe))}signInWithPopup(z){var xe=this;return(0,c.Z)(function*(){return ee(yn(),xe._delegate,"operation-not-supported-in-this-environment"),_n(xe._delegate,O.c(xe._delegate,z,it))})()}signInWithRedirect(z){var xe=this;return(0,c.Z)(function*(){return ee(yn(),xe._delegate,"operation-not-supported-in-this-environment"),yield Mt(xe._delegate),O.f(xe._delegate,z,it)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return O.a3(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=Zt,se})();function mt(se,q,z){let xe=se;"function"!=typeof se&&({next:xe,error:q,complete:z}=se);const ze=xe;return{next:Tt=>ze(Tt&&_e.getOrCreate(Tt)),error:q,complete:z}}function vn(se,q){const z=function zn(se,q){const z=Pt();if(!z)return[];const xe=O.ay(bt,se,q);switch(z.getItem(xe)){case Zt.NONE:return[O.K];case Zt.LOCAL:return[O.i,O.a];case Zt.SESSION:return[O.a];default:return[]}}(se,q);if("undefined"!=typeof self&&!z.includes(O.i)&&z.push(O.i),"undefined"!=typeof window)for(const xe of[O.b,O.a])z.includes(xe)||z.push(xe);return z.includes(O.K)||z.push(O.K),z}class xn{constructor(){this.providerId="phone",this._delegate=new O.P(ko(L.Z.auth()))}static credential(q,z){return O.P.credential(q,z)}verifyPhoneNumber(q,z){return this._delegate.verifyPhoneNumber(q,z)}unwrap(){return this._delegate}}xn.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,xn.PROVIDER_ID=O.P.PROVIDER_ID;const Bn=O.aw;class ei{constructor(q,z,xe=L.Z.app()){var ze;Bn(null===(ze=xe.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:xe.name}),this._delegate=new O.R(q,z,xe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function tr(se){se.INTERNAL.registerComponent(new te.wA("auth-compat",q=>{const z=q.getProvider("app-compat").getImmediate(),xe=q.getProvider("auth");return new Ke(z,xe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:xn,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:ei,TwitterAuthProvider:O.V,Auth:Ke,AuthCredential:O.G,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.2.7")}(L.Z)},2940:function(lt,De){!function(F){"use strict";function c(Y){return Array.prototype.slice.call(Y)}function L(Y){return new Promise(function(ie,pe){Y.onsuccess=function(){ie(Y.result)},Y.onerror=function(){pe(Y.error)}})}function O(Y,ie,pe){var Ce,we=new Promise(function(Ge,Ae){L(Ce=Y[ie].apply(Y,pe)).then(Ge,Ae)});return we.request=Ce,we}function re(Y,ie,pe){var Ce=O(Y,ie,pe);return Ce.then(function(we){if(we)return new j(we,Ce.request)})}function oe(Y,ie,pe){pe.forEach(function(Ce){Object.defineProperty(Y.prototype,Ce,{get:function(){return this[ie][Ce]},set:function(we){this[ie][Ce]=we}})})}function fe(Y,ie,pe,Ce){Ce.forEach(function(we){we in pe.prototype&&(Y.prototype[we]=function(){return O(this[ie],we,arguments)})})}function te(Y,ie,pe,Ce){Ce.forEach(function(we){we in pe.prototype&&(Y.prototype[we]=function(){return this[ie][we].apply(this[ie],arguments)})})}function ae(Y,ie,pe,Ce){Ce.forEach(function(we){we in pe.prototype&&(Y.prototype[we]=function(){return re(this[ie],we,arguments)})})}function le(Y){this._index=Y}function j(Y,ie){this._cursor=Y,this._request=ie}function U(Y){this._store=Y}function ne(Y){this._tx=Y,this.complete=new Promise(function(ie,pe){Y.oncomplete=function(){ie()},Y.onerror=function(){pe(Y.error)},Y.onabort=function(){pe(Y.error)}})}function Ve(Y,ie,pe){this._db=Y,this.oldVersion=ie,this.transaction=new ne(pe)}function Te(Y){this._db=Y}oe(le,"_index",["name","keyPath","multiEntry","unique"]),fe(le,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ae(le,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(j,"_cursor",["direction","key","primaryKey","value"]),fe(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Y){Y in IDBCursor.prototype&&(j.prototype[Y]=function(){var ie=this,pe=arguments;return Promise.resolve().then(function(){return ie._cursor[Y].apply(ie._cursor,pe),L(ie._request).then(function(Ce){if(Ce)return new j(Ce,ie._request)})})})}),U.prototype.createIndex=function(){return new le(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new le(this._store.index.apply(this._store,arguments))},oe(U,"_store",["name","keyPath","indexNames","autoIncrement"]),fe(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ae(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),te(U,"_store",IDBObjectStore,["deleteIndex"]),ne.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},oe(ne,"_tx",["objectStoreNames","mode"]),te(ne,"_tx",IDBTransaction,["abort"]),Ve.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},oe(Ve,"_db",["name","version","objectStoreNames"]),te(Ve,"_db",IDBDatabase,["deleteObjectStore","close"]),Te.prototype.transaction=function(){return new ne(this._db.transaction.apply(this._db,arguments))},oe(Te,"_db",["name","version","objectStoreNames"]),te(Te,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Y){[U,le].forEach(function(ie){Y in ie.prototype&&(ie.prototype[Y.replace("open","iterate")]=function(){var pe=c(arguments),Ce=pe[pe.length-1],we=this._store||this._index,Ge=we[Y].apply(we,pe.slice(0,-1));Ge.onsuccess=function(){Ce(Ge.result)}})})}),[le,U].forEach(function(Y){Y.prototype.getAll||(Y.prototype.getAll=function(ie,pe){var Ce=this,we=[];return new Promise(function(Ge){Ce.iterateCursor(ie,function(Ae){Ae?(we.push(Ae.value),void 0===pe||we.length!=pe?Ae.continue():Ge(we)):Ge(we)})})})}),F.openDb=function Me(Y,ie,pe){var Ce=O(indexedDB,"open",[Y,ie]),we=Ce.request;return we&&(we.onupgradeneeded=function(Ge){pe&&pe(new Ve(we.result,Ge.oldVersion,we.transaction))}),Ce.then(function(Ge){return new Te(Ge)})},F.deleteDb=function Be(Y){return O(indexedDB,"deleteDatabase",[Y])},Object.defineProperty(F,"__esModule",{value:!0})}(De)},8306:(lt,De,F)=>{"use strict";F.d(De,{y:()=>j});var c=F(930),L=F(727),O=F(8822),re=F(4671);var te=F(2416),ae=F(576),le=F(2806);let j=(()=>{class Te{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const Y=new Te;return Y.source=this,Y.operator=Be,Y}subscribe(Be,Y,ie){const pe=function Ve(Te){return Te&&Te instanceof c.Lv||function ne(Te){return Te&&(0,ae.m)(Te.next)&&(0,ae.m)(Te.error)&&(0,ae.m)(Te.complete)}(Te)&&(0,L.Nn)(Te)}(Be)?Be:new c.Hp(Be,Y,ie);return(0,le.x)(()=>{const{operator:Ce,source:we}=this;pe.add(Ce?Ce.call(pe,we):we?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Be){try{return this._subscribe(Be)}catch(Y){Be.error(Y)}}forEach(Be,Y){return new(Y=U(Y))((ie,pe)=>{let Ce;Ce=this.subscribe(we=>{try{Be(we)}catch(Ge){pe(Ge),null==Ce||Ce.unsubscribe()}},pe,ie)})}_subscribe(Be){var Y;return null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Be)}[O.L](){return this}pipe(...Be){return function fe(Te){return 0===Te.length?re.y:1===Te.length?Te[0]:function(Be){return Te.reduce((Y,ie)=>ie(Y),Be)}}(Be)(this)}toPromise(Be){return new(Be=U(Be))((Y,ie)=>{let pe;this.subscribe(Ce=>pe=Ce,Ce=>ie(Ce),()=>Y(pe))})}}return Te.create=Me=>new Te(Me),Te})();function U(Te){var Me;return null!==(Me=null!=Te?Te:te.v.Promise)&&void 0!==Me?Me:Promise}},7579:(lt,De,F)=>{"use strict";F.d(De,{x:()=>te});var c=F(8306),L=F(727);const re=(0,F(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=F(8737),fe=F(2806);let te=(()=>{class le extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const ne=new ae(this,this);return ne.operator=U,ne}_throwIfClosed(){if(this.closed)throw new re}next(U){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ne=this.observers.slice();for(const Ve of ne)Ve.next(U)}})}error(U){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:ne}=this;for(;ne.length;)ne.shift().error(U)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:ne,isStopped:Ve,observers:Te}=this;return ne||Ve?L.Lc:(Te.push(U),new L.w0(()=>(0,oe.P)(Te,U)))}_checkFinalizedStatuses(U){const{hasError:ne,thrownError:Ve,isStopped:Te}=this;ne?U.error(Ve):Te&&U.complete()}asObservable(){const U=new c.y;return U.source=this,U}}return le.create=(j,U)=>new ae(j,U),le})();class ae extends te{constructor(j,U){super(),this.destination=j,this.source=U}next(j){var U,ne;null===(ne=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===ne||ne.call(U,j)}error(j){var U,ne;null===(ne=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===ne||ne.call(U,j)}complete(){var j,U;null===(U=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===U||U.call(j)}_subscribe(j){var U,ne;return null!==(ne=null===(U=this.source)||void 0===U?void 0:U.subscribe(j))&&void 0!==ne?ne:L.Lc}}},930:(lt,De,F)=>{"use strict";F.d(De,{Hp:()=>Ve,Lv:()=>ne});var c=F(576),L=F(727),O=F(2416),re=F(7849),oe=F(5032);const fe=le("C",void 0,void 0);function le(ie,pe,Ce){return{kind:ie,value:pe,error:Ce}}var j=F(3410),U=F(2806);class ne extends L.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,L.Nn)(pe)&&pe.add(this)):this.destination=Y}static create(pe,Ce,we){return new Ve(pe,Ce,we)}next(pe){this.isStopped?Be(function ae(ie){return le("N",ie,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?Be(function te(ie){return le("E",void 0,ie)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?Be(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ve extends ne{constructor(pe,Ce,we){let Ge;if(super(),(0,c.m)(pe))Ge=pe;else if(pe){let Ae;({next:Ge,error:Ce,complete:we}=pe),this&&O.v.useDeprecatedNextContext?(Ae=Object.create(pe),Ae.unsubscribe=()=>this.unsubscribe()):Ae=pe,Ge=null==Ge?void 0:Ge.bind(Ae),Ce=null==Ce?void 0:Ce.bind(Ae),we=null==we?void 0:we.bind(Ae)}this.destination={next:Ge?Te(Ge):oe.Z,error:Te(null!=Ce?Ce:Me),complete:we?Te(we):oe.Z}}}function Te(ie,pe){return(...Ce)=>{try{ie(...Ce)}catch(we){O.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(we):(0,re.h)(we)}}}function Me(ie){throw ie}function Be(ie,pe){const{onStoppedNotification:Ce}=O.v;Ce&&j.z.setTimeout(()=>Ce(ie,pe))}const Y={closed:!0,next:oe.Z,error:Me,complete:oe.Z}},727:(lt,De,F)=>{"use strict";F.d(De,{Lc:()=>fe,w0:()=>oe,Nn:()=>te});var c=F(576);const O=(0,F(3888).d)(le=>function(U){le(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((ne,Ve)=>`${Ve+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var re=F(8737);class oe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Te of U)Te.remove(this);else U.remove(this);const{initialTeardown:ne}=this;if((0,c.m)(ne))try{ne()}catch(Te){j=Te instanceof O?Te.errors:[Te]}const{_teardowns:Ve}=this;if(Ve){this._teardowns=null;for(const Te of Ve)try{ae(Te)}catch(Me){j=null!=j?j:[],Me instanceof O?j=[...j,...Me.errors]:j.push(Me)}}if(j)throw new O(j)}}add(j){var U;if(j&&j!==this)if(this.closed)ae(j);else{if(j instanceof oe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push(j)}}_hasParent(j){const{_parentage:U}=this;return U===j||Array.isArray(U)&&U.includes(j)}_addParent(j){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(j),U):U?[U,j]:j}_removeParent(j){const{_parentage:U}=this;U===j?this._parentage=null:Array.isArray(U)&&(0,re.P)(U,j)}remove(j){const{_teardowns:U}=this;U&&(0,re.P)(U,j),j instanceof oe&&j._removeParent(this)}}oe.EMPTY=(()=>{const le=new oe;return le.closed=!0,le})();const fe=oe.EMPTY;function te(le){return le instanceof oe||le&&"closed"in le&&(0,c.m)(le.remove)&&(0,c.m)(le.add)&&(0,c.m)(le.unsubscribe)}function ae(le){(0,c.m)(le)?le():le.unsubscribe()}},2416:(lt,De,F)=>{"use strict";F.d(De,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,De,F)=>{"use strict";F.d(De,{E:()=>L});const L=new(F(8306).y)(oe=>oe.complete())},8996:(lt,De,F)=>{"use strict";F.d(De,{D:()=>Ge});var c=F(8421),L=F(5363),O=F(9468),fe=F(8306),ae=F(2202),le=F(576),j=F(9672);function ne(Ae,rt){if(!Ae)throw new Error("Iterable cannot be null");return new fe.y(Ze=>{(0,j.f)(Ze,rt,()=>{const ft=Ae[Symbol.asyncIterator]();(0,j.f)(Ze,rt,()=>{ft.next().then(X=>{X.done?Ze.complete():Ze.next(X.value)})},0,!0)})})}var Ve=F(3670),Te=F(8239),Me=F(1144),Be=F(6495),Y=F(2206),ie=F(4532),pe=F(3260);function Ge(Ae,rt){return rt?function we(Ae,rt){if(null!=Ae){if((0,Ve.c)(Ae))return function re(Ae,rt){return(0,c.Xf)(Ae).pipe((0,O.R)(rt),(0,L.Q)(rt))}(Ae,rt);if((0,Me.z)(Ae))return function te(Ae,rt){return new fe.y(Ze=>{let ft=0;return rt.schedule(function(){ft===Ae.length?Ze.complete():(Ze.next(Ae[ft++]),Ze.closed||this.schedule())})})}(Ae,rt);if((0,Te.t)(Ae))return function oe(Ae,rt){return(0,c.Xf)(Ae).pipe((0,O.R)(rt),(0,L.Q)(rt))}(Ae,rt);if((0,Y.D)(Ae))return ne(Ae,rt);if((0,Be.T)(Ae))return function U(Ae,rt){return new fe.y(Ze=>{let ft;return(0,j.f)(Ze,rt,()=>{ft=Ae[ae.h](),(0,j.f)(Ze,rt,()=>{let X,ge;try{({value:X,done:ge}=ft.next())}catch(ye){return void Ze.error(ye)}ge?Ze.complete():Ze.next(X)},0,!0)}),()=>(0,le.m)(null==ft?void 0:ft.return)&&ft.return()})}(Ae,rt);if((0,pe.L)(Ae))return function Ce(Ae,rt){return ne((0,pe.Q)(Ae),rt)}(Ae,rt)}throw(0,ie.z)(Ae)}(Ae,rt):(0,c.Xf)(Ae)}},8421:(lt,De,F)=>{"use strict";F.d(De,{Xf:()=>Ve});var c=F(5987),L=F(1144),O=F(8239),re=F(8306),oe=F(3670),fe=F(2206),te=F(4532),ae=F(6495),le=F(3260),j=F(576),U=F(7849),ne=F(8822);function Ve(we){if(we instanceof re.y)return we;if(null!=we){if((0,oe.c)(we))return function Te(we){return new re.y(Ge=>{const Ae=we[ne.L]();if((0,j.m)(Ae.subscribe))return Ae.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,L.z)(we))return function Me(we){return new re.y(Ge=>{for(let Ae=0;Ae<we.length&&!Ge.closed;Ae++)Ge.next(we[Ae]);Ge.complete()})}(we);if((0,O.t)(we))return function Be(we){return new re.y(Ge=>{we.then(Ae=>{Ge.closed||(Ge.next(Ae),Ge.complete())},Ae=>Ge.error(Ae)).then(null,U.h)})}(we);if((0,fe.D)(we))return ie(we);if((0,ae.T)(we))return function Y(we){return new re.y(Ge=>{for(const Ae of we)if(Ge.next(Ae),Ge.closed)return;Ge.complete()})}(we);if((0,le.L)(we))return function pe(we){return ie((0,le.Q)(we))}(we)}throw(0,te.z)(we)}function ie(we){return new re.y(Ge=>{(function Ce(we,Ge){var Ae,rt,Ze,ft;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,c.KL)(we);!(rt=yield Ae.next()).done;)if(Ge.next(rt.value),Ge.closed)return}catch(X){Ze={error:X}}finally{try{rt&&!rt.done&&(ft=Ae.return)&&(yield ft.call(Ae))}finally{if(Ze)throw Ze.error}}Ge.complete()})})(we,Ge).catch(Ae=>Ge.error(Ae))})}},6451:(lt,De,F)=>{"use strict";F.d(De,{T:()=>fe});var c=F(8189),L=F(8421),O=F(515),re=F(3269),oe=F(8996);function fe(...te){const ae=(0,re.yG)(te),le=(0,re._6)(te,1/0),j=te;return j.length?1===j.length?(0,L.Xf)(j[0]):(0,c.J)(le)((0,oe.D)(j,ae)):O.E}},5403:(lt,De,F)=>{"use strict";F.d(De,{Q:()=>L});var c=F(930);class L extends c.Lv{constructor(re,oe,fe,te,ae){super(re),this.onFinalize=ae,this._next=oe?function(le){try{oe(le)}catch(j){re.error(j)}}:super._next,this._error=te?function(le){try{te(le)}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(le){re.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}},4004:(lt,De,F)=>{"use strict";F.d(De,{U:()=>O});var c=F(4482),L=F(5403);function O(re,oe){return(0,c.e)((fe,te)=>{let ae=0;fe.subscribe(new L.Q(te,le=>{te.next(re.call(oe,le,ae++))}))})}},8189:(lt,De,F)=>{"use strict";F.d(De,{J:()=>O});var c=F(5577),L=F(4671);function O(re=1/0){return(0,c.z)(L.y,re)}},5577:(lt,De,F)=>{"use strict";F.d(De,{z:()=>ae});var c=F(4004),L=F(8421),O=F(4482),re=F(9672),oe=F(5403),te=F(576);function ae(le,j,U=1/0){return(0,te.m)(j)?ae((ne,Ve)=>(0,c.U)((Te,Me)=>j(ne,Te,Ve,Me))((0,L.Xf)(le(ne,Ve))),U):("number"==typeof j&&(U=j),(0,O.e)((ne,Ve)=>function fe(le,j,U,ne,Ve,Te,Me,Be){const Y=[];let ie=0,pe=0,Ce=!1;const we=()=>{Ce&&!Y.length&&!ie&&j.complete()},Ge=rt=>ie<ne?Ae(rt):Y.push(rt),Ae=rt=>{Te&&j.next(rt),ie++;let Ze=!1;(0,L.Xf)(U(rt,pe++)).subscribe(new oe.Q(j,ft=>{null==Ve||Ve(ft),Te?Ge(ft):j.next(ft)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(ie--;Y.length&&ie<ne;){const ft=Y.shift();Me?(0,re.f)(j,Me,()=>Ae(ft)):Ae(ft)}we()}catch(ft){j.error(ft)}}))};return le.subscribe(new oe.Q(j,Ge,()=>{Ce=!0,we()})),()=>{null==Be||Be()}}(ne,Ve,le,U)))}},5363:(lt,De,F)=>{"use strict";F.d(De,{Q:()=>re});var c=F(9672),L=F(4482),O=F(5403);function re(oe,fe=0){return(0,L.e)((te,ae)=>{te.subscribe(new O.Q(ae,le=>(0,c.f)(ae,oe,()=>ae.next(le),fe),()=>(0,c.f)(ae,oe,()=>ae.complete(),fe),le=>(0,c.f)(ae,oe,()=>ae.error(le),fe)))})}},3099:(lt,De,F)=>{"use strict";F.d(De,{B:()=>fe});var c=F(8996),L=F(5698),O=F(7579),re=F(930),oe=F(4482);function fe(ae={}){const{connector:le=(()=>new O.x),resetOnError:j=!0,resetOnComplete:U=!0,resetOnRefCountZero:ne=!0}=ae;return Ve=>{let Te=null,Me=null,Be=null,Y=0,ie=!1,pe=!1;const Ce=()=>{null==Me||Me.unsubscribe(),Me=null},we=()=>{Ce(),Te=Be=null,ie=pe=!1},Ge=()=>{const Ae=Te;we(),null==Ae||Ae.unsubscribe()};return(0,oe.e)((Ae,rt)=>{Y++,!pe&&!ie&&Ce();const Ze=Be=null!=Be?Be:le();rt.add(()=>{Y--,0===Y&&!pe&&!ie&&(Me=te(Ge,ne))}),Ze.subscribe(rt),Te||(Te=new re.Hp({next:ft=>Ze.next(ft),error:ft=>{pe=!0,Ce(),Me=te(we,j,ft),Ze.error(ft)},complete:()=>{ie=!0,Ce(),Me=te(we,U),Ze.complete()}}),(0,c.D)(Ae).subscribe(Te))})(Ve)}}function te(ae,le,...j){return!0===le?(ae(),null):!1===le?null:le(...j).pipe((0,L.q)(1)).subscribe(()=>ae())}},9468:(lt,De,F)=>{"use strict";F.d(De,{R:()=>L});var c=F(4482);function L(O,re=0){return(0,c.e)((oe,fe)=>{fe.add(O.schedule(()=>oe.subscribe(fe),re))})}},5698:(lt,De,F)=>{"use strict";F.d(De,{q:()=>re});var c=F(515),L=F(4482),O=F(5403);function re(oe){return oe<=0?()=>c.E:(0,L.e)((fe,te)=>{let ae=0;fe.subscribe(new O.Q(te,le=>{++ae<=oe&&(te.next(le),oe<=ae&&te.complete())}))})}},8505:(lt,De,F)=>{"use strict";F.d(De,{b:()=>oe});var c=F(576),L=F(4482),O=F(5403),re=F(4671);function oe(fe,te,ae){const le=(0,c.m)(fe)||te||ae?{next:fe,error:te,complete:ae}:fe;return le?(0,L.e)((j,U)=>{var ne;null===(ne=le.subscribe)||void 0===ne||ne.call(le);let Ve=!0;j.subscribe(new O.Q(U,Te=>{var Me;null===(Me=le.next)||void 0===Me||Me.call(le,Te),U.next(Te)},()=>{var Te;Ve=!1,null===(Te=le.complete)||void 0===Te||Te.call(le),U.complete()},Te=>{var Me;Ve=!1,null===(Me=le.error)||void 0===Me||Me.call(le,Te),U.error(Te)},()=>{var Te,Me;Ve&&(null===(Te=le.unsubscribe)||void 0===Te||Te.call(le)),null===(Me=le.finalize)||void 0===Me||Me.call(le)}))}):re.y}},4408:(lt,De,F)=>{"use strict";F.d(De,{o:()=>oe});var c=F(727);class L extends c.w0{constructor(te,ae){super()}schedule(te,ae=0){return this}}const O={setInterval(...fe){const{delegate:te}=O;return((null==te?void 0:te.setInterval)||setInterval)(...fe)},clearInterval(fe){const{delegate:te}=O;return((null==te?void 0:te.clearInterval)||clearInterval)(fe)},delegate:void 0};var re=F(8737);class oe extends L{constructor(te,ae){super(te,ae),this.scheduler=te,this.work=ae,this.pending=!1}schedule(te,ae=0){if(this.closed)return this;this.state=te;const le=this.id,j=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(j,le,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(j,this.id,ae),this}requestAsyncId(te,ae,le=0){return O.setInterval(te.flush.bind(te,this),le)}recycleAsyncId(te,ae,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ae;O.clearInterval(ae)}execute(te,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(te,ae);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ae){let j,le=!1;try{this.work(te)}catch(U){le=!0,j=U||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:te,scheduler:ae}=this,{actions:le}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(le,this),null!=te&&(this.id=this.recycleAsyncId(ae,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,De,F)=>{"use strict";F.d(De,{v:()=>O});var c=F(6063);class L{constructor(oe,fe=L.now){this.schedulerActionCtor=oe,this.now=fe}schedule(oe,fe=0,te){return new this.schedulerActionCtor(this,oe).schedule(te,fe)}}L.now=c.l.now;class O extends L{constructor(oe,fe=L.now){super(oe,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:fe}=this;if(this._active)return void fe.push(oe);let te;this._active=!0;do{if(te=oe.execute(oe.state,oe.delay))break}while(oe=fe.shift());if(this._active=!1,te){for(;oe=fe.shift();)oe.unsubscribe();throw te}}}},4986:(lt,De,F)=>{"use strict";F.d(De,{z:()=>O,P:()=>re});var c=F(4408);const O=new(F(7565).v)(c.o),re=O},6063:(lt,De,F)=>{"use strict";F.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(lt,De,F)=>{"use strict";F.d(De,{z:()=>c});const c={setTimeout(...L){const{delegate:O}=c;return((null==O?void 0:O.setTimeout)||setTimeout)(...L)},clearTimeout(L){const{delegate:O}=c;return((null==O?void 0:O.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(lt,De,F)=>{"use strict";F.d(De,{h:()=>L});const L=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,De,F)=>{"use strict";F.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(lt,De,F)=>{"use strict";F.d(De,{jO:()=>re,yG:()=>oe,_6:()=>fe});var c=F(576),L=F(3532);function O(te){return te[te.length-1]}function re(te){return(0,c.m)(O(te))?te.pop():void 0}function oe(te){return(0,L.K)(O(te))?te.pop():void 0}function fe(te,ae){return"number"==typeof O(te)?te.pop():ae}},8737:(lt,De,F)=>{"use strict";function c(L,O){if(L){const re=L.indexOf(O);0<=re&&L.splice(re,1)}}F.d(De,{P:()=>c})},3888:(lt,De,F)=>{"use strict";function c(L){const re=L(oe=>{Error.call(oe),oe.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}F.d(De,{d:()=>c})},2806:(lt,De,F)=>{"use strict";F.d(De,{x:()=>O,O:()=>re});var c=F(2416);let L=null;function O(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const fe=!L;if(fe&&(L={errorThrown:!1,error:null}),oe(),fe){const{errorThrown:te,error:ae}=L;if(L=null,te)throw ae}}else oe()}function re(oe){c.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=oe)}},9672:(lt,De,F)=>{"use strict";function c(L,O,re,oe=0,fe=!1){const te=O.schedule(function(){re(),fe?L.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(L.add(te),!fe)return te}F.d(De,{f:()=>c})},4671:(lt,De,F)=>{"use strict";function c(L){return L}F.d(De,{y:()=>c})},1144:(lt,De,F)=>{"use strict";F.d(De,{z:()=>c});const c=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(lt,De,F)=>{"use strict";F.d(De,{D:()=>L});var c=F(576);function L(O){return Symbol.asyncIterator&&(0,c.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(lt,De,F)=>{"use strict";function c(L){return"function"==typeof L}F.d(De,{m:()=>c})},3670:(lt,De,F)=>{"use strict";F.d(De,{c:()=>O});var c=F(8822),L=F(576);function O(re){return(0,L.m)(re[c.L])}},6495:(lt,De,F)=>{"use strict";F.d(De,{T:()=>O});var c=F(2202),L=F(576);function O(re){return(0,L.m)(null==re?void 0:re[c.h])}},8239:(lt,De,F)=>{"use strict";F.d(De,{t:()=>L});var c=F(576);function L(O){return(0,c.m)(null==O?void 0:O.then)}},3260:(lt,De,F)=>{"use strict";F.d(De,{Q:()=>O,L:()=>re});var c=F(5987),L=F(576);function O(oe){return(0,c.FC)(this,arguments,function*(){const te=oe.getReader();try{for(;;){const{value:ae,done:le}=yield(0,c.qq)(te.read());if(le)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ae)}}finally{te.releaseLock()}})}function re(oe){return(0,L.m)(null==oe?void 0:oe.getReader)}},3532:(lt,De,F)=>{"use strict";F.d(De,{K:()=>L});var c=F(576);function L(O){return O&&(0,c.m)(O.schedule)}},4482:(lt,De,F)=>{"use strict";F.d(De,{A:()=>L,e:()=>O});var c=F(576);function L(re){return(0,c.m)(null==re?void 0:re.lift)}function O(re){return oe=>{if(L(oe))return oe.lift(function(fe){try{return re(fe,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(lt,De,F)=>{"use strict";function c(){}F.d(De,{Z:()=>c})},7849:(lt,De,F)=>{"use strict";F.d(De,{h:()=>O});var c=F(2416),L=F(3410);function O(re){L.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw re;oe(re)})}},4532:(lt,De,F)=>{"use strict";function c(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(De,{z:()=>c})},5987:(lt,De,F)=>{"use strict";function ae(X,ge,ye,Ee){return new(ye||(ye=Promise))(function(de,At){function tn(dt){try{ct(Ee.next(dt))}catch(ci){At(ci)}}function Gn(dt){try{ct(Ee.throw(dt))}catch(ci){At(ci)}}function ct(dt){dt.done?de(dt.value):function Ne(de){return de instanceof ye?de:new ye(function(At){At(de)})}(dt.value).then(tn,Gn)}ct((Ee=Ee.apply(X,ge||[])).next())})}function Y(X){return this instanceof Y?(this.v=X,this):new Y(X)}function ie(X,ge,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Ee=ye.apply(X,ge||[]),de=[];return Ne={},At("next"),At("throw"),At("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function At(ln){Ee[ln]&&(Ne[ln]=function(bi){return new Promise(function(Yt,Ui){de.push([ln,bi,Yt,Ui])>1||tn(ln,bi)})})}function tn(ln,bi){try{!function Gn(ln){ln.value instanceof Y?Promise.resolve(ln.value.v).then(ct,dt):ci(de[0][2],ln)}(Ee[ln](bi))}catch(Yt){ci(de[0][3],Yt)}}function ct(ln){tn("next",ln)}function dt(ln){tn("throw",ln)}function ci(ln,bi){ln(bi),de.shift(),de.length&&tn(de[0][0],de[0][1])}}function Ce(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ge=X[Symbol.asyncIterator];return ge?ge.call(X):(X=function ne(X){var ge="function"==typeof Symbol&&Symbol.iterator,ye=ge&&X[ge],Ee=0;if(ye)return ye.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&Ee>=X.length&&(X=void 0),{value:X&&X[Ee++],done:!X}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ye={},Ee("next"),Ee("throw"),Ee("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Ee(de){ye[de]=X[de]&&function(At){return new Promise(function(tn,Gn){!function Ne(de,At,tn,Gn){Promise.resolve(Gn).then(function(ct){de({value:ct,done:tn})},At)}(tn,Gn,(At=X[de](At)).done,At.value)})}}}F.d(De,{mG:()=>ae,qq:()=>Y,FC:()=>ie,KL:()=>Ce})},5e3:(lt,De,F)=>{"use strict";F.d(De,{deG:()=>Uf,tb:()=>NE,AFp:()=>VI,ip1:()=>kE,CZH:()=>zh,hGG:()=>av,z2F:()=>Vi,sBO:()=>ZI,Sil:()=>B_,_Vd:()=>Lh,EJc:()=>LE,SBq:()=>pg,qLn:()=>fp,vpe:()=>Ha,tBr:()=>Pi,XFs:()=>gt,OlP:()=>pn,zs3:()=>xo,ZZ4:()=>yi,aQg:()=>dd,soG:()=>xg,YKP:()=>cE,h0i:()=>kc,PXZ:()=>Tl,R0b:()=>br,FiY:()=>Dn,Lbi:()=>P_,g9A:()=>PE,n_E:()=>w_,Qsj:()=>QA,FYo:()=>YA,JOm:()=>_o,q3G:()=>p,tp0:()=>po,Rgc:()=>bg,dDg:()=>Ag,q4F:()=>ja,GfV:()=>aE,s_b:()=>Hh,ifc:()=>Pt,eFA:()=>BE,G48:()=>GE,Gpc:()=>U,f3M:()=>Re,X6Q:()=>HE,_c5:()=>rv,VLi:()=>V_,c2e:()=>N_,zSh:()=>Dy,wAp:()=>Ct,vHH:()=>Me,EiD:()=>up,mCW:()=>jn,qzn:()=>mc,JVY:()=>Rm,pB0:()=>Ib,eBb:()=>Qd,L6k:()=>Db,LAX:()=>Ab,cg1:()=>Oh,kL8:()=>lg,yhl:()=>Mm,dqk:()=>wt,sIi:()=>Vp,CqO:()=>ew,QGY:()=>qy,F4k:()=>X0,RDi:()=>ou,AaK:()=>ae,z3N:()=>Bs,qOj:()=>My,TTD:()=>Xs,_Bn:()=>WA,xp6:()=>qb,uIk:()=>Fy,ekj:()=>Zp,Suo:()=>gI,Xpm:()=>xn,lG2:()=>xe,Yz7:()=>Yt,cJS:()=>Ji,oAB:()=>se,Yjl:()=>ze,Y36:()=>Ah,_UZ:()=>$y,qZA:()=>Hp,TgZ:()=>Gy,EpF:()=>zy,n5z:()=>Hd,LFG:()=>K,$8M:()=>sc,$Z:()=>Ih,NdJ:()=>Wy,CRH:()=>mI,oxw:()=>$D,Hsn:()=>qD,F$t:()=>zD,Q6J:()=>Hy,s9C:()=>iw,iGM:()=>fI,MAs:()=>Ly,CHM:()=>Xa,LSH:()=>T,kYT:()=>q,Udp:()=>Wp,WFA:()=>zp,d8E:()=>Ju,YNc:()=>U0,_uU:()=>Jp,hij:()=>Xp,Gf:()=>pI});var c=F(7579),L=F(727),O=F(8306),re=F(6451),oe=F(3099);function fe(s){for(let o in s)if(s[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function te(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ae(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ae).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=fe({__forward_ref__:fe});function U(s){return s.__forward_ref__=U,s.toString=function(){return ae(this())},s}function ne(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===U}class Me extends Error{constructor(o,l){super(function Be(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function Y(s){return"string"==typeof s?s:null==s?"":String(s)}function ie(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Y(s)}function Ge(s,o){const l=o?` in ${o}`:"";throw new Me(-201,`No provider for ${ie(s)} found${l}`)}function ct(s,o){null==s&&function dt(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ji(s){return{providers:s.providers||[],imports:s.imports||[]}}function mn(s){return In(s,er)||In(s,yn)}function In(s,o){return s.hasOwnProperty(o)?s[o]:null}function Xi(s){return s&&(s.hasOwnProperty(Pe)||s.hasOwnProperty($n))?s[Pe]:null}const er=fe({\u0275prov:fe}),Pe=fe({\u0275inj:fe}),yn=fe({ngInjectableDef:fe}),$n=fe({ngInjectorDef:fe});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let En;function Zt(s){const o=En;return En=s,o}function ui(s,o,l){const u=mn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&gt.Optional?null:void 0!==o?o:void Ge(ae(s),"Injector")}function ot(s){return{toString:s}.toString()}var Mt=(()=>((Mt=Mt||{})[Mt.OnPush=0]="OnPush",Mt[Mt.Default=1]="Default",Mt))(),Pt=(()=>{return(s=Pt||(Pt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Pt;var s})();const st="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,ko="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,wt=st||"undefined"!=typeof global&&global||it||ko,_n={},V=[],$=fe({\u0275cmp:fe}),W=fe({\u0275dir:fe}),_e=fe({\u0275pipe:fe}),ee=fe({\u0275mod:fe}),Ke=fe({\u0275fac:fe}),mt=fe({__NG_ELEMENT_ID__:fe});let vn=0;function xn(s){return ot(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||V,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Pt.Emulated,id:"c",styles:s.styles||V,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,_=s.pipes;return u.id+=vn++,u.inputs=z(s.inputs,l),u.outputs=z(s.outputs),g&&g.forEach(w=>w(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(ei):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(Lt):null,u})}function ei(s){return et(s)||function Tt(s){return s[W]||null}(s)}function Lt(s){return function Ht(s){return s[_e]||null}(s)}const tr={};function se(s){return ot(()=>{const o={type:s.type,bootstrap:s.bootstrap||V,declarations:s.declarations||V,imports:s.imports||V,exports:s.exports||V,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(tr[s.id]=s.type),o})}function q(s,o){return ot(()=>{const l=$t(s,!0);l.declarations=o.declarations||V,l.imports=o.imports||V,l.exports=o.exports||V})}function z(s,o){if(null==s)return _n;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=u,o&&(o[h]=g)}return l}const xe=xn;function ze(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function et(s){return s[$]||null}function $t(s,o){const l=s[ee]||null;if(!l&&!0===o)throw new Error(`Type ${ae(s)} does not have '\u0275mod' property.`);return l}function pr(s){return Array.isArray(s)&&"object"==typeof s[1]}function zr(s){return Array.isArray(s)&&!0===s[1]}function hi(s){return 0!=(8&s.flags)}function Vl(s){return 2==(2&s.flags)}function As(s){return 1==(1&s.flags)}function Rr(s){return null!==s.template}function Ul(s){return 0!=(512&s[2])}function ls(s,o){return s.hasOwnProperty(Ke)?s[Ke]:null}class iu{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Xs(){return cs}function cs(s){return s.type.prototype.ngOnChanges&&(s.setInput=ru),us}function us(){const s=kr(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===_n)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ru(s,o,l,u){const h=kr(s)||function Po(s,o){return s[Fo]=o}(s,{previous:_n,current:null}),g=h.current||(h.current={}),_=h.previous,w=this.declaredInputs[l],x=_[w];g[w]=new iu(x&&x.currentValue,o,_===_n),s[u]=o}Xs.ngInherit=!0;const Fo="__ngSimpleChanges__";function kr(s){return s[Fo]||null}let su;function ou(s){su=s}function Tn(s){return!!s.listen}const Ts={createRenderer:(s,o)=>function da(){return void 0!==su?su:"undefined"!=typeof document?document:void 0}()};function Nn(s){for(;Array.isArray(s);)s=s[0];return s}function Ri(s,o){return Nn(o[s])}function ni(s,o){return Nn(o[s.index])}function ha(s,o){return s.data[o]}function sr(s,o){const l=o[s];return pr(l)?l:l[0]}function Sn(s){return 4==(4&s[2])}function fa(s){return 128==(128&s[2])}function Or(s,o){return null==o?null:s[o]}function Ss(s){s[18]=0}function eo(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const at={lFrame:Yl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ja(){return at.bindingsEnabled}function Se(){return at.lFrame.lView}function Vt(){return at.lFrame.tView}function Xa(s){return at.lFrame.contextLView=s,s[8]}function un(){let s=Vo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Vo(){return at.lFrame.currentTNode}function ki(s,o){const l=at.lFrame;l.currentTNode=s,l.isParent=o}function Ms(){return at.lFrame.isParent}function pa(){at.lFrame.isParent=!1}function ma(){return at.isInCheckNoChangesMode}function Uo(s){at.isInCheckNoChangesMode=s}function Fr(){return at.lFrame.bindingIndex++}function ql(s,o){const l=at.lFrame;l.bindingIndex=l.bindingRootIndex=s,Wl(o)}function Wl(s){at.lFrame.currentDirectiveIndex=s}function oo(s){const o=at.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Zl(){return at.lFrame.currentQueryIndex}function ao(s){at.lFrame.currentQueryIndex=s}function lu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ya(s,o,l){if(l&gt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&gt.Host||(h=lu(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const u=at.lFrame=Kl();return u.currentTNode=o,u.lView=s,!0}function _a(s){const o=Kl(),l=s[1];at.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Kl(){const s=at.lFrame,o=null===s?null:s.child;return null===o?Yl(s):o}function Yl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function va(){const s=at.lFrame;return at.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ql=va;function Ho(){const s=va();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Zn(){return at.lFrame.selectedIndex}function pi(s){at.lFrame.selectedIndex=s}function On(){const s=at.lFrame;return ha(s.tView,s.selectedIndex)}function wa(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:x,ngAfterViewChecked:I,ngOnDestroy:M}=g;_&&(s.contentHooks||(s.contentHooks=[])).push(-l,_),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),x&&(s.viewHooks||(s.viewHooks=[])).push(-l,x),I&&((s.viewHooks||(s.viewHooks=[])).push(l,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,I)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(l,M)}}function Go(s,o,l){ec(s,o,3,l)}function $o(s,o,l,u){(3&s[2])===l&&ec(s,o,l,u)}function cu(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function ec(s,o,l,u){const g=null!=u?u:-1,_=o.length-1;let w=0;for(let x=void 0!==u?65535&s[18]:0;x<_;x++)if("number"==typeof o[x+1]){if(w=o[x],null!=u&&w>=u)break}else o[x]<0&&(s[18]+=65536),(w<g||-1==g)&&(Vf(s,l,o,x),s[18]=(4294901760&s[18])+x+2),x++}function Vf(s,o,l,u){const h=l[u]<0,g=l[u+1],w=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Un{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function tc(s,o,l){const u=Tn(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const _=l[h++],w=l[h++],x=l[h++];u?s.setAttribute(o,w,x,_):o.setAttributeNS(_,w,x)}else{const _=g,w=l[++h];nc(_)?u&&s.setProperty(o,_,w):u?s.setAttribute(o,_,w):o.setAttribute(_,w),h++}}return h}function hu(s){return 3===s||4===s||6===s}function nc(s){return 64===s.charCodeAt(0)}function Oi(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||Vd(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function Vd(s,o,l,u,h){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const w=s[g++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=g-1;break}}}for(;g<s.length;){const w=s[g];if("number"==typeof w)break;if(w===l){if(null===u)return void(null!==h&&(s[g+1]=h));if(u===s[g+1])return void(s[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,l),null!==u&&s.splice(g++,0,u),null!==h&&s.splice(g++,0,h)}function qo(s){return-1!==s}function nl(s){return 32767&s}function Wo(s,o){let l=function ic(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let il=!0;function Kn(s){const o=il;return il=s,o}let fu=0;function Ca(s,o){const l=Os(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,ks(u.data,s),ks(o,null),ks(u.blueprint,null));const h=yr(s,o),g=s.injectorIndex;if(qo(h)){const _=nl(h),w=Wo(h,o),x=w[1].data;for(let I=0;I<8;I++)o[g+I]=w[_+I]|x[_+I]}return o[g+8]=h,g}function ks(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Os(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function yr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){const g=h[1],_=g.type;if(u=2===_?g.declTNode:1===_?h[6]:null,null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function co(s,o,l){!function xa(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(mt)&&(u=l[mt]),null==u&&(u=l[mt]=fu++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function sl(s,o,l){if(l&gt.Optional)return s;Ge(o,"NodeInjector")}function Wr(s,o,l,u){if(l&gt.Optional&&void 0===u&&(u=null),0==(l&(gt.Self|gt.Host))){const h=s[9],g=Zt(void 0);try{return h?h.get(o,u,l&gt.Optional):ui(o,u,l&gt.Optional)}finally{Zt(g)}}return sl(u,o,l)}function rc(s,o,l,u=gt.Default,h){if(null!==s){const g=function Fi(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(mt)?s[mt]:void 0;return"number"==typeof o?o>=0?255&o:fs:o}(l);if("function"==typeof g){if(!ya(o,s,u))return u&gt.Host?sl(h,l,u):Wr(o,l,u,h);try{const _=g(u);if(null!=_||u&gt.Optional)return _;Ge(l)}finally{Ql()}}else if("number"==typeof g){let _=null,w=Os(s,o),x=-1,I=u&gt.Host?o[16][6]:null;for((-1===w||u&gt.SkipSelf)&&(x=-1===w?yr(s,o):o[w+8],-1!==x&&Mn(u,!1)?(_=o[1],w=nl(x),o=Wo(x,o)):w=-1);-1!==w;){const M=o[1];if(Zr(g,w,M.data)){const P=jd(w,o,l,_,u,I);if(P!==Ud)return P}x=o[w+8],-1!==x&&Mn(u,o[1].data[w+8]===I)&&Zr(g,w,o)?(_=M,w=nl(x),o=Wo(x,o)):w=-1}}}return Wr(o,l,u,h)}const Ud={};function fs(){return new He(un(),Se())}function jd(s,o,l,u,h,g){const _=o[1],w=_.data[s+8],M=zt(w,_,l,null==u?Vl(w)&&il:u!=_&&0!=(3&w.type),h&gt.Host&&g===w);return null!==M?or(o,_,M,w):Ud}function zt(s,o,l,u,h){const g=s.providerIndexes,_=o.data,w=1048575&g,x=s.directiveStart,M=g>>20,H=h?w+M:s.directiveEnd;for(let J=u?w:w+M;J<H;J++){const me=_[J];if(J<x&&l===me||J>=x&&me.type===l)return J}if(h){const J=_[x];if(J&&Rr(J)&&J.type===l)return x}return null}function or(s,o,l,u){let h=s[l];const g=o.data;if(function Nd(s){return s instanceof Un}(h)){const _=h;_.resolving&&function pe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Me(-200,`Circular dependency in DI detected for ${s}${l}`)}(ie(g[l]));const w=Kn(_.canSeeViewProviders);_.resolving=!0;const x=_.injectImpl?Zt(_.injectImpl):null;ya(s,u,gt.Default);try{h=s[l]=_.factory(void 0,g,s,u),o.firstCreatePass&&l>=u.directiveStart&&function Im(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(u){const _=cs(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==x&&Zt(x),Kn(w),_.resolving=!1,Ql()}}return h}function Zr(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Mn(s,o){return!(s&gt.Self||s&gt.Host&&o)}class He{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return rc(this._tNode,this._lView,o,u,l)}}function Hd(s){return ot(()=>{const o=s.prototype.constructor,l=o[Ke]||Zo(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const g=h[Ke]||Zo(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Zo(s){return Ve(s)?()=>{const o=Zo(ne(s));return o&&o()}:ls(s)}function sc(s){return function Fs(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const g=l[h];if(hu(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(un(),s)}const uo="__parameters__";function Ns(s,o,l){return ot(()=>{const u=function Da(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...g){if(this instanceof h)return u.apply(this,g),this;const _=new h(...g);return w.annotation=_,w;function w(x,I,M){const P=x.hasOwnProperty(uo)?x[uo]:Object.defineProperty(x,uo,{value:[]})[uo];for(;P.length<=M;)P.push(null);return(P[M]=P[M]||[]).push(_),x}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class pn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Yt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Uf=new pn("AnalyzeForEntryComponents");function ar(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),ar(u,o)):o!==s&&o.push(u)}return o}function Ls(s,o){s.forEach(l=>Array.isArray(l)?Ls(l,o):o(l))}function mu(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ll(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function cl(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function lr(s,o,l){let u=fo(s,o);return u>=0?s[1|u]=l:(u=~u,function yu(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function Ko(s,o){const l=fo(s,o);if(l>=0)return s[1|l]}function fo(s,o){return function qf(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const g=u+(h-u>>1),_=s[g<<l];if(o===_)return g<<l;_>o?h=g:u=g+1}return~(h<<l)}(s,o,1)}const Kr={},dc="__NG_DI_FLAG__",Ta="ngTempTokenPath",Yf=/\n/gm,Qf="__source",C=fe({provide:String,useValue:fe});let D;function R(s){const o=D;return D=s,o}function N(s,o=gt.Default){if(void 0===D)throw new Me(203,"");return null===D?ui(s,void 0,o):D.get(s,o&gt.Optional?null:void 0,o)}function K(s,o=gt.Default){return(function Ln(){return En}()||N)(ne(s),o)}const Re=K;function tt(s){const o=[];for(let l=0;l<s.length;l++){const u=ne(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Me(900,"");let h,g=gt.Default;for(let _=0;_<u.length;_++){const w=u[_],x=Wt(w);"number"==typeof x?-1===x?h=w.token:g|=x:h=w}o.push(K(h,g))}else o.push(K(u))}return o}function Je(s,o){return s[dc]=o,s.prototype[dc]=o,s}function Wt(s){return s[dc]}const Pi=Je(Ns("Inject",s=>({token:s})),-1),Dn=Je(Ns("Optional"),8),po=Je(Ns("SkipSelf"),4);let pc;function Sa(s){var o;return(null===(o=function ep(){if(void 0===pc&&(pc=null,wt.trustedTypes))try{pc=wt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return pc}())||void 0===o?void 0:o.createHTML(s))||s}class hl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sm extends hl{getTypeName(){return"HTML"}}class ap extends hl{getTypeName(){return"Style"}}class Eb extends hl{getTypeName(){return"Script"}}class xb extends hl{getTypeName(){return"URL"}}class Cb extends hl{getTypeName(){return"ResourceURL"}}function Bs(s){return s instanceof hl?s.changingThisBreaksApplicationSecurity:s}function mc(s,o){const l=Mm(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Mm(s){return s instanceof hl&&s.getTypeName()||null}function Rm(s){return new Sm(s)}function Db(s){return new ap(s)}function Qd(s){return new Eb(s)}function Ab(s){return new xb(s)}function Ib(s){return new Cb(s)}class Tb{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Sa(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Om{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Sa(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=Sa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const _=l.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Ci=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Di=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jn(s){return(s=String(s)).match(Ci)||s.match(Di)?s:"unsafe:"+s}function on(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function yt(...s){const o={};for(const l of s)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const Ma=on("area,br,col,hr,img,wbr"),eh=on("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fl=on("rp,rt"),_c=yt(Ma,yt(eh,on("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yt(fl,on("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yt(fl,eh)),Hn=on("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),An=on("srcset"),Pm=yt(Hn,An,on("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),on("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cp=on("script,style,template");class Ra{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!_c.hasOwnProperty(l))return this.sanitizedSomething=!0,!cp.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let h=0;h<u.length;h++){const g=u.item(h),_=g.name,w=_.toLowerCase();if(!Pm.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let x=g.value;Hn[w]&&(x=jn(x)),An[w]&&(s=x,x=(s=String(s)).split(",").map(o=>jn(o.trim())).join(", ")),this.buf.push(" ",_,'="',th(x),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();_c.hasOwnProperty(l)&&!Ma.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(th(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Nm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ii=/([^\#-~ |!])/g;function th(s){return s.replace(/&/g,"&amp;").replace(Nm,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ii,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bu;function up(s,o){let l=null;try{bu=bu||function km(s){const o=new Om(s);return function yc(){try{return!!(new window.DOMParser).parseFromString(Sa(""),"text/html")}catch(s){return!1}}()?new Tb(o):o}(s);let u=o?String(o):"";l=bu.getInertBodyElement(u);let h=5,g=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=g,g=l.innerHTML,l=bu.getInertBodyElement(u)}while(u!==g);return Sa((new Ra).sanitizeChildren(nh(l)||l))}finally{if(l){const u=nh(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function nh(s){return"content"in s&&function v(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var p=(()=>((p=p||{})[p.NONE=0]="NONE",p[p.HTML=1]="HTML",p[p.STYLE=2]="STYLE",p[p.SCRIPT=3]="SCRIPT",p[p.URL=4]="URL",p[p.RESOURCE_URL=5]="RESOURCE_URL",p))();function T(s){const o=function mi(){const s=Se();return s&&s[12]}();return o?o.sanitize(p.URL,s)||"":mc(s,"URL")?Bs(s):jn(Y(s))}const wu="__ngContext__";function Ni(s,o){s[wu]=o}function Eu(s){const o=function Oa(s){return s[wu]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Rb(s){return s.ngOriginalError}function IR(s,...o){s.error(...o)}class fp{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=function AR(s){return s&&s.ngErrorLogger||IR}(o);u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Rb(o);for(;l&&Rb(l);)l=Rb(l);return l||null}}const GC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(wt))();function Lr(s){return s instanceof Function?s():s}var _o=(()=>((_o=_o||{})[_o.Important=1]="Important",_o[_o.DashCase=2]="DashCase",_o))();function Cu(s,o){return undefined(s,o)}function vo(s){const o=s[3];return zr(o)?o[3]:o}function bo(s){return Du(s[13])}function gp(s){return Du(s[4])}function Du(s){for(;null!==s&&!zr(s);)s=s[4];return s}function bc(s,o,l,u,h){if(null!=u){let g,_=!1;zr(u)?g=u:pr(u)&&(_=!0,u=u[0]);const w=Nn(u);0===s&&null!==l?null==h?bp(o,l,w):Pa(o,l,w,h||null,!0):1===s&&null!==l?Pa(o,l,w,h||null,!0):2===s?function zm(s,o,l){const u=Iu(s,o);u&&function Lb(s,o,l,u){Tn(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,w,_):3===s&&o.destroyNode(w),null!=g&&function qm(s,o,l,u,h){const g=l[7];g!==Nn(l)&&bc(o,s,u,g,h);for(let w=10;w<l.length;w++){const x=l[w];ah(x[1],x,s,o,u,g)}}(o,s,g,l,h)}}function wc(s,o,l){return Tn(s)?s.createElement(o,l):null===l?s.createElement(o):s.createElementNS(l,o)}function Ec(s,o){const l=s[9],u=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,eo(h,-1)),l.splice(u,1)}function mp(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&Ec(h,u),o>0&&(s[l-1][4]=u[4]);const g=ll(s,10+o);!function OR(s,o){ah(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const _=g[19];null!==_&&_.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function yp(s,o){if(!(256&o[2])){const l=o[11];Tn(l)&&l.destroyNode&&ah(s,o,l,3,null,null),function NR(s){let o=s[13];if(!o)return _p(s[1],s);for(;o;){let l=null;if(pr(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)pr(o)&&_p(o[1],o),o=o[3];null===o&&(o=s),pr(o)&&_p(o[1],o),l=o&&o[4]}o=l}}(o)}}function _p(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function gl(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof Un)){const g=l[u+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=h[g[_]],x=g[_+1];try{x.call(w)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Gm(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const _=l[g+1],w="function"==typeof _?_(o):Nn(o[_]),x=u[h=l[g+2]],I=l[g+3];"boolean"==typeof I?w.removeEventListener(l[g],x,I):I>=0?u[h=I]():u[h=-I].unsubscribe(),g+=2}else{const _=u[h=l[g+1]];l[g].call(_)}if(null!==u){for(let g=h+1;g<u.length;g++)u[g]();o[7]=null}}(s,o),1===o[1].type&&Tn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&zr(o[3])){l!==o[3]&&Ec(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function $m(s,o,l){return function vp(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===Pt.None||h===Pt.Emulated)return null}return ni(u,l)}(s,o.parent,l)}function Pa(s,o,l,u,h){Tn(s)?s.insertBefore(o,l,u,h):o.insertBefore(l,u,h)}function bp(s,o,l){Tn(s)?s.appendChild(o,l):o.appendChild(l)}function Yr(s,o,l,u,h){null!==u?Pa(s,o,l,u,h):bp(s,o,l)}function Iu(s,o){return Tn(s)?s.parentNode(o):o.parentNode}function WC(s,o,l){return ml(s,o,l)}let ml=function Vb(s,o,l){return 40&s.type?ni(s,l):null};function xp(s,o,l,u){const h=$m(s,u,o),g=o[11],w=WC(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let x=0;x<l.length;x++)Yr(g,h,l[x],w,!1);else Yr(g,h,l,w,!1)}function Tu(s,o){if(null!==o){const l=o.type;if(3&l)return ni(o,s);if(4&l)return Dp(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return Tu(s,u);{const h=s[o.index];return zr(h)?Dp(-1,h):Nn(h)}}if(32&l)return Cu(o,s)()||Nn(s[o.index]);{const u=Cp(s,o);return null!==u?Array.isArray(u)?u[0]:Tu(vo(s[16]),u):Tu(s,o.next)}}return null}function Cp(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Dp(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return Tu(u,h)}return o[7]}function oh(s,o,l,u,h,g,_){for(;null!=l;){const w=u[l.index],x=l.type;if(_&&0===o&&(w&&Ni(Nn(w),u),l.flags|=4),64!=(64&l.flags))if(8&x)oh(s,o,l.child,u,h,g,!1),bc(o,s,h,w,g);else if(32&x){const I=Cu(l,u);let M;for(;M=I();)bc(o,s,h,M,g);bc(o,s,h,w,g)}else 16&x?jb(s,o,u,l,h,g):bc(o,s,h,w,g);l=_?l.projectionNext:l.next}}function ah(s,o,l,u,h,g){oh(l,u,s.firstChild,o,h,g,!1)}function jb(s,o,l,u,h,g){const _=l[16],x=_[6].projection[u.projection];if(Array.isArray(x))for(let I=0;I<x.length;I++)bc(o,s,h,x[I],g);else oh(s,o,x,_[3],h,g,!0)}function lh(s,o,l){Tn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Su(s,o,l){Tn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function Wm(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===u||s.charCodeAt(h+g)<=32)return h}l=h+1}}const yl="ng-template";function Zm(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==Wm(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function ch(s){return 4===s.type&&s.value!==yl}function ZC(s,o,l){return o===(4!==s.type||l?s.value:yl)}function Mu(s,o,l){let u=4;const h=s.attrs||[],g=function Jo(s){for(let o=0;o<s.length;o++)if(hu(s[o]))return o;return s.length}(h);let _=!1;for(let w=0;w<o.length;w++){const x=o[w];if("number"!=typeof x){if(!_)if(4&u){if(u=2|1&u,""!==x&&!ZC(s,x,l)||""===x&&1===o.length){if(Vs(u))return!1;_=!0}}else{const I=8&u?x:o[++w];if(8&u&&null!==s.attrs){if(!Zm(s.attrs,I,l)){if(Vs(u))return!1;_=!0}continue}const P=_l(8&u?"class":x,h,ch(s),l);if(-1===P){if(Vs(u))return!1;_=!0;continue}if(""!==I){let H;H=P>g?"":h[P+1].toLowerCase();const J=8&u?H:null;if(J&&-1!==Wm(J,I,0)||2&u&&I!==H){if(Vs(u))return!1;_=!0}}}}else{if(!_&&!Vs(u)&&!Vs(x))return!1;if(_&&Vs(x))continue;_=!1,u=x|1&u}}return Vs(u)||_}function Vs(s){return 0==(1&s)}function _l(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let g=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function xc(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function Km(s,o,l=!1){for(let u=0;u<o.length;u++)if(Mu(s,o[u],l))return!0;return!1}function uh(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function $b(s,o){return s?":not("+o.trim()+")":o}function Ym(s){let o=s[0],l=1,u=2,h="",g=!1;for(;l<s.length;){let _=s[l];if("string"==typeof _)if(2&u){const w=s[++l];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+_:4&u&&(h+=" "+_);else""!==h&&!Vs(_)&&(o+=$b(g,h),h=""),u=_,g=g||!Vs(u);l++}return""!==h&&(o+=$b(g,h)),o}const St={};function qb(s){Tp(Vt(),Se(),Zn()+s,ma())}function Tp(s,o,l,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Go(o,g,l)}else{const g=s.preOrderHooks;null!==g&&$o(o,g,0,l)}pi(l)}function dh(s,o){return s<<17|o<<2}function Us(s){return s>>17&32767}function Ru(s){return 2|s}function Na(s){return(131068&s)>>2}function Jm(s,o){return-131069&s|o<<2}function ku(s){return 1|s}function dy(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],g=l[u+1];if(-1!==g){const _=s.data[g];ao(h),_.contentQueries(2,o[g],g)}}}function Fu(s,o,l,u,h,g,_,w,x,I){const M=o.blueprint.slice();return M[0]=h,M[2]=140|u,Ss(M),M[3]=M[15]=s,M[8]=l,M[10]=_||s&&s[10],M[11]=w||s&&s[11],M[12]=x||s&&s[12]||null,M[9]=I||s&&s[9]||null,M[6]=g,M[16]=2==o.type?s[16]:M,M}function Pu(s,o,l,u,h){let g=s.data[o];if(null===g)g=function fh(s,o,l,u,h){const g=Vo(),_=Ms(),x=s.data[o]=function kp(s,o,l,u,h,g){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=x),null!==g&&(_?null==g.child&&null!==x.parent&&(g.child=x):null===g.next&&(g.next=x)),x}(s,o,l,u,h),function el(){return at.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=u,g.attrs=h;const _=function ro(){const s=at.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return ki(g,!0),g}function Nu(s,o,l,u){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function ph(s,o,l){_a(o);try{const u=s.viewQuery;null!==u&&wy(1,u,l);const h=s.template;null!==h&&hy(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&dy(s,o),s.staticViewQueries&&wy(2,s.viewQuery,l);const g=s.components;null!==g&&function sD(s,o){for(let l=0;l<o.length;l++)gD(s,o[l])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Ho()}}function Lu(s,o,l,u){const h=o[2];if(256==(256&h))return;_a(o);const g=ma();try{Ss(o),function au(s){return at.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&hy(s,o,l,2,u);const _=3==(3&h);if(!g)if(_){const I=s.preOrderCheckHooks;null!==I&&Go(o,I,null)}else{const I=s.preOrderHooks;null!==I&&$o(o,I,0,null),cu(o,0)}if(function pD(s){for(let o=bo(s);null!==o;o=gp(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],g=h[3];0==(1024&h[2])&&eo(g,1),h[2]|=1024}}}(o),function fD(s){for(let o=bo(s);null!==o;o=gp(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];fa(u)&&Lu(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&dy(s,o),!g)if(_){const I=s.contentCheckHooks;null!==I&&Go(o,I)}else{const I=s.contentHooks;null!==I&&$o(o,I,1),cu(o,1)}!function iD(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)pi(~h);else{const g=h,_=l[++u],w=l[++u];ql(_,g),w(2,o[g])}}}finally{pi(-1)}}(s,o);const w=s.components;null!==w&&function rD(s,o){for(let l=0;l<o.length;l++)b0(s,o[l])}(o,w);const x=s.viewQuery;if(null!==x&&wy(2,x,u),!g)if(_){const I=s.viewCheckHooks;null!==I&&Go(o,I)}else{const I=s.viewHooks;null!==I&&$o(o,I,2),cu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,eo(o[3],-1))}finally{Ho()}}function oD(s,o,l,u){const h=o[10],g=!ma(),_=Sn(o);try{g&&!_&&h.begin&&h.begin(),_&&ph(s,o,u),Lu(s,o,l,u)}finally{g&&!_&&h.end&&h.end()}}function hy(s,o,l,u,h){const g=Zn(),_=2&u;try{pi(-1),_&&o.length>20&&Tp(s,o,20,ma()),l(u,h)}finally{pi(g)}}function Jr(s,o,l){!Ja()||(function gy(s,o,l,u){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Ca(l,o),Ni(u,o);const _=l.initialInputs;for(let w=h;w<g;w++){const x=s.data[w],I=Rr(x);I&&hD(o,l,x);const M=or(o,s,w,l);Ni(M,o),null!==_&&y0(0,w-h,M,x,0,_),I&&(sr(l.index,o)[8]=M)}}(s,o,l,ni(l,o)),128==(128&l.flags)&&function cD(s,o,l){const u=l.directiveStart,h=l.directiveEnd,_=l.index,w=function jo(){return at.lFrame.currentDirectiveIndex}();try{pi(_);for(let x=u;x<h;x++){const I=s.data[x],M=o[x];Wl(x),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&p0(I,M)}}finally{pi(-1),Wl(w)}}(s,o,l))}function gh(s,o,l=ni){const u=o.localNames;if(null!==u){let h=o.index+1;for(let g=0;g<u.length;g+=2){const _=u[g+1],w=-1===_?l(o,s):s[_];s[h++]=w}}}function Bu(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Vu(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Vu(s,o,l,u,h,g,_,w,x,I){const M=20+u,P=M+h,H=function aD(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:St);return l}(M,P),J="function"==typeof I?I():I;return H[1]={type:s,blueprint:H,template:l,queries:null,viewQuery:w,declTNode:o,data:H.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:x,consts:J,incompleteFirstPass:!1}}function c0(s,o,l,u){const h=x0(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&C0(s).push(u,h.length-1))}function u0(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function Xr(s,o,l,u,h,g,_,w){const x=ni(o,l);let M,I=o.inputs;!w&&null!=I&&(M=I[u])?(xy(s,l,M,u,h),Vl(o)&&function js(s,o){const l=sr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function h0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=_?_(h,o.value||"",u):h,Tn(g)?g.setProperty(x,u,h):nc(u)||(x.setProperty?x.setProperty(u,h):x[u]=h))}function ju(s,o,l,u){let h=!1;if(Ja()){const g=function g0(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const _=u[g];Km(l,_.selectors,!1)&&(h||(h=[]),co(Ca(l,o),s,_.type),Rr(_)?(my(s,l),h.unshift(_)):h.push(_))}return h}(s,o,l),_=null===u?null:{"":-1};if(null!==g){h=!0,yy(l,s.data.length,g.length);for(let M=0;M<g.length;M++){const P=g[M];P.providersResolver&&P.providersResolver(P)}let w=!1,x=!1,I=Nu(s,o,g.length,null);for(let M=0;M<g.length;M++){const P=g[M];l.mergedAttrs=Oi(l.mergedAttrs,P.hostAttrs),m0(s,l,o,I,P),dD(I,P,_),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const H=P.type.prototype;!w&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!x&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),x=!0),I++}!function d0(s,o){const u=o.directiveEnd,h=s.data,g=o.attrs,_=[];let w=null,x=null;for(let I=o.directiveStart;I<u;I++){const M=h[I],P=M.inputs,H=null===g||ch(o)?null:Op(P,g);_.push(H),w=u0(P,I,w),x=u0(M.outputs,I,x)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=x}(s,l)}_&&function uD(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Me(-301,`Export of name '${o[h+1]}' not found!`);u.push(o[h],g)}}}(l,u,_)}return l.mergedAttrs=Oi(l.mergedAttrs,l.attrs),h}function py(s,o,l,u,h,g){const _=g.hostBindings;if(_){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const x=~o.index;(function lD(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=x&&w.push(x),w.push(u,h,_)}}function p0(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function my(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function dD(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;Rr(o)&&(l[""]=s)}}function yy(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function m0(s,o,l,u,h){s.data[u]=h;const g=h.factory||(h.factory=ls(h.type)),_=new Un(g,Rr(h),null);s.blueprint[u]=_,l[u]=_,py(s,o,0,u,Nu(s,l,h.hostVars,St),h)}function hD(s,o,l){const u=ni(o,s),h=Bu(l),g=s[10],_=yh(s,Fu(s,h,null,l.onPush?64:16,u,o,g,g.createRenderer(u,l),null,null));s[o.index]=_}function Eo(s,o,l,u,h,g){const _=ni(s,o);!function mh(s,o,l,u,h,g,_){if(null==g)Tn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const w=null==_?Y(g):_(g,u||"",h);Tn(s)?s.setAttribute(o,h,w,l):l?o.setAttributeNS(l,h,w):o.setAttribute(h,w)}}(o[11],_,g,s.value,l,u,h)}function y0(s,o,l,u,h,g){const _=g[o];if(null!==_){const w=u.setInput;for(let x=0;x<_.length;){const I=_[x++],M=_[x++],P=_[x++];null!==w?u.setInput(l,P,I,M):l[M]=P}}}function Op(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function v0(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function b0(s,o){const l=sr(o,s);if(fa(l)){const u=l[1];80&l[2]?Lu(u,l,u.template,l[8]):l[5]>0&&_y(l)}}function _y(s){for(let u=bo(s);null!==u;u=gp(u))for(let h=10;h<u.length;h++){const g=u[h];if(1024&g[2]){const _=g[1];Lu(_,g,_.template,g[8])}else g[5]>0&&_y(g)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=sr(l[u],s);fa(h)&&h[5]>0&&_y(h)}}function gD(s,o){const l=sr(o,s),u=l[1];(function w0(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),ph(u,l,l[8])}function yh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function vy(s){for(;s;){s[2]|=64;const o=vo(s);if(Ul(s)&&!o)return s;s=o}return null}function Fp(s,o,l){const u=o[10];u.begin&&u.begin();try{Lu(s,o,s.template,l)}catch(h){throw _h(o,h),h}finally{u.end&&u.end()}}function yD(s){!function by(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Eu(l),h=u[1];oD(h,u,h.template,l)}}(s[8])}function wy(s,o,l){ao(0),o(s,l)}const bD=(()=>Promise.resolve(null))();function x0(s){return s[7]||(s[7]=[])}function C0(s){return s.cleanup||(s.cleanup=[])}function Ey(s,o,l){return(null===s||Rr(s))&&(l=function Ka(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function _h(s,o){const l=s[9],u=l?l.get(fp,null):null;u&&u.handleError(o)}function xy(s,o,l,u,h){for(let g=0;g<l.length;){const _=l[g++],w=l[g++],x=o[_],I=s.data[_];null!==I.setInput?I.setInput(x,h,u,w):x[w]=h}}function La(s,o,l){const u=Ri(o,s);!function Au(s,o,l){Tn(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function vh(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?g=w:1==g?h=le(h,w):2==g&&(u=le(u,w+": "+o[++_]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}const Cy=new pn("INJECTOR",-1);class D0{get(o,l=Kr){if(l===Kr){const u=new Error(`NullInjectorError: No provider for ${ae(o)}!`);throw u.name="NullInjectorError",u}return l}}const Dy=new pn("Set Injector scope."),bh={},Hs={};let Pp;function Ay(){return void 0===Pp&&(Pp=new D0),Pp}function A0(s,o=null,l=null,u){const h=I0(s,o,l,u);return h._resolveInjectorDefTypes(),h}function I0(s,o=null,l=null,u){return new WR(s,l,o||Ay(),u)}class WR{constructor(o,l,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Ls(l,w=>this.processProvider(w,o,l)),Ls([o],w=>this.processInjectorType(w,[],g)),this.records.set(Cy,wh(void 0,this));const _=this.records.get(Dy);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:ae(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Kr,u=gt.Default){this.assertNotDestroyed();const h=R(this),g=Zt(void 0);try{if(!(u&gt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const x=function XR(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(o)&&mn(o);w=x&&this.injectableDefInScope(x)?wh(T0(o),bh):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&gt.Self?Ay():this.parent).get(o,l=u&gt.Optional&&l===Kr?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[Ta]=_[Ta]||[]).unshift(ae(o)),h)throw _;return function bn(s,o,l,u){const h=s[Ta];throw o[Qf]&&h.unshift(o[Qf]),s.message=function Hi(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ae(o);if(Array.isArray(o))h=o.map(ae).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):ae(w)))}h=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(Yf,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[Ta]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{Zt(g),R(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(ae(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,"")}processInjectorType(o,l,u){if(!(o=ne(o)))return!1;let h=Xi(o);const g=null==h&&o.ngModule||void 0,_=void 0===g?o:g,w=-1!==u.indexOf(_);if(void 0!==g&&(h=Xi(g)),null==h)return!1;if(null!=h.imports&&!w){let M;u.push(_);try{Ls(h.imports,P=>{this.processInjectorType(P,l,u)&&(void 0===M&&(M=[]),M.push(P))})}finally{}if(void 0!==M)for(let P=0;P<M.length;P++){const{ngModule:H,providers:J}=M[P];Ls(J,me=>this.processProvider(me,H,J||V))}}this.injectorDefTypes.add(_);const x=ls(_)||(()=>new _);this.records.set(_,wh(x,bh));const I=h.providers;if(null!=I&&!w){const M=o;Ls(I,P=>this.processProvider(P,M,I))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,u){let h=Hu(o=ne(o))?o:ne(o&&o.provide);const g=function KR(s,o,l){return Iy(s)?wh(void 0,s.useValue):wh(xD(s),bh)}(o);if(Hu(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=wh(void 0,bh,!0),_.factory=()=>tt(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===bh&&(l.value=Hs,l.value=l.factory()),"object"==typeof l.value&&l.value&&function JR(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ne(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function T0(s){const o=mn(s),l=null!==o?o.factory:ls(s);if(null!==l)return l;if(s instanceof pn)throw new Me(204,"");if(s instanceof Function)return function ZR(s){const o=s.length;if(o>0)throw cl(o,"?"),new Me(204,"");const l=function Qt(s){const o=s&&(s[er]||s[yn]);if(o){const l=function rs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Me(204,"")}function xD(s,o,l){let u;if(Hu(s)){const h=ne(s);return ls(h)||T0(h)}if(Iy(s))u=()=>ne(s.useValue);else if(function QR(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...tt(s.deps||[]));else if(function YR(s){return!(!s||!s.useExisting)}(s))u=()=>K(ne(s.useExisting));else{const h=ne(s&&(s.useClass||s.provide));if(!function Li(s){return!!s.deps}(s))return ls(h)||T0(h);u=()=>new h(...tt(s.deps))}return u}function wh(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Iy(s){return null!==s&&"object"==typeof s&&C in s}function Hu(s){return"function"==typeof s}let xo=(()=>{class s{static create(l,u){var h;if(Array.isArray(l))return A0({name:""},u,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return A0({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=Kr,s.NULL=new D0,s.\u0275prov=Yt({token:s,providedIn:"any",factory:()=>K(Cy)}),s.__NG_ELEMENT_ID__=-1,s})();function F0(s,o){wa(Eu(s)[1],un())}function My(s){let o=function P0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(Rr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Me(903,"");h=o.\u0275dir}if(h){if(l){u.push(h);const _=s;_.inputs=Cc(s.inputs),_.declaredInputs=Cc(s.declaredInputs),_.outputs=Cc(s.outputs);const w=h.hostBindings;w&&N0(s,w);const x=h.viewQuery,I=h.contentQueries;if(x&&ky(s,x),I&&RD(s,I),te(s.inputs,h.inputs),te(s.declaredInputs,h.declaredInputs),te(s.outputs,h.outputs),Rr(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(s),w===My&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Ry(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Oi(h.hostAttrs,l=Oi(l,h.hostAttrs))}}(u)}function Cc(s){return s===_n?{}:s===V?[]:s}function ky(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function RD(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,g)=>{o(u,h,g),l(u,h,g)}:o}function N0(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let Oy=null;function xh(){if(!Oy){const s=wt.Symbol;if(s&&s.iterator)Oy=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Oy=u)}}}return Oy}function Vp(s){return!!L0(s)&&(Array.isArray(s)||!(s instanceof Map)&&xh()in s)}function L0(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Br(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Fy(s,o,l,u){const h=Se();return Br(h,Fr(),o)&&(Vt(),Eo(On(),h,s,o,l,u)),Fy}function $u(s,o,l,u){return Br(s,Fr(),l)?o+Y(l)+u:St}function U0(s,o,l,u,h,g,_,w){const x=Se(),I=Vt(),M=s+20,P=I.firstCreatePass?function OD(s,o,l,u,h,g,_,w,x){const I=o.consts,M=Pu(o,s,4,_||null,Or(I,w));ju(o,l,M,Or(I,x)),wa(o,M);const P=M.tViews=Vu(2,M,u,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,M),P.queries=o.queries.embeddedTView(M)),M}(M,I,x,o,l,u,h,g,_):I.data[M];ki(P,!1);const H=x[11].createComment("");xp(I,x,H,P),Ni(H,x),yh(x,x[M]=v0(H,x,H,P)),As(P)&&Jr(I,x,P),null!=_&&gh(x,P,w)}function Ly(s){return function ds(s,o){return s[o]}(function zl(){return at.lFrame.contextLView}(),20+s)}function Ah(s,o=gt.Default){const l=Se();return null===l?K(s,o):rc(un(),l,ne(s),o)}function Ih(){throw new Error("invalid")}function Hy(s,o,l){const u=Se();return Br(u,Fr(),o)&&Xr(Vt(),On(),u,s,o,u[11],l,!1),Hy}function Sc(s,o,l,u,h){const _=h?"class":"style";xy(s,l,o.inputs[_],_,u)}function Gy(s,o,l,u){const h=Se(),g=Vt(),_=20+s,w=h[11],x=h[_]=wc(w,o,function tl(){return at.lFrame.currentNamespace}()),I=g.firstCreatePass?function Q0(s,o,l,u,h,g,_){const w=o.consts,I=Pu(o,s,2,h,Or(w,g));return ju(o,l,I,Or(w,_)),null!==I.attrs&&vh(I,I.attrs,!1),null!==I.mergedAttrs&&vh(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(_,g,h,0,o,l,u):g.data[_];ki(I,!0);const M=I.mergedAttrs;null!==M&&tc(w,x,M);const P=I.classes;null!==P&&Su(w,x,P);const H=I.styles;null!==H&&lh(w,x,H),64!=(64&I.flags)&&xp(g,h,x,I),0===function Qa(){return at.lFrame.elementDepthCount}()&&Ni(x,h),function no(){at.lFrame.elementDepthCount++}(),As(I)&&(Jr(g,h,I),function s0(s,o,l){if(hi(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,l[g],g)}}}(g,I,h)),null!==u&&gh(h,I)}function Hp(){let s=un();Ms()?pa():(s=s.parent,ki(s,!1));const o=s;!function io(){at.lFrame.elementDepthCount--}();const l=Vt();l.firstCreatePass&&(wa(l,s),hi(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function lo(s){return 0!=(16&s.flags)}(o)&&Sc(l,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ea(s){return 0!=(32&s.flags)}(o)&&Sc(l,o,Se(),o.stylesWithoutHost,!1)}function $y(s,o,l,u){Gy(s,o,l,u),Hp()}function zy(){return Se()}function qy(s){return!!s&&"function"==typeof s.then}function X0(s){return!!s&&"function"==typeof s.subscribe}const ew=X0;function Wy(s,o,l,u){const h=Se(),g=Vt(),_=un();return tw(g,h,h[11],_,s,o,!!l,u),Wy}function zp(s,o){const l=un(),u=Se(),h=Vt();return tw(h,u,Ey(oo(h.data),l,u),l,s,o,!1),zp}function tw(s,o,l,u,h,g,_,w){const x=As(u),M=s.firstCreatePass&&C0(s),P=o[8],H=x0(o);let J=!0;if(3&u.type||w){const $e=ni(u,o),Xe=w?w($e):$e,Ie=H.length,_t=w?Gt=>w(Nn(Gt[u.index])):u.index;if(Tn(l)){let Gt=null;if(!w&&x&&(Gt=function GD(s,o,l,u){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===l&&h[g+1]===u){const w=o[7],x=h[g+2];return w.length>x?w[x]:null}"string"==typeof _&&(g+=2)}return null}(s,o,h,u.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=g,Gt.__ngLastListenerFn__=g,J=!1;else{g=Zy(u,o,P,g,!1);const nn=l.listen(Xe,h,g);H.push(g,nn),M&&M.push(h,_t,Ie,Ie+1)}}else g=Zy(u,o,P,g,!0),Xe.addEventListener(h,g,_),H.push(g),M&&M.push(h,_t,Ie,_)}else g=Zy(u,o,P,g,!1);const me=u.outputs;let Le;if(J&&null!==me&&(Le=me[h])){const $e=Le.length;if($e)for(let Xe=0;Xe<$e;Xe+=2){const ur=o[Le[Xe]][Le[Xe+1]].subscribe(g),Sl=H.length;H.push(g,ur),M&&M.push(h,u.index,Sl,-(Sl+1))}}}function nw(s,o,l,u){try{return!1!==l(u)}catch(h){return _h(s,h),!1}}function Zy(s,o,l,u,h){return function g(_){if(_===Function)return u;const w=2&s.flags?sr(s.index,o):o;0==(32&o[2])&&vy(w);let x=nw(o,0,u,_),I=g.__ngNextListenerFn__;for(;I;)x=nw(o,0,I,_)&&x,I=I.__ngNextListenerFn__;return h&&!1===x&&(_.preventDefault(),_.returnValue=!1),x}}function $D(s=1){return function Lf(s){return(at.lFrame.contextLView=function Bf(s,o){for(;s>0;)o=o[15],s--;return o}(s,at.lFrame.contextLView))[8]}(s)}function Ak(s,o){let l=null;const u=function Gb(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===u?Km(s,g,!0):uh(u,g))return h}else l=h}return l}function zD(s){const o=Se()[16][6];if(!o.projection){const u=o.projection=cl(s?s.length:1,null),h=u.slice();let g=o.child;for(;null!==g;){const _=s?Ak(g,s):0;null!==_&&(h[_]?h[_].projectionNext=g:u[_]=g,h[_]=g),g=g.next}}}function qD(s,o=0,l){const u=Se(),h=Vt(),g=Pu(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),pa(),64!=(64&g.flags)&&function Ub(s,o,l){jb(o[11],0,o,l,$m(s,l,o),WC(l.parent||o[6],l,o))}(h,u,g)}function iw(s,o,l){return qp(s,"",o,"",l),iw}function qp(s,o,l,u,h){const g=Se(),_=$u(g,o,l,u);return _!==St&&Xr(Vt(),On(),g,s,_,g[11],h,!1),qp}function Th(s,o,l,u,h){const g=s[l+1],_=null===o;let w=u?Us(g):Na(g),x=!1;for(;0!==w&&(!1===x||_);){const M=s[w+1];Cl(s[w],o)&&(x=!0,s[w+1]=u?ku(M):Ru(M)),w=u?Us(M):Na(M)}x&&(s[l+1]=u?Ru(g):ku(g))}function Cl(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&fo(s,o)>=0}function Wp(s,o,l){return ys(s,o,l,!1),Wp}function Zp(s,o){return ys(s,o,null,!0),Zp}function ys(s,o,l,u){const h=Se(),g=Vt(),_=function hs(s){const o=at.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);g.firstUpdatePass&&function e_(s,o,l,u){const h=s.data;if(null===h[l+1]){const g=h[Zn()],_=function Kp(s,o){return o>=s.expandoStartIndex}(s,l);(function r_(s,o){return 0!=(s.flags&(o?16:32))})(g,u)&&null===o&&!_&&(o=!1),o=function uw(s,o,l,u){const h=oo(s);let g=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=Yu(l=Qp(null,s,o,l,u),o.attrs,u),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(l=Qp(h,s,o,l,u),null===g){let x=function dw(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==Na(u))return s[Us(u)]}(s,o,u);void 0!==x&&Array.isArray(x)&&(x=Qp(null,s,o,x[1],u),x=Yu(x,o.attrs,u),function t_(s,o,l,u){s[Us(l?o.classBindings:o.styleBindings)]=u}(s,o,u,x))}else g=function Yp(s,o,l){let u;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)u=Yu(u,s[g].hostAttrs,l);return Yu(u,o.attrs,l)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,u),function YD(s,o,l,u,h,g){let _=g?o.classBindings:o.styleBindings,w=Us(_),x=Na(_);s[u]=l;let M,I=!1;if(Array.isArray(l)){const P=l;M=P[1],(null===M||fo(P,M)>0)&&(I=!0)}else M=l;if(h)if(0!==x){const H=Us(s[w+1]);s[u+1]=dh(H,w),0!==H&&(s[H+1]=Jm(s[H+1],u)),s[w+1]=function Qm(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=dh(w,0),0!==w&&(s[w+1]=Jm(s[w+1],u)),w=u;else s[u+1]=dh(x,0),0===w?w=u:s[x+1]=Jm(s[x+1],u),x=u;I&&(s[u+1]=Ru(s[u+1])),Th(s,M,u,!0),Th(s,M,u,!1),function QD(s,o,l,u,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&fo(g,o)>=0&&(l[u+1]=ku(l[u+1]))}(o,M,s,u,g),_=dh(w,x),g?o.classBindings=_:o.styleBindings=_}(h,g,o,l,_,u)}}(g,s,_,u),o!==St&&Br(h,_,o)&&function n_(s,o,l,u,h,g,_,w){if(!(3&o.type))return;const x=s.data,I=x[w+1];i_(function Zb(s){return 1==(1&s)}(I)?nA(x,o,l,h,Na(I),_):void 0)||(i_(g)||function Qr(s){return 2==(2&s)}(I)&&(g=nA(x,null,l,h,w,_)),function Ap(s,o,l,u,h){const g=Tn(s);if(o)h?g?s.addClass(l,u):l.classList.add(u):g?s.removeClass(l,u):l.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:_o.DashCase;if(null==h)g?s.removeStyle(l,u,_):l.style.removeProperty(u);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),_|=_o.Important),g?s.setStyle(l,u,h,_):l.style.setProperty(u,h,w?"important":"")}}}(u,_,Ri(Zn(),l),h,g))}(g,g.data[Zn()],h,h[11],s,h[_+1]=function fw(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ae(Bs(s)))),s}(o,l),u,_)}function Qp(s,o,l,u,h){let g=null;const _=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<_&&(g=o[w],u=Yu(u,g.hostAttrs,h),g!==s);)w++;return null!==s&&(l.directiveStylingLast=w),u}function Yu(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),lr(s,_,!!l||o[++g]))}return void 0===s?null:s}function nA(s,o,l,u,h,g){const _=null===o;let w;for(;h>0;){const x=s[h],I=Array.isArray(x),M=I?x[1]:x,P=null===M;let H=l[h+1];H===St&&(H=P?V:void 0);let J=P?Ko(H,u):M===u?H:void 0;if(I&&!i_(J)&&(J=Ko(x,u)),i_(J)&&(w=J,_))return w;const me=s[h+1];h=_?Us(me):Na(me)}if(null!==o){let x=g?o.residualClasses:o.residualStyles;null!=x&&(w=Ko(x,u))}return w}function i_(s){return void 0!==s}function Jp(s,o=""){const l=Se(),u=Vt(),h=s+20,g=u.firstCreatePass?Pu(u,h,1,o,null):u.data[h],_=l[h]=function wo(s,o){return Tn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);xp(u,l,_,g),ki(g,!1)}function Xp(s,o,l){const u=Se(),h=$u(u,s,o,l);return h!==St&&La(u,Zn(),h),Xp}function Ju(s,o,l){const u=Se();if(Br(u,Fr(),o)){const g=Vt(),_=On();Xr(g,_,u,s,o,Ey(oo(g.data),_,u),l,!0)}return Ju}const qs=void 0;var bA=["en",[["a","p"],["AM","PM"],qs],[["AM","PM"],qs,qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qs,"{1} 'at' {0}",qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kh(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Al={};function Oh(s){const o=function ww(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=a_(o);if(l)return l;const u=o.split("-")[0];if(l=a_(u),l)return l;if("en"===u)return bA;throw new Error(`Missing locale data for the locale "${s}".`)}function lg(s){return Oh(s)[Ct.PluralCase]}function a_(s){return s in Al||(Al[s]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[s]),Al[s]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const Xu="en-US";let Fh=Xu;function tE(s,o,l,u,h){if(s=ne(s),Array.isArray(s))for(let g=0;g<s.length;g++)tE(s[g],o,l,u,h);else{const g=Vt(),_=Se();let w=Hu(s)?s:ne(s.provide),x=xD(s);const I=un(),M=1048575&I.providerIndexes,P=I.directiveStart,H=I.providerIndexes>>20;if(Hu(s)||!s.multi){const J=new Un(x,h,Ah),me=iE(w,o,h?M:M+H,P);-1===me?(co(Ca(I,_),g,w),nE(g,s,o.length),o.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),l.push(J),_.push(J)):(l[me]=J,_[me]=J)}else{const J=iE(w,o,M+H,P),me=iE(w,o,M,M+H),Le=J>=0&&l[J],$e=me>=0&&l[me];if(h&&!$e||!h&&!Le){co(Ca(I,_),g,w);const Xe=function Hk(s,o,l,u,h){const g=new Un(s,l,Ah);return g.multi=[],g.index=o,g.componentProviders=0,zA(g,h,u&&!l),g}(h?qA:jk,l.length,h,u,x);!h&&$e&&(l[me].providerFactory=Xe),nE(g,s,o.length,0),o.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),l.push(Xe),_.push(Xe)}else nE(g,s,J>-1?J:me,zA(l[h?me:J],x,!h&&u));!h&&u&&$e&&l[me].componentProviders++}}}function nE(s,o,l,u){const h=Hu(o),g=function CD(s){return!!s.useClass}(o);if(h||g){const x=(g?ne(o.useClass):o).prototype.ngOnDestroy;if(x){const I=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=I.indexOf(l);-1===M?I.push(l,[u,x]):I[M+1].push(u,x)}else I.push(l,x)}}}function zA(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function iE(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function jk(s,o,l,u){return g_(this.multi,[])}function qA(s,o,l,u){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=or(l,l[1],this.providerFactory.index,u);g=w.slice(0,_),g_(h,g);for(let x=_;x<w.length;x++)g.push(w[x])}else g=[],g_(h,g);return g}function g_(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function WA(s,o=[]){return l=>{l.providersResolver=(u,h)=>function Uk(s,o,l){const u=Vt();if(u.firstCreatePass){const h=Rr(s);tE(l,u.data,u.blueprint,h,!0),tE(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class rE{}class oE{resolveComponentFactory(o){throw function KA(s){const o=Error(`No component factory found for ${ae(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Lh=(()=>{class s{}return s.NULL=new oE,s})();function $k(){return Bh(un(),Se())}function Bh(s,o){return new pg(ni(s,o))}let pg=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=$k,s})();function zk(s){return s instanceof pg?s.nativeElement:s}class YA{}let QA=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function XA(){const s=Se(),l=sr(un().index,s);return function JA(s){return s[11]}(pr(l)?l:s)}(),s})(),eI=(()=>{class s{}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:()=>null}),s})();class aE{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const ja=new aE("13.1.3"),gg={};function mg(s,o,l,u,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&u.push(Nn(g)),zr(g))for(let w=10;w<g.length;w++){const x=g[w],I=x[1].firstChild;null!==I&&mg(x[1],x,I,u)}const _=l.type;if(8&_)mg(s,o,l.child,u);else if(32&_){const w=Cu(l,o);let x;for(;x=w();)u.push(x)}else if(16&_){const w=Cp(o,l);if(Array.isArray(w))u.push(...w);else{const x=vo(o[16]);mg(x[1],x,w,u,!0)}}l=h?l.projectionNext:l.next}return u}class Vh{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return mg(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(zr(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(mp(o,u),ll(l,u))}this._attachedToViewContainer=!1}yp(this._lView[1],this._lView)}onDestroy(o){c0(this._lView[1],this._lView,null,o)}markForCheck(){vy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function E0(s,o,l){Uo(!0);try{Fp(s,o,l)}finally{Uo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function PR(s,o){ah(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=o}}class tI extends Vh{constructor(o){super(o),this._view=o}detectChanges(){yD(this._view)}checkNoChanges(){!function _D(s){Uo(!0);try{yD(s)}finally{Uo(!1)}}(this._view)}get context(){return null}}class m_ extends Lh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=et(o);return new y_(l,this.ngModule)}}function sd(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const lE=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>GC});class y_ extends rE{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function zb(s){return s.map(Ym).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return sd(this.componentDef.inputs)}get outputs(){return sd(this.componentDef.outputs)}create(o,l,u,h){const g=(h=h||this.ngModule)?function iI(s,o){return{get:(l,u,h)=>{const g=s.get(l,gg,h);return g!==gg||u===gg?g:o.get(l,u,h)}}}(o,h.injector):o,_=g.get(YA,Ts),w=g.get(eI,null),x=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=u?function l0(s,o,l){if(Tn(s))return s.selectRootElement(o,l===Pt.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(x,u,this.componentDef.encapsulation):wc(_.createRenderer(null,this.componentDef),I,function nI(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(I)),P=this.componentDef.onPush?576:528,H=function Sy(s,o){return{components:[],scheduler:s||GC,clean:bD,playerHandler:o||null,flags:0}}(),J=Vu(0,null,null,1,0,null,null,null,null,null),me=Fu(null,J,H,P,null,null,_,x,w,g);let Le,$e;_a(me);try{const Xe=function O0(s,o,l,u,h,g){const _=l[1];l[20]=s;const x=Pu(_,20,2,"#host",null),I=x.mergedAttrs=o.hostAttrs;null!==I&&(vh(x,I,!0),null!==s&&(tc(h,s,I),null!==x.classes&&Su(h,s,x.classes),null!==x.styles&&lh(h,s,x.styles)));const M=u.createRenderer(s,o),P=Fu(l,Bu(o),null,o.onPush?64:16,l[20],x,u,M,g||null,null);return _.firstCreatePass&&(co(Ca(x,l),_,o.type),my(_,x),yy(x,l.length,1)),yh(l,P),l[20]=P}(M,this.componentDef,me,_,x);if(M)if(u)tc(x,M,["ng-version",ja.full]);else{const{attrs:Ie,classes:_t}=function Ip(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++u]):8===h&&l.push(g);else{if(!Vs(h))break;h=g}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Ie&&tc(x,M,Ie),_t&&_t.length>0&&Su(x,M,_t.join(" "))}if($e=ha(J,20),void 0!==l){const Ie=$e.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const Gt=l[_t];Ie.push(null!=Gt?Array.from(Gt):null)}}Le=function Bp(s,o,l,u,h){const g=l[1],_=function f0(s,o,l){const u=un();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),m0(s,u,o,Nu(s,o,1,null),l));const h=or(o,s,u.directiveStart,u);Ni(h,o);const g=ni(u,o);return g&&Ni(g,o),h}(g,l,o);if(u.components.push(_),s[8]=_,h&&h.forEach(x=>x(_,o)),o.contentQueries){const x=un();o.contentQueries(1,_,x.directiveStart)}const w=un();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(pi(w.index),py(l[1],w,0,w.directiveStart,w.directiveEnd,o),p0(o,_)),_}(Xe,this.componentDef,me,H,[F0]),ph(J,me,null)}finally{Ho()}return new __(this.componentType,Le,Bh($e,me),me,$e)}}class __ extends class ZA{}{constructor(o,l,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new tI(h),this.componentType=o}get injector(){return new He(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class kc{}class cE{}const Uh=new Map;class rI extends kc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new m_(this);const u=$t(o);this._bootstrapComponents=Lr(u.bootstrap),this._r3Injector=I0(o,l,[{provide:kc,useValue:this},{provide:Lh,useValue:this.componentFactoryResolver}],ae(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=xo.THROW_IF_NOT_FOUND,u=gt.Default){return o===xo||o===kc||o===Cy?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class v_ extends cE{constructor(o){super(),this.moduleType=o,null!==$t(o)&&function _g(s){const o=new Set;!function l(u){const h=$t(u,!0),g=h.id;null!==g&&(function uE(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ae(o)} vs ${ae(o.name)}`)}(g,Uh.get(g),u),Uh.set(g,u));const _=Lr(h.imports);for(const w of _)o.has(w)||(o.add(w),l(w))}(s)}(o)}create(o){return new rI(this.moduleType,o)}}function _E(s){return o=>{setTimeout(s,void 0,o)}}const Ha=class lI extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var h,g,_;let w=o,x=l||(()=>null),I=u;if(o&&"object"==typeof o){const P=o;w=null===(h=P.next)||void 0===h?void 0:h.bind(P),x=null===(g=P.error)||void 0===g?void 0:g.bind(P),I=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(x=_E(x),w&&(w=_E(w)),I&&(I=_E(I)));const M=super.subscribe({next:w,error:x,complete:I});return o instanceof L.w0&&o.add(M),M}};function lO(){return this._results[xh()]()}class w_{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=xh(),u=w_.prototype;u[l]||(u[l]=lO)}get changes(){return this._changes||(this._changes=new Ha)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=ar(o);(this._changesDetected=!function $f(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],g=o[u];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let bg=(()=>{class s{}return s.__NG_ELEMENT_ID__=dO,s})();const cO=bg,uO=class extends cO{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=Fu(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(l)),ph(l,u,o),new Vh(u)}};function dO(){return E_(un(),Se())}function E_(s,o){return 4&s.type?new uO(o,s,Bh(s,o)):null}let Hh=(()=>{class s{}return s.__NG_ELEMENT_ID__=hO,s})();function hO(){return EE(un(),Se())}const fO=Hh,vE=class extends fO{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Bh(this._hostTNode,this._hostLView)}get injector(){return new He(this._hostTNode,this._hostLView)}get parentInjector(){const o=yr(this._hostTNode,this._hostLView);if(qo(o)){const l=Wo(o,this._hostLView),u=nl(o);return new He(l[1].data[u+8],l)}return new He(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=bE(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const h=o.createEmbeddedView(l||{});return this.insert(h,u),h}createComponent(o,l,u,h,g){const _=o&&!function al(s){return"function"==typeof s}(o);let w;if(_)w=l;else{const P=l||{};w=P.index,u=P.injector,h=P.projectableNodes,g=P.ngModuleRef}const x=_?o:new y_(et(o)),I=u||this.parentInjector;if(!g&&null==x.ngModule&&I){const P=I.get(kc,null);P&&(g=P)}const M=x.create(I,h,void 0,g);return this.insert(M.hostView,w),M}insert(o,l){const u=o._lView,h=u[1];if(function Bo(s){return zr(s[3])}(u)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const P=u[3],H=new vE(P,P[6],P[3]);H.detach(H.indexOf(o))}}const g=this._adjustIndex(l),_=this._lContainer;!function LR(s,o,l,u){const h=10+u,g=l.length;u>0&&(l[h-1][4]=o),u<g-10?(o[4]=l[h],mu(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const _=o[17];null!==_&&l!==_&&function Nb(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,u,_,g);const w=Dp(g,_),x=u[11],I=Iu(x,_[7]);return null!==I&&function FR(s,o,l,u,h,g){u[0]=h,u[6]=o,ah(s,u,l,1,h,g)}(h,_[6],x,u,I,w),o.attachToViewContainerRef(),mu(wE(_),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=bE(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=mp(this._lContainer,l);u&&(ll(wE(this._lContainer),l),yp(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=mp(this._lContainer,l);return u&&null!=ll(wE(this._lContainer),l)?new Vh(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function bE(s){return s[8]}function wE(s){return s[8]||(s[8]=[])}function EE(s,o){let l;const u=o[s.index];if(zr(u))l=u;else{let h;if(8&s.type)h=Nn(u);else{const g=o[11];h=g.createComment("");const _=ni(s,o);Pa(g,Iu(g,_),h,function Bb(s,o){return Tn(s)?s.nextSibling(o):o.nextSibling}(g,_),!1)}o[s.index]=l=v0(u,o,h,s),yh(o,l)}return new vE(l,s,o)}class xE{constructor(o){this.queryList=o,this.matches=null}clone(){return new xE(this.queryList)}setDirty(){this.queryList.setDirty()}}class x_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<u;g++){const _=l.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new x_(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==DE(o,l).matches&&this.queries[l].setDirty()}}class C_{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class wg{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(o,h);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new wg(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class D_{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new D_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(o,l,cI(l,g)),this.matchTNodeWithReadOption(o,l,zt(l,o,g,!1,!1))}else u===bg?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,zt(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===pg||h===Hh||h===bg&&4&l.type)this.addMatch(l.index,-2);else{const g=zt(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function cI(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function dI(s,o,l,u){return-1===l?function uI(s,o){return 11&s.type?Bh(s,o):4&s.type?E_(s,o):null}(o,s):-2===l?function hI(s,o,l){return l===pg?Bh(o,s):l===bg?E_(o,s):l===Hh?EE(o,s):void 0}(s,o,u):or(s,s[1],l,o)}function CE(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const g=s.data,_=l.matches,w=[];for(let x=0;x<_.length;x+=2){const I=_[x];w.push(I<0?null:dI(o,g[I],_[x+1],l.metadata.read))}h.matches=w}return h.matches}function A_(s,o,l,u){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const _=CE(s,o,h,l);for(let w=0;w<g.length;w+=2){const x=g[w];if(x>0)u.push(_[w/2]);else{const I=g[w+1],M=o[-x];for(let P=10;P<M.length;P++){const H=M[P];H[17]===H[3]&&A_(H[1],H,I,u)}if(null!==M[9]){const P=M[9];for(let H=0;H<P.length;H++){const J=P[H];A_(J[1],J,I,u)}}}}}return u}function fI(s){const o=Se(),l=Vt(),u=Zl();ao(u+1);const h=DE(l,u);if(s.dirty&&Sn(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?A_(l,o,u,[]):CE(l,o,h,u);s.reset(g,zk),s.notifyOnChanges()}return!0}return!1}function pI(s,o,l){const u=Vt();u.firstCreatePass&&(_I(u,new C_(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),yI(u,Se(),o)}function gI(s,o,l,u){const h=Vt();if(h.firstCreatePass){const g=un();_I(h,new C_(o,l,u),g.index),function vI(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}yI(h,Se(),l)}function mI(){return function yO(s,o){return s[19].queries[o].queryList}(Se(),Zl())}function yI(s,o,l){const u=new w_(4==(4&l));c0(s,o,u,u.destroy),null===o[19]&&(o[19]=new x_),o[19].queries.push(new xE(u))}function _I(s,o,l){null===s.queries&&(s.queries=new wg),s.queries.track(new D_(o,l))}function DE(s,o){return s.queries.getByIndex(o)}function O_(...s){}const kE=new pn("Application Initializer");let zh=(()=>{class s{constructor(l){this.appInits=l,this.resolve=O_,this.reject=O_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(qy(g))l.push(g);else if(ew(g)){const _=new Promise((w,x)=>{g.subscribe({complete:w,error:x})});l.push(_)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(K(kE,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const VI=new pn("AppId"),FE={provide:VI,useFactory:function OE(){return`${F_()}${F_()}${F_()}`},deps:[]};function F_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PE=new pn("Platform Initializer"),P_=new pn("Platform ID"),NE=new pn("appBootstrapListener");let N_=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const xg=new pn("LocaleId"),LE=new pn("DefaultCurrencyCode");class L_{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let B_=(()=>{class s{compileModuleSync(l){return new v_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),g=Lr($t(l).declarations).reduce((_,w)=>{const x=et(w);return x&&_.push(new y_(x)),_},[]);return new L_(u,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const jI=(()=>Promise.resolve(0))();function be(s){"undefined"==typeof Zone?jI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class br{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ha(!1),this.onMicrotaskEmpty=new Ha(!1),this.onStable=new Ha(!1),this.onError=new Ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Oc(){let s=wt.requestAnimationFrame,o=wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ga(s){const o=()=>{!function HI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(wt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,nt(s),s.isCheckStableRunning=!0,jt(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),nt(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,g,_,w)=>{try{return Cg(s),l.invokeTask(h,g,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Ot(s)}},onInvoke:(l,u,h,g,_,w,x)=>{try{return Cg(s),l.invoke(h,g,_,w,x)}finally{s.shouldCoalesceRunChangeDetection&&o(),Ot(s)}},onHasTask:(l,u,h,g)=>{l.hasTask(h,g),u===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,nt(s),jt(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!br.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(br.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,Il,O_,O_);try{return g.runTask(_,l,u)}finally{g.cancelTask(_)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const Il={};function jt(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function nt(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Cg(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ot(s){s._nesting--,jt(s)}class Dg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ha,this.onMicrotaskEmpty=new Ha,this.onStable=new Ha,this.onError=new Ha}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}let Ag=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{br.assertNotInAngularZone(),be(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())be(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(K(br))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})(),ad=(()=>{class s{constructor(){this._applications=new Map,U_.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return U_.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();class GI{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function V_(s){U_=s}let Ao,U_=new GI;const $i=new pn("AllowMultipleToken");class Tl{constructor(o,l){this.name=o,this.token=l}}function BE(s,o,l=[]){const u=`Platform: ${o}`,h=new pn(u);return(g=[])=>{let _=UE();if(!_||_.injector.get($i,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const w=l.concat(g).concat({provide:h,useValue:!0},{provide:Dy,useValue:"platform"});!function zI(s){if(Ao&&!Ao.destroyed&&!Ao.injector.get($i,!1))throw new Me(400,"");Ao=s.get(j_);const o=s.get(PE,null);o&&o.forEach(l=>l())}(xo.create({providers:w,name:u}))}return function VE(s){const o=UE();if(!o)throw new Me(401,"");return o}()}}function UE(){return Ao&&!Ao.destroyed?Ao:null}let j_=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const w=function H_(s,o){let l;return l="noop"===s?new Dg:("zone.js"===s?void 0:s)||new br({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),x=[{provide:br,useValue:w}];return w.run(()=>{const I=xo.create({providers:x,parent:this.injector,name:l.moduleType.name}),M=l.create(I),P=M.injector.get(fp,null);if(!P)throw new Me(402,"");return w.runOutsideAngular(()=>{const H=w.onError.subscribe({next:J=>{P.handleError(J)}});M.onDestroy(()=>{Wh(this._modules,M),H.unsubscribe()})}),function Tg(s,o,l){try{const u=l();return qy(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(P,w,()=>{const H=M.injector.get(zh);return H.runInitializers(),H.donePromise.then(()=>(function Dw(s){ct(s,"Expected localeId to be defined"),"string"==typeof s&&(Fh=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(xg,Xu)||Xu),this._moduleDoBootstrap(M),M))})})}bootstrapModule(l,u=[]){const h=G_({},u);return function $I(s,o,l){const u=new v_(l);return Promise.resolve(u)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const u=l.injector.get(Vi);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Me(403,"");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(K(xo))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function G_(s,o){return Array.isArray(o)?o.reduce(G_,s):Object.assign(Object.assign({},s),o)}let Vi=(()=>{class s{constructor(l,u,h,g,_){this._zone=l,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),x=new O.y(I=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{br.assertNotInAngularZone(),be(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{br.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{M.unsubscribe(),P.unsubscribe()}});this.isStable=(0,re.T)(w,x.pipe((0,oe.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Me(405,"");let h;h=l instanceof rE?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function Ig(s){return s.isBoundToModule}(h)?void 0:this._injector.get(kc),w=h.create(xo.NULL,[],u||h.selector,g),x=w.location.nativeElement,I=w.injector.get(Ag,null),M=I&&w.injector.get(ad);return I&&M&&M.registerApplication(x,I),w.onDestroy(()=>{this.detachView(w.hostView),Wh(this.components,w),M&&M.unregisterApplication(x)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Wh(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(NE,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(K(br),K(xo),K(fp),K(Lh),K(zh))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function Wh(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let $_=!0,Sg=!1;function HE(){return Sg=!0,$_}function GE(){if(Sg)throw new Error("Cannot enable prod mode after platform setup.");$_=!1}let ZI=(()=>{class s{}return s.__NG_ELEMENT_ID__=ld,s})();function ld(s){return function qE(s,o,l){if(Vl(s)&&!l){const u=sr(s.index,o);return new Vh(u,u)}return 47&s.type?new Vh(o[16],o):null}(un(),Se(),16==(16&s))}class ev{constructor(){}supports(o){return Vp(o)}create(o){return new JI(o)}}const ex=(s,o)=>o;class JI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ex}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,g=null;for(;l||u;){const _=!u||l&&l.currentIndex<tv(u,h,g)?l:u,w=tv(_,h,g),x=_.currentIndex;if(_===u)h--,u=u._nextRemoved;else if(l=l._next,null==_.previousIndex)h++;else{g||(g=[]);const I=w-h,M=x-h;if(I!=M){for(let H=0;H<I;H++){const J=H<g.length?g[H]:g[H]=0,me=J+H;M<=me&&me<I&&(g[H]=J+1)}g[_.previousIndex]=M-I}}w!==x&&o(_,w,x)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Vp(o))throw new Me(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],_=this._trackByFn(w,g),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,g,_,w)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,_,w),u=!0),l=l._next}else h=0,function hk(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[xh()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,w=>{_=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,w,_,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,_,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new tx(l,u),g,h),o}_verifyReinsertion(o,l,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Mg),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mg),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class tx{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nx{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class Mg{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new nx,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tv(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class ix{constructor(){}supports(o){return o instanceof Map||L0(o)}create(){return new nv}}class nv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||L0(o)))throw new Me(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const u=new iv(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class iv{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rg(){return new yi([new ev])}let yi=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Rg()),deps:[[s,new po,new Dn]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new Me(901,"")}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:Rg}),s})();function Zh(){return new dd([new ix])}let dd=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Zh()),deps:[[s,new po,new Dn]]}}find(l){const u=this.factories.find(g=>g.supports(l));if(u)return u;throw new Me(901,"")}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:Zh}),s})();const XI=[new ix],rx=new yi([new ev]),tT=new dd(XI),rv=BE(null,"core",[{provide:P_,useValue:"unknown"},{provide:j_,deps:[xo]},{provide:ad,deps:[]},{provide:N_,deps:[]}]),iT=[{provide:Vi,useClass:Vi,deps:[br,xo,fp,Lh,zh]},{provide:lE,deps:[br],useFactory:function kg(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:zh,useClass:zh,deps:[[new Dn,kE]]},{provide:B_,useClass:B_,deps:[]},FE,{provide:yi,useFactory:function sv(){return rx},deps:[]},{provide:dd,useFactory:function nT(){return tT},deps:[]},{provide:xg,useFactory:function ov(s){return s||function sx(){return"undefined"!=typeof $localize&&$localize.locale||Xu}()},deps:[[new Pi(xg),new Dn,new po]]},{provide:LE,useValue:"USD"}];let av=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(K(Vi))},s.\u0275mod=se({type:s}),s.\u0275inj=Ji({providers:iT}),s})()},3942:(lt,De,F)=>{"use strict";F.d(De,{Z:()=>Me});var c=F(2090),L=F(4859),O=F(9681),re=F(1877);class oe{constructor(Y,ie){this._delegate=Y,this.firebase=ie,(0,O._addComponent)(Y,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=Y.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this._delegate.automaticDataCollectionEnabled=Y}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Y=>{this._delegate.checkDestroyed(),Y()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Y,ie=O._DEFAULT_ENTRY_NAME){var pe;this._delegate.checkDestroyed();const Ce=this._delegate.container.getProvider(Y);return!Ce.isInitialized()&&"EXPLICIT"===(null===(pe=Ce.getComponent())||void 0===pe?void 0:pe.instantiationMode)&&Ce.initialize(),Ce.getImmediate({identifier:ie})}_removeServiceInstance(Y,ie=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Y).clearInstance(ie)}_addComponent(Y){(0,O._addComponent)(this._delegate,Y)}_addOrOverwriteComponent(Y){(0,O._addOrOverwriteComponent)(this._delegate,Y)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function le(){const Be=function ae(Be){const Y={},ie={__esModule:!0,initializeApp:function we(Ze,ft={}){const X=O.initializeApp(Ze,ft);if((0,c.r3)(Y,X.name))return Y[X.name];const ge=new Be(X,ie);return Y[X.name]=ge,ge},app:Ce,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Ze){const ft=Ze.name,X=ft.replace("-compat","");if(O._registerComponent(Ze)&&"PUBLIC"===Ze.type){const ge=(ye=Ce())=>{if("function"!=typeof ye[X])throw te.create("invalid-app-argument",{appName:ft});return ye[X]()};void 0!==Ze.serviceProps&&(0,c.ZB)(ge,Ze.serviceProps),ie[X]=ge,Be.prototype[X]=function(...ye){return this._getService.bind(this,ft).apply(this,Ze.multipleInstances?ye:[])}}return"PUBLIC"===Ze.type?ie[X]:null},removeApp:function pe(Ze){delete Y[Ze]},useAsService:function rt(Ze,ft){return"serverAuth"===ft?null:ft},modularAPIs:O}};function Ce(Ze){if(!(0,c.r3)(Y,Ze=Ze||O._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:Ze});return Y[Ze]}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function Ge(){return Object.keys(Y).map(Ze=>Y[Ze])}}),Ce.App=Be,ie}(oe);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function Y(ie){(0,c.ZB)(Be,ie)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Be}(),U=new re.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=j;!function Te(Be){(0,O.registerVersion)("@firebase/app-compat","0.1.16",Be)}()},9681:(lt,De,F)=>{"use strict";F.r(De),F.d(De,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Xi,_DEFAULT_ENTRY_NAME:()=>Gn,_addComponent:()=>ln,_addOrOverwriteComponent:()=>bi,_apps:()=>dt,_clearComponents:()=>mn,_components:()=>ci,_getProvider:()=>Ui,_registerComponent:()=>Yt,_removeServiceInstance:()=>Ji,deleteApp:()=>$n,getApp:()=>Pe,getApps:()=>yn,initializeApp:()=>er,onLog:()=>Ln,registerVersion:()=>En,setLogLevel:()=>Zt});var c=F(5861),L=F(4859),O=F(1877),re=F(2090);class oe{constructor(ot){this.container=ot}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function fe(bt){const ot=bt.getComponent();return"VERSION"===(null==ot?void 0:ot.type)}(Mt)){const sn=Mt.getImmediate();return`${sn.library}/${sn.version}`}return null}).filter(Mt=>Mt).join(" ")}}const te="@firebase/app",le=new O.Yd("@firebase/app"),Gn="[DEFAULT]",ct={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,ci=new Map;function ln(bt,ot){try{bt.container.addComponent(ot)}catch(Mt){le.debug(`Component ${ot.name} failed to register with FirebaseApp ${bt.name}`,Mt)}}function bi(bt,ot){bt.container.addOrOverwriteComponent(ot)}function Yt(bt){const ot=bt.name;if(ci.has(ot))return le.debug(`There were multiple attempts to register component ${ot}.`),!1;ci.set(ot,bt);for(const Mt of dt.values())ln(Mt,bt);return!0}function Ui(bt,ot){return bt.container.getProvider(ot)}function Ji(bt,ot,Mt=Gn){Ui(bt,ot).clearInstance(Mt)}function mn(){ci.clear()}const Qt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class rs{constructor(ot,Mt,sn){this._isDeleted=!1,this._options=Object.assign({},ot),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=sn,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this.checkDestroyed(),this._automaticDataCollectionEnabled=ot}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ot){this._isDeleted=ot}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Xi="9.6.5";function er(bt,ot={}){"object"!=typeof ot&&(ot={name:ot});const Mt=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},ot),sn=Mt.name;if("string"!=typeof sn||!sn)throw Qt.create("bad-app-name",{appName:String(sn)});const zn=dt.get(sn);if(zn){if((0,re.vZ)(bt,zn.options)&&(0,re.vZ)(Mt,zn.config))return zn;throw Qt.create("duplicate-app",{appName:sn})}const Pt=new L.H0(sn);for(const it of ci.values())Pt.addComponent(it);const st=new rs(bt,Mt,Pt);return dt.set(sn,st),st}function Pe(bt=Gn){const ot=dt.get(bt);if(!ot)throw Qt.create("no-app",{appName:bt});return ot}function yn(){return Array.from(dt.values())}function $n(bt){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(bt){const ot=bt.name;dt.has(ot)&&(dt.delete(ot),yield Promise.all(bt.container.getProviders().map(Mt=>Mt.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function En(bt,ot,Mt){var sn;let zn=null!==(sn=ct[bt])&&void 0!==sn?sn:bt;Mt&&(zn+=`-${Mt}`);const Pt=zn.match(/\s|\//),st=ot.match(/\s|\//);if(Pt||st){const it=[`Unable to register library "${zn}" with version "${ot}":`];return Pt&&it.push(`library name "${zn}" contains illegal characters (whitespace or "/")`),Pt&&st&&it.push("and"),st&&it.push(`version name "${ot}" contains illegal characters (whitespace or "/")`),void le.warn(it.join(" "))}Yt(new L.wA(`${zn}-version`,()=>({library:zn,version:ot}),"VERSION"))}function Ln(bt,ot){if(null!==bt&&"function"!=typeof bt)throw Qt.create("invalid-log-argument");(0,O.Am)(bt,ot)}function Zt(bt){(0,O.Ub)(bt)}!function ui(bt){Yt(new L.wA("platform-logger",ot=>new oe(ot),"PRIVATE")),En(te,"0.7.15",bt),En(te,"0.7.15","esm2017"),En("fire-js","")}("")},4859:(lt,De,F)=>{"use strict";F.d(De,{wA:()=>O,H0:()=>ae});var c=F(5861),L=F(2090);class O{constructor(j,U,ne){this.name=j,this.instanceFactory=U,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const re="[DEFAULT]";class oe{constructor(j,U){this.name=j,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const U=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(U)){const ne=new L.BH;if(this.instancesDeferred.set(U,ne),this.isInitialized(U)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:U});Ve&&ne.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get(U).promise}getImmediate(j){var U;const ne=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Ve=null!==(U=null==j?void 0:j.optional)&&void 0!==U&&U;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Te){if(Ve)return null;throw Te}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function te(le){return"EAGER"===le.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:re})}catch(U){}for(const[U,ne]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(U);try{const Te=this.getOrInitializeService({instanceIdentifier:Ve});ne.resolve(Te)}catch(Te){}}}}clearInstance(j=re){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,c.Z)(function*(){const U=Array.from(j.instances.values());yield Promise.all([...U.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...U.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=re){return this.instances.has(j)}getOptions(j=re){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:U={}}=j,ne=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:ne,options:U});for(const[Te,Me]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Te)&&Me.resolve(Ve);return Ve}onInit(j,U){var ne;const Ve=this.normalizeInstanceIdentifier(U),Te=null!==(ne=this.onInitCallbacks.get(Ve))&&void 0!==ne?ne:new Set;Te.add(j),this.onInitCallbacks.set(Ve,Te);const Me=this.instances.get(Ve);return Me&&j(Me,Ve),()=>{Te.delete(j)}}invokeOnInitCallbacks(j,U){const ne=this.onInitCallbacks.get(U);if(ne)for(const Ve of ne)try{Ve(j,U)}catch(Te){}}getOrInitializeService({instanceIdentifier:j,options:U={}}){let ne=this.instances.get(j);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(le=j,le===re?void 0:le),options:U}),this.instances.set(j,ne),this.instancesOptions.set(j,U),this.invokeOnInitCallbacks(ne,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,ne)}catch(Ve){}var le;return ne||null}normalizeInstanceIdentifier(j=re){return this.component?this.component.multipleInstances?j:re:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const U=this.getProvider(j.name);if(U.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);U.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const U=new oe(j,this);return this.providers.set(j,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,De,F)=>{"use strict";F.d(De,{in:()=>L,Yd:()=>te,Ub:()=>ae,Am:()=>le});const c=[];var L=(()=>{return(j=L||(L={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",L;var j})();const O={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},re=L.INFO,oe={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},fe=(j,U,...ne)=>{if(U<j.logLevel)return;const Ve=(new Date).toISOString(),Te=oe[U];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Te](`[${Ve}]  ${j.name}:`,...ne)};class te{constructor(U){this.name=U,this._logLevel=re,this._logHandler=fe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in L))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?O[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...U),this._logHandler(this,L.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...U),this._logHandler(this,L.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,L.INFO,...U),this._logHandler(this,L.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,L.WARN,...U),this._logHandler(this,L.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...U),this._logHandler(this,L.ERROR,...U)}}function ae(j){c.forEach(U=>{U.setLogLevel(j)})}function le(j,U){for(const ne of c){let Ve=null;U&&U.level&&(Ve=O[U.level]),ne.userLogHandler=null===j?null:(Te,Me,...Be)=>{const Y=Be.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch(pe){return null}}).filter(ie=>ie).join(" ");Me>=(null!=Ve?Ve:Te.logLevel)&&j({level:L[Me].toLowerCase(),message:Y,args:Be,type:Te.name})}}}},5861:(lt,De,F)=>{"use strict";function c(O,re,oe,fe,te,ae,le){try{var j=O[ae](le),U=j.value}catch(ne){return void oe(ne)}j.done?re(U):Promise.resolve(U).then(fe,te)}function L(O){return function(){var re=this,oe=arguments;return new Promise(function(fe,te){var ae=O.apply(re,oe);function le(U){c(ae,fe,te,le,j,"next",U)}function j(U){c(ae,fe,te,le,j,"throw",U)}le(void 0)})}}F.d(De,{Z:()=>L})}},lt=>{lt(lt.s=1506)}]);